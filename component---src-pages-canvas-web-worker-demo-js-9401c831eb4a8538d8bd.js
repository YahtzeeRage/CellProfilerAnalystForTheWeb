(self.webpackChunkgatsby_test=self.webpackChunkgatsby_test||[]).push([[276],{83332:function(e,t,r){"use strict";var n=r(81253),o=r(22122),a=r(67294),i=r(85505),c=r(20638),s=r(37595),l=r(67055),u=r(81664),d=a.forwardRef((function(e,t){var r=e.children,c=e.classes,s=e.className,d=e.color,p=void 0===d?"default":d,f=e.component,m=void 0===f?"button":f,b=e.disabled,h=void 0!==b&&b,g=e.disableElevation,v=void 0!==g&&g,y=e.disableFocusRipple,x=void 0!==y&&y,k=e.endIcon,S=e.focusVisibleClassName,w=e.fullWidth,C=void 0!==w&&w,z=e.size,E=void 0===z?"medium":z,Z=e.startIcon,N=e.type,R=void 0===N?"button":N,I=e.variant,L=void 0===I?"text":I,O=(0,n.Z)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),D=Z&&a.createElement("span",{className:(0,i.Z)(c.startIcon,c["iconSize".concat((0,u.Z)(E))])},Z),U=k&&a.createElement("span",{className:(0,i.Z)(c.endIcon,c["iconSize".concat((0,u.Z)(E))])},k);return a.createElement(l.Z,(0,o.Z)({className:(0,i.Z)(c.root,c[L],s,"inherit"===p?c.colorInherit:"default"!==p&&c["".concat(L).concat((0,u.Z)(p))],"medium"!==E&&[c["".concat(L,"Size").concat((0,u.Z)(E))],c["size".concat((0,u.Z)(E))]],v&&c.disableElevation,h&&c.disabled,C&&c.fullWidth),component:m,disabled:h,focusRipple:!x,focusVisibleClassName:(0,i.Z)(c.focusVisible,S),ref:t,type:R},O),a.createElement("span",{className:c.label},D,r,U))}));t.Z=(0,c.Z)((function(e){return{root:(0,o.Z)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:(0,s.U1)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,s.U1)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,s.U1)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat((0,s.U1)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:(0,s.U1)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat((0,s.U1)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:(0,s.U1)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(d)},27136:function(e,t,r){"use strict";var n=r(22122),o=r(81253),a=r(67294),i=r(85505),c=r(20638),s=r(81664),l=44,u=a.forwardRef((function(e,t){var r=e.classes,c=e.className,u=e.color,d=void 0===u?"primary":u,p=e.disableShrink,f=void 0!==p&&p,m=e.size,b=void 0===m?40:m,h=e.style,g=e.thickness,v=void 0===g?3.6:g,y=e.value,x=void 0===y?0:y,k=e.variant,S=void 0===k?"indeterminate":k,w=(0,o.Z)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),C={},z={},E={};if("determinate"===S||"static"===S){var Z=2*Math.PI*((l-v)/2);C.strokeDasharray=Z.toFixed(3),E["aria-valuenow"]=Math.round(x),C.strokeDashoffset="".concat(((100-x)/100*Z).toFixed(3),"px"),z.transform="rotate(-90deg)"}return a.createElement("div",(0,n.Z)({className:(0,i.Z)(r.root,c,"inherit"!==d&&r["color".concat((0,s.Z)(d))],{determinate:r.determinate,indeterminate:r.indeterminate,static:r.static}[S]),style:(0,n.Z)({width:b,height:b},z,h),ref:t,role:"progressbar"},E,w),a.createElement("svg",{className:r.svg,viewBox:"".concat(22," ").concat(22," ").concat(l," ").concat(l)},a.createElement("circle",{className:(0,i.Z)(r.circle,f&&r.circleDisableShrink,{determinate:r.circleDeterminate,indeterminate:r.circleIndeterminate,static:r.circleStatic}[S]),style:C,cx:l,cy:l,r:(l-v)/2,fill:"none",strokeWidth:v})))}));t.Z=(0,c.Z)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},determinate:{transition:e.transitions.create("transform")},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},circleDeterminate:{transition:e.transitions.create("stroke-dashoffset")},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(u)},9789:function(e,t,r){"use strict";var n;r.d(t,{Z:function(){return d}});var o=new Uint8Array(16);function a(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(o)}var i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var c=function(e){return"string"==typeof e&&i.test(e)},s=[],l=0;l<256;++l)s.push((l+256).toString(16).substr(1));var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!c(r))throw TypeError("Stringified UUID is invalid");return r};var d=function(e,t,r){var n=(e=e||{}).random||(e.rng||a)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=n[o];return t}return u(n)}},79953:function(e,t,r){"use strict";r.r(t);var n=r(92137),o=r(87757),a=r.n(o),i=r(67294),c=r(83332),s=r(27136),l=(r(98910),r(37107),r(74243),r(9789));t.default=function(){var e=i.useState(!1),t=e[0],r=e[1],o=i.useState(null),u=o[0],d=o[1],p=i.useState(null),f=p[0],m=p[1],b=i.useState(void 0),h=b[0],g=b[1],v=i.useState(null),y=v[0],x=v[1],k=i.useState({ImageNumber:1,ObjectNumber:1}),S=k[0],w=k[1];i.useEffect((function(){var e=new MessageChannel,t=new Worker("../canvasWorker.js");t.addEventListener("error",(function(e){console.log("[canvasWebWorker] Error",e.message,e)})),t.postMessage({action:"connectToDataWorker"},[e.port1]),d(t);var r=new Worker("../dataWorker.js");r.addEventListener("error",(function(e){console.log("[dataWebWorker] Error",e.message,e)})),r.postMessage({action:"connectToCanvasWorker"},[e.port2]),m(r)}),[]);var C=function(e,t){console.log("workerPortActionPromise enter");var r=(0,l.Z)();return new Promise((function(n){u.addEventListener("message",(function e(t){t.data.uuid===r&&(u.removeEventListener("message",e),n(t))})),u.postMessage(Object.assign({action:e},t,{uuid:r}))}))},z=function(){var e=(0,n.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C("test",{fileListObject:y}).then((function(e){console.log(URL.createObjectURL(e.data.blob)),g(URL.createObjectURL(e.data.blob))})),C("get",{getType:"blobUrlsFromCellPairs",getArgs:{cellPairs:[S]}}).then((function(e){console.log(e),g(e.data.blobUrls[0])}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(e){var t,n,o,a;(t=f,n="init",o={fileListObject:e.target.files},a=(0,l.Z)(),new Promise((function(e){t.addEventListener("message",(function(t){t.data.uuid===a&&e(t)}),{once:!0}),t.postMessage(Object.assign({action:n},o,{uuid:a}))}))).then((function(){r(!0)})),x(e.target.files)};return i.createElement("div",{style:{resize:"horizontal"}},i.createElement(c.Z,{disabled:!t,onClick:z},"test offscreen canvas"),i.createElement("img",{width:100,height:100,src:h}),i.createElement(c.Z,{endIcon:i.createElement(s.Z,null),variant:"contained",component:"label",onClick:function(){return console.log("Upload!")}},"Upload",i.createElement("input",{type:"file",hidden:!0,webkitdirectory:"true",mozdirectory:"true",msdirectory:"true",odirectory:"true",directory:"true",multiple:!0,onChange:function(e){E(e)}})),i.createElement("p",null,"ObjectNumber"),i.createElement("input",{type:"number",onInput:function(e){return w({ObjectNumber:e.target.valueAsNumber,ImageNumber:S.ImageNumber})}}),i.createElement("p",null,"ImageNumber"),i.createElement("input",{type:"number",onInput:function(e){return w({ObjectNumber:S.ObjectNumber,ImageNumber:e.target.valueAsNumber})}}))}},96874:function(e){e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},47443:function(e,t,r){var n=r(42118);e.exports=function(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}},1196:function(e){e.exports=function(e,t,r){for(var n=-1,o=null==e?0:e.length;++n<o;)if(r(t,e[n]))return!0;return!1}},20731:function(e,t,r){var n=r(88668),o=r(47443),a=r(1196),i=r(29932),c=r(7518),s=r(74757);e.exports=function(e,t,r,l){var u=-1,d=o,p=!0,f=e.length,m=[],b=t.length;if(!f)return m;r&&(t=i(t,c(r))),l?(d=a,p=!1):t.length>=200&&(d=s,p=!1,t=new n(t));e:for(;++u<f;){var h=e[u],g=null==r?h:r(h);if(h=l||0!==h?h:0,p&&g==g){for(var v=b;v--;)if(t[v]===g)continue e;m.push(h)}else d(t,g,l)||m.push(h)}return m}},89881:function(e,t,r){var n=r(47816),o=r(99291)(n);e.exports=o},21078:function(e,t,r){var n=r(62488),o=r(37285);e.exports=function e(t,r,a,i,c){var s=-1,l=t.length;for(a||(a=o),c||(c=[]);++s<l;){var u=t[s];r>0&&a(u)?r>1?e(u,r-1,a,i,c):n(c,u):i||(c[c.length]=u)}return c}},28483:function(e,t,r){var n=r(25063)();e.exports=n},47816:function(e,t,r){var n=r(28483),o=r(3674);e.exports=function(e,t){return e&&n(e,t,o)}},42118:function(e,t,r){var n=r(41848),o=r(62722),a=r(42351);e.exports=function(e,t,r){return t==t?a(e,t,r):n(e,o,r)}},62722:function(e){e.exports=function(e){return e!=e}},5976:function(e,t,r){var n=r(6557),o=r(45357),a=r(30061);e.exports=function(e,t){return a(o(e,t,n),e+"")}},56560:function(e,t,r){var n=r(75703),o=r(38777),a=r(6557),i=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:a;e.exports=i},99291:function(e,t,r){var n=r(98612);e.exports=function(e,t){return function(r,o){if(null==r)return r;if(!n(r))return e(r,o);for(var a=r.length,i=t?a:-1,c=Object(r);(t?i--:++i<a)&&!1!==o(c[i],i,c););return r}}},25063:function(e){e.exports=function(e){return function(t,r,n){for(var o=-1,a=Object(t),i=n(t),c=i.length;c--;){var s=i[e?c:++o];if(!1===r(a[s],s,a))break}return t}}},37285:function(e,t,r){var n=r(62705),o=r(35694),a=r(1469),i=n?n.isConcatSpreadable:void 0;e.exports=function(e){return a(e)||o(e)||!!(i&&e&&e[i])}},16612:function(e,t,r){var n=r(77813),o=r(98612),a=r(65776),i=r(13218);e.exports=function(e,t,r){if(!i(r))return!1;var c=typeof t;return!!("number"==c?o(r)&&a(t,r.length):"string"==c&&t in r)&&n(r[t],e)}},45357:function(e,t,r){var n=r(96874),o=Math.max;e.exports=function(e,t,r){return t=o(void 0===t?e.length-1:t,0),function(){for(var a=arguments,i=-1,c=o(a.length-t,0),s=Array(c);++i<c;)s[i]=a[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=a[i];return l[t]=r(s),n(e,this,l)}}},30061:function(e,t,r){var n=r(56560),o=r(21275)(n);e.exports=o},21275:function(e){var t=Date.now;e.exports=function(e){var r=0,n=0;return function(){var o=t(),a=16-(o-n);if(n=o,a>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}},42351:function(e){e.exports=function(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}},75703:function(e){e.exports=function(e){return function(){return e}}},91966:function(e,t,r){var n=r(20731),o=r(21078),a=r(5976),i=r(29246),c=a((function(e,t){return i(e)?n(e,o(t,1,i,!0)):[]}));e.exports=c},29246:function(e,t,r){var n=r(98612),o=r(37005);e.exports=function(e){return o(e)&&n(e)}},50308:function(e){e.exports=function(){}}}]);
//# sourceMappingURL=component---src-pages-canvas-web-worker-demo-js-9401c831eb4a8538d8bd.js.map