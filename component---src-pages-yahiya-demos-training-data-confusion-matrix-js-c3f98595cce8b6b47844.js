(self.webpackChunkgatsby_test=self.webpackChunkgatsby_test||[]).push([[9792],{27136:function(e,t,n){"use strict";var r=n(22122),i=n(81253),a=n(67294),o=n(85505),s=n(20638),c=n(81664),u=44,l=a.forwardRef((function(e,t){var n=e.classes,s=e.className,l=e.color,f=void 0===l?"primary":l,m=e.disableShrink,p=void 0!==m&&m,d=e.size,g=void 0===d?40:d,v=e.style,h=e.thickness,x=void 0===h?3.6:h,b=e.value,y=void 0===b?0:b,k=e.variant,w=void 0===k?"indeterminate":k,S=(0,i.Z)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),_={},D={},E={};if("determinate"===w||"static"===w){var Z=2*Math.PI*((u-x)/2);_.strokeDasharray=Z.toFixed(3),E["aria-valuenow"]=Math.round(y),_.strokeDashoffset="".concat(((100-y)/100*Z).toFixed(3),"px"),D.transform="rotate(-90deg)"}return a.createElement("div",(0,r.Z)({className:(0,o.Z)(n.root,s,"inherit"!==f&&n["color".concat((0,c.Z)(f))],{determinate:n.determinate,indeterminate:n.indeterminate,static:n.static}[w]),style:(0,r.Z)({width:g,height:g},D,v),ref:t,role:"progressbar"},E,S),a.createElement("svg",{className:n.svg,viewBox:"".concat(22," ").concat(22," ").concat(u," ").concat(u)},a.createElement("circle",{className:(0,o.Z)(n.circle,p&&n.circleDisableShrink,{determinate:n.circleDeterminate,indeterminate:n.circleIndeterminate,static:n.circleStatic}[w]),style:_,cx:u,cy:u,r:(u-x)/2,fill:"none",strokeWidth:x})))}));t.Z=(0,s.Z)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},determinate:{transition:e.transitions.create("transform")},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},circleDeterminate:{transition:e.transitions.create("stroke-dashoffset")},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(l)},48945:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(92137),i=n(87757),a=n.n(i),o=n(54179),s=n(13967),c=n(38889),u=n(4339),l=function(){function e(e){this.sliceArrayByValue=function(e,t,n){var r=e.indexOf(t),i=e.indexOf(n);return-1===t||-1===n?(console.error("Values not found to slice"),null):e.slice(r,i)},this.basicPapaConfig={worker:!0,skipEmptyLines:!0,dynamicTyping:!0},this.getDataHandlerandStartingTrainingSet=(0,r.Z)(a().mark((function e(){var t,n,r,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return["column_lines","object_data","image_data","training_data"],[],t=this.getFiles(),e.next=5,this.getText(t);case 5:return n=e.sent,r=this.getColumnLines(n[0]),i=new c.Z({object_data:n[1],image_data:n[2],object_columns:r[0],image_columns:r[1]}),o=new u.Z(n[3].slice(1),r[2]),e.abrupt("return",{data_provider:i,training_data:{features:r[0],training_table:o}});case 10:case"end":return e.stop()}}),e,this)}))),this.fileListObject=e}var t=e.prototype;return t.getFiles=function(){var e=new s.Z(this.fileListObject);return["example_SETUP.SQL","per_object.csv","per_image.csv","MyTrainingSet.txt"].map((function(t){return{file:e.findFile(t),name:t}}))},t.getText=function(e){var t=this;return Promise.all(e.map((function(e){if(e.name.endsWith(".csv")||e.name.endsWith(".txt"))return(new o.Z).papaTextfromCSV(e);var n=new s.Z(t.fileListObject);return console.log(e),n.fileReaderPromiseText(e.file)})))},t.getColumnLines=function(e){var t=[],n=e.split("\n").map((function(e){return e.trim()})),r=this.sliceArrayByValue(n,"CREATE TABLE per_object (","PRIMARY KEY  (ImageNumber,ObjectNumber)");t.push(r.map((function(e){return e.split(" ")[0]})).slice(1));var i=this.sliceArrayByValue(n,"CREATE TABLE per_image (","PRIMARY KEY  (ImageNumber)");return t.push(i.map((function(e){return e.split(" ")[0]})).slice(1)),t.push("label imagenum objectnum x y".split(" ")),t},e}()},72977:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(92137),i=n(87757),a=n.n(i),o=n(67294),s=n(80838),c=n(83332),u=n(48945),l=n(37107),f=n(27136);var m=function(){console.log("a");var e=o.useState(!1),t=e[0],n=e[1],i=o.useState(null),m=(i[0],i[1],o.useState(null)),p=(m[0],m[1]),d=o.useState(null),g=(d[0],d[1]),v=o.useState(null),h=(v[0],v[1]),x=o.useState(!0),b=x[0],y=(x[1],o.useState(null)),k=(y[0],y[1]),w=o.useState(),S=w[0],_=w[1],D=o.useRef(null),E=function(){var e=(0,r.Z)(a().mark((function e(t){var r,i,o,s,c,f,m,d,v,x,b,y,w;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),r=new u.Z(t),e.next=4,r.getDataHandlerandStartingTrainingSet();case 4:return i=e.sent,o=i.data_provider,p(o),s=i.training_data.training_table,c=s.getDataColumnsPaired(),f=s.getTrainingLabels(),m=c.map((function(e){var t=e.objectnum,n=e.imagenum;return o.getRow("object_data",{ObjectNumber:t,ImageNumber:n})})),d=i.training_data.features,v=d.filter((function(e){return!e.includes("Location")&&"ObjectNumber"!==e&&"ImageNumber"!==e})),h(v),console.log("finished data initialization"),g(x={classifierType:"LogisticRegression",trainingData:m,trainingLabels:f,featuresToUse:v}),console.log("start initial train"),b=new l.q(x),e.next=21,b.trainPromise();case 21:return k(b),console.log("end initial train"),y=D.current,e.next=26,b.TrainingDataConfusionMatrixDataURLPromise(["Negative","Positive"],y);case 26:w=e.sent,_(w),console.log(w),console.log("finished upload"),n(!1);case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o.createElement("div",{style:{resize:"horizontal"}},o.createElement(s.Z,{container:!0,justify:"center",spacing:2,style:{marginBottom:15}},o.createElement(s.Z,{key:1,item:!0},o.createElement(c.Z,{endIcon:t?o.createElement(f.Z,null):null,disabled:!b,variant:"contained",component:"label",onClick:function(){return console.log("Upload!")}},"Upload",o.createElement("input",{type:"file",hidden:!0,webkitdirectory:"true",mozdirectory:"true",msdirectory:"true",odirectory:"true",directory:"true",multiple:!0,onChange:function(e){E(e)}}))),o.createElement("img",{width:100,height:100,src:S}),o.createElement("canvas",{ref:D,width:100,height:100,id:"processingCanvas"})))}},96874:function(e){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},47443:function(e,t,n){var r=n(42118);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},1196:function(e){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},20731:function(e,t,n){var r=n(88668),i=n(47443),a=n(1196),o=n(29932),s=n(7518),c=n(74757);e.exports=function(e,t,n,u){var l=-1,f=i,m=!0,p=e.length,d=[],g=t.length;if(!p)return d;n&&(t=o(t,s(n))),u?(f=a,m=!1):t.length>=200&&(f=c,m=!1,t=new r(t));e:for(;++l<p;){var v=e[l],h=null==n?v:n(v);if(v=u||0!==v?v:0,m&&h==h){for(var x=g;x--;)if(t[x]===h)continue e;d.push(v)}else f(t,h,u)||d.push(v)}return d}},89881:function(e,t,n){var r=n(47816),i=n(99291)(r);e.exports=i},21078:function(e,t,n){var r=n(62488),i=n(37285);e.exports=function e(t,n,a,o,s){var c=-1,u=t.length;for(a||(a=i),s||(s=[]);++c<u;){var l=t[c];n>0&&a(l)?n>1?e(l,n-1,a,o,s):r(s,l):o||(s[s.length]=l)}return s}},28483:function(e,t,n){var r=n(25063)();e.exports=r},47816:function(e,t,n){var r=n(28483),i=n(3674);e.exports=function(e,t){return e&&r(e,t,i)}},42118:function(e,t,n){var r=n(41848),i=n(62722),a=n(42351);e.exports=function(e,t,n){return t==t?a(e,t,n):r(e,i,n)}},62722:function(e){e.exports=function(e){return e!=e}},5976:function(e,t,n){var r=n(6557),i=n(45357),a=n(30061);e.exports=function(e,t){return a(i(e,t,r),e+"")}},56560:function(e,t,n){var r=n(75703),i=n(38777),a=n(6557),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:a;e.exports=o},99291:function(e,t,n){var r=n(98612);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var a=n.length,o=t?a:-1,s=Object(n);(t?o--:++o<a)&&!1!==i(s[o],o,s););return n}}},25063:function(e){e.exports=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var c=o[e?s:++i];if(!1===n(a[c],c,a))break}return t}}},37285:function(e,t,n){var r=n(62705),i=n(35694),a=n(1469),o=r?r.isConcatSpreadable:void 0;e.exports=function(e){return a(e)||i(e)||!!(o&&e&&e[o])}},16612:function(e,t,n){var r=n(77813),i=n(98612),a=n(65776),o=n(13218);e.exports=function(e,t,n){if(!o(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&a(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},45357:function(e,t,n){var r=n(96874),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var a=arguments,o=-1,s=i(a.length-t,0),c=Array(s);++o<s;)c[o]=a[t+o];o=-1;for(var u=Array(t+1);++o<t;)u[o]=a[o];return u[t]=n(c),r(e,this,u)}}},30061:function(e,t,n){var r=n(56560),i=n(21275)(r);e.exports=i},21275:function(e){var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),a=16-(i-r);if(r=i,a>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},42351:function(e){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},75703:function(e){e.exports=function(e){return function(){return e}}},91966:function(e,t,n){var r=n(20731),i=n(21078),a=n(5976),o=n(29246),s=a((function(e,t){return o(e)?r(e,i(t,1,o,!0)):[]}));e.exports=s},29246:function(e,t,n){var r=n(98612),i=n(37005);e.exports=function(e){return i(e)&&r(e)}},50308:function(e){e.exports=function(){}}}]);
//# sourceMappingURL=component---src-pages-yahiya-demos-training-data-confusion-matrix-js-c3f98595cce8b6b47844.js.map