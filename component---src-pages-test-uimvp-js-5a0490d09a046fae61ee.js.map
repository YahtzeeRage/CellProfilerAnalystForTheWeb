{"version":3,"sources":["webpack://gatsby-test/./node_modules/@material-ui/icons/Check.js","webpack://gatsby-test/./src/classes/ClassifierManager.js","webpack://gatsby-test/./src/classes/ImageProvider2.js","webpack://gatsby-test/./src/classes/ImageHandler.js","webpack://gatsby-test/./src/classes/imGridManager.js","webpack://gatsby-test/./src/pages/TestUIMVP.js","webpack://gatsby-test/./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteralLoose.js","webpack://gatsby-test/./src/cpa_logo(blue).svg"],"names":["_interopRequireDefault","_interopRequireWildcard","exports","React","_default","default","createElement","d","ClassifierManager","DataProvider","InitialTrainingSetObject","this","testConstructorInputPreconditions","InitialTrainingObject","classifierType","featuresToUse","trainingData","trainingLabels","TrainingSetObject","Classifier","undefined","Error","initTrainPromise","trainPromise","fetchUpToNCellPairsByClass","classType","N","sampledCellPairObjects","getNRandomObjs","testingData","map","cellPair","getRow","desiredLabel","predicted_labels","predict","filter","pair","index","appendToTrainingSetAndRetrainPromise","additionTrainingSetObject","getTrainingSetObject","userDownloadClassifierSpecPromise","DownloadModelPromise","ImageProvider2","options","box_dim","x","y","image_type","cords","canvases","brighten","canvas","ctx","imagedata","getImageData","height","width","data","color_index","ignore_pixels","max_colors","min_colors","colors_to_change","i","length","j","color_current","push","max","pixels_to_change","putImageData","ImageData","getDataURL","img_info","image","main_canvas","document","h","l","getContext","canID","color","toString","createColorCanvas","globalCompositeOperation","img_channel","drawImage","toDataURL","fillStyle","fillRect","ImageHandler","fileListObect","data_provider","getObjsToURLs","objects","urls","cur_ImageNum","ImageNumber","image_info","getImagefromFile","getCordsforCellDisplay","ip","url","getImgUrl","object","getImagesfromFile","getDataUrl","console","log","images_path","returnAllImgFileNames","Promise","all","image_path","file","file_handler","findFile","filename","fileReaderPromiseImage","then","makeImage","images","UserUploadFileHandler","img","Image","src","ImageGridManager","data_pairs","dataurls","classifications","getDataUrlFromImg","image_object","onload","crossOrigin","getNumberImages","getDataUrlByIndex","setImageClassByIndex","gridType","getAllIndexes","arr","val","indexes","indexOf","getPairsByClass","final","indices","setClassByIndexArray","Transition","props","ref","Slide","direction","useStyles","makeStyles","theme","root","display","alignItems","wrapper","margin","spacing","position","buttonSuccess","backgroundColor","green","fabProgress","top","left","zIndex","buttonProgress","marginTop","marginLeft","anchorEl","setAnchorEl","dataProvider","setDataProvider","trainingObject","setTrainingObject","fileListObject","setFileListObject","constructTileState","tileState","setTileState","imageGridManager","setImageGridManager","setLastFetchState","setFeaturesToUseState","fetchButtonEnabled","setFetchButtonEnabled","trainButtonEnabled","setTrainButtonEnabled","evaluateButtonEnabled","setEvaluateButtonEnabled","downloadButtonEnabled","setDownloadButtonEnabled","uploadButtonEnabled","setUploadButtonEnabled","setScoreAllButtonEnabled","uploading","setUploading","success","setSuccess","fetching","setFetching","openFetchDropdown","setOpenFetchDropdown","setOpenViewCell","openEvaulate","setOpenEvaulate","handleClickOpenViewCell","handleCloseEvaulate","classes","buttonClassname","clsx","handleClickFetchDropDownOption","fetchType","handleFetch","disableIterationButtons","enableIterationButtons","unclassified","positive","negative","classifierManager","classedCellPairObjects","ih","dataURLS","newTileState","handleTrain","negativeIDs","item","id","positiveIDs","negativeCellPairs","strings","raw","slice","positiveCellPairs","negativeObjectDataRows","ObjectNumber","positiveObjectDataRows","trainingDataAddition","negativeLabels","Array","fill","positiveLabels","trainingLabelsAddition","concat","UpdatedTrainingObject","clearedTileState","handleUpload","uploadHandler","UploadHandler","getDataHandlerandStartingTrainingSet","uploadReturnObject","trainingTable","training_data","training_table","trainingDataTable","getDataColumnsPaired","getTrainingLabels","initialTrainingData","row_object","totalFeatures","features","tempFeaturesToUse","elem","includes","initialTrainingObject","handleDownload","dataURLs","cellToolTips","dataURL","idx","address","info","handleCloseFetchDropdownByImg","GridContext","onChange","sourceId","sourceIndex","targetIndex","targetId","result","move","swap","style","overflowX","hieght","Row","maxHeight","marginBottom","Col","className","Tooltip","title","aria-label","Fab","component","Check","CloudUpload","type","hidden","webkitdirectory","mozdirectory","msdirectory","odirectory","directory","multiple","eventObject","disabled","CircularProgress","marginRight","onClick","SaveAlt","Grid","container","justify","key","Button","variant","aria-controls","aria-haspopup","event","currentTarget","Menu","keepMounted","open","Boolean","onClose","MenuItem","Dialog","DialogTitle","DialogContent","DialogContentText","noValidate","FormControl","InputLabel","Select","autoFocus","value","DialogActions","TransitionComponent","Close","right","textAlign","paddingLeft","userSelect","GridDropZone","boxesPerRow","rowHeight","minHeight","GridItem","minWidth","maxWidth","padding","backgroundImage","paddingRight"],"mappings":"qHAEIA,EAAyB,EAAQ,OAEjCC,EAA0B,EAAQ,OAKtCC,EAAQ,OAAU,EAElB,IAAIC,EAAQF,EAAwB,EAAQ,QAIxCG,GAAW,EAFMJ,EAAuB,EAAQ,QAElBK,SAAuBF,EAAMG,cAAc,OAAQ,CACnFC,EAAG,sDACD,SAEJL,EAAQ,EAAUE,G,iHChBZI,E,WACF,WAAYC,EAAcC,GAEtBC,KAAKC,kCAAkCH,EAAcC,GAErDC,KAAKF,aAAeA,EACpBE,KAAKE,sBAAwBH,EAE7B,IAAMI,EAAiBJ,EAAyBI,eAC1CC,EAAgBL,EAAyBK,cACzCC,EAAeN,EAAyBM,aACxCC,EAAiBP,EAAyBO,eAChDN,KAAKO,kBAAoB,CACrBJ,iBACAC,gBACAC,eACAC,kBAEJN,KAAKQ,WAAa,IAAIA,IAAWR,KAAKO,mB,2BAG1CN,kCAAA,SAAkCH,EAAcC,GAC5C,GAAoBU,MAAhBX,GAAyDW,MAA5BV,EAC7B,MAAM,IAAIW,MAAM,oEAEpB,QAA8CD,IAA1CV,EAAyBM,mBACmBI,IAA5CV,EAAyBO,qBACkBG,IAA3CV,EAAyBK,oBACmBK,IAA5CV,EAAyBI,eACzB,MAAM,IAAIO,MAAM,2DAEpB,GAAgD,uBAA5CX,EAAyBI,eACzB,MAAM,IAAIO,MAAM,kE,EAIxBC,iBAAA,WACI,OAAOX,KAAKQ,WAAWI,gB,EAI3BC,2BAAA,SAA2BC,EAAWC,GAAI,IAAD,OAErC,GAAkB,aAAdD,GAA0C,aAAdA,GAA0C,WAAdA,EACxD,MAAM,IAAIJ,MAAJ,+BAAyCI,EAAzC,iDAGV,IAAME,EAAyBhB,KAAKF,aAAamB,eAAeF,GAGhE,GAAkB,WAAdD,EACA,OAAOE,EAGX,IAAME,EAAcF,EAAuBG,KACvC,SAAAC,GAAQ,OAAI,EAAKtB,aAAauB,OAAO,cAAeD,MAGpDE,EAAe,EACF,YAAbR,IACAQ,EAAe,GAGnB,IAAMC,EAAmBvB,KAAKQ,WAAWgB,QAAQN,GAKjD,OAJ+BF,EAAuBS,QAClD,SAACC,EAAMC,GAAP,OAAiBJ,EAAiBI,KAAWL,M,EAOrDM,qCAAA,SAAqCC,GAIjC,GAHA7B,KAAKO,kBAAkBF,aAAvB,kBAA0CL,KAAKO,kBAAkBF,eAAjE,OAAkFwB,EAA0BxB,eAC5GL,KAAKO,kBAAkBD,eAAvB,kBAA4CN,KAAKO,kBAAkBD,iBAAnE,OAAsFuB,EAA0BvB,iBAE5GN,KAAKO,kBAAkBJ,iBAAmB0B,EAA0B1B,iBACnE,IAAUH,KAAKO,kBAAkBH,cAAeyB,EAA0BzB,eAEvE,MAAM,IAAIM,MAAM,sHACyBV,KAAKO,kBAAkBJ,eADhD,QACsEH,KAAKO,kBAAkBH,cAD7F,UAEQyB,EAA0B1B,eAFlC,QAEwD0B,EAA0BzB,eAK1G,OADAJ,KAAKQ,WAAa,IAAIA,IAAWR,KAAKO,mBAC/BP,KAAKQ,WAAWI,gB,EAG3BkB,qBAAA,WACI,OAAO9B,KAAKO,mB,EAGhBwB,kCAAA,WACI,OAAO/B,KAAKQ,WAAWwB,wB,4GChGVC,E,WACjB,WAAYC,QAAyE,IAAzEA,MAAU,CAACC,QAAU,CAACC,EAAG,GAAIC,EAAG,IAAKC,WAAa,SAAUC,MAAQ,KAC5EvC,KAAKmC,QAAUD,EAAQC,QACvBnC,KAAKsC,WAAaJ,EAAQI,WAC1BtC,KAAKuC,MAAQL,EAAQK,MACrBvC,KAAKwC,SAAW,G,2BAGpBC,SAAA,SAASC,EAAQC,GAQb,IAPA,IAAIC,EAAYD,EAAIE,aAAa,EAAG,EAAGH,EAAOI,OAAQJ,EAAOK,OACzDC,EAAOJ,EAAUI,KACjBC,EAAc,CAAC,MAAM,QAAQ,QAC7BC,EAAgB,CAAC,GAAI,GAAI,GACzBC,EAAa,EAAE,GAAI,GAAI,GACvBC,EAAa,CAAC,IAAK,IAAK,KACxBC,EAAkB,CAAC,GAAI,GAAG,IACrBC,EAAI,EAAGA,EAAIL,EAAYM,OAAQD,IACpCD,EAAiBJ,EAAYK,IAAM,GACvC,IAASA,EAAI,EAAGA,EAAIN,EAAKO,OAAQD,GAAK,EAClC,IAAK,IAAIE,EAAI,EAAGA,EAAIP,EAAYM,OAAQC,IAAK,CACzC,IAAIC,EAAgBT,EAAKM,EAAIE,GAC7BL,EAAWK,GAAKL,EAAWK,GAAKC,EAAgBA,EAAgBN,EAAWK,GAC3EJ,EAAWI,GAAKJ,EAAWI,GAAKC,EAAgBA,EAAgBL,EAAWI,GACrEC,EAAgBP,EAAcM,IAC9BH,EAAiBG,GAAGE,KAAKJ,EAAEE,GAIzC,IAAIG,GAAO,EACX,IAASL,EAAI,EAAGA,EAAI,EAAGA,IACfH,EAAWG,GAAKK,IAAMA,EAAMR,EAAWG,IAS/C,IAASA,EAAI,EAAGA,EAAIL,EAAYM,OAAQD,IACxC,KAAIM,EAAmBP,EAAiBC,GACxC,IAASE,EAAI,EAAGA,EAAII,EAAiBL,OAASC,IAC1CR,EAAKY,EAAiBJ,IAAOR,EAAKY,EAAiBJ,IAAMG,EAAO,IAGpEhB,EAAIkB,aAAa,IAAIC,UAAUd,EAAMJ,EAAUG,MAAOH,EAAUE,QAAS,EAAG,I,EAEhFiB,WAAA,SAAWC,GACiB,UAApBhE,KAAKsC,aACLtC,KAAKmC,QAAQC,EAAI4B,EAAS,GAAGC,MAAMlB,MACnC/C,KAAKmC,QAAQE,EAAI2B,EAAS,GAAGC,MAAMnB,QAEvC,IAAIoB,EAAcC,SAASxE,cAAT,UAElBuE,EAAYnB,MAAQ/C,KAAKmC,QAAQiC,EACjCF,EAAYpB,OAAS9C,KAAKmC,QAAQkC,EAGlC,IAFA,IAAI1B,EAAMuB,EAAYI,WAAW,MAExBhB,EAAI,EAAGA,EAAIU,EAAST,OAAQD,IAAK,CACtC,IAAIiB,EAAQP,EAASV,GAAGkB,MACpB9B,EAASyB,SAASxE,cAAT,UACbK,KAAKwC,SAAS+B,GAAS7B,EAE7B,IAAQY,EAAI,EAAGA,EAAIU,EAAST,OAAQD,IAAK,CAC/BiB,EAAQP,EAASV,GAAGkB,MAAMC,WAC9BzE,KAAK0E,kBAAkBV,EAASV,GAAGW,MAAOM,GAE/C5B,EAAIgC,yBAA2B,UAC/B,IAASrB,EAAI,EAAGA,EAAIU,EAAST,OAAQD,IAAK,CACrC,IAAIsB,EAAcZ,EAASV,GACH,UAApBtD,KAAKsC,YACLK,EAAIkC,UAAU7E,KAAKwC,SAASoC,EAAYJ,OAAQ,EAAG,GAEvD7B,EAAIkC,UAAU7E,KAAKwC,SAASoC,EAAYJ,OAAQxE,KAAKuC,MAAMH,EAAGpC,KAAKuC,MAAMF,EACzErC,KAAKmC,QAAQC,EAAGpC,KAAKmC,QAAQE,EAAG,EAAG,EAAG6B,EAAYnB,MAAOmB,EAAYpB,QAI5E,OAFAH,EAAIgC,yBAA2B,cAChC3E,KAAKyC,SAASyB,EAAavB,GACnBuB,EAAYY,a,EAGpBJ,kBAAA,SAAmBT,EAAOO,GAE1B,IAAI1B,EAASmB,EAAMnB,OACfC,EAASkB,EAAMlB,MAEnB/C,KAAKwC,SAASgC,GAAOzB,MAAQA,EAC7B/C,KAAKwC,SAASgC,GAAO1B,OAASA,EAC9B,IAAIH,EAAM3C,KAAKwC,SAASgC,GAAOF,WAAW,MAC1C3B,EAAIgC,yBAAyB,cAC7BhC,EAAIkC,UAAUZ,EAAQ,EAAG,GACzBtB,EAAIgC,yBAAyB,WAC7BhC,EAAIoC,UAAYP,EAChB7B,EAAIqC,SAAS,EAAG,EAAGjC,EAAOD,GAC1BH,EAAIgC,yBAAyB,e,gBC7FZM,E,WAEjB,WAAYC,EAAeC,GAAgB,KAK3CC,cAL0C,mCAK1B,WAAeC,GAAf,mFACRC,EAAO,GACFhC,EAAI,EAFD,YAEIA,EAAI+B,EAAQ9B,QAFhB,wBAGJgC,EAAeF,EAAQ/B,GAAGkC,YAC1BC,EAAa,GACPF,EAAad,WALf,SAMWzE,KAAK0F,iBAAiBH,GANjC,cAMRE,EANQ,OAOHlD,EAAQvC,KAAKmF,cAAcQ,uBAAuBN,EAAQ/B,IAC1DsC,EAAK,IAAI3D,EAAe,CAACM,MAAOA,IAR7B,UASSqD,EAAG7B,WAAW0B,GATvB,QASHI,EATG,OAUPP,EAAK5B,KAAKmC,GAVH,QAEwBvC,IAFxB,gDAYJgC,GAZI,iDAL0B,2DAoB1CQ,UApB0C,mCAoB9B,WAAeC,GAAf,gFACJN,EAAazF,KAAKgG,kBAAkBD,GACpCH,EAAK,IAAI3D,EAAe,CAACK,WAAY,UAFjC,kBAGDsD,EAAGK,WAAWR,IAHb,gDApB8B,2DA0B1CC,iBA1B0C,mCA0BvB,WAAeK,GAAf,yFACfG,QAAQC,IAAIJ,GACRK,EAAcpG,KAAKmF,cAAckB,sBAAsBN,GAF5C,SAIIO,QAAQC,IAAIH,EAAYjF,KAAI,SAAAqF,GAC3C,IAAIC,EAAO,EAAKC,aAAaC,SAASH,EAAWI,UACjD,OAAO,EAAKF,aAAaG,uBAAuBJ,GAAMK,MAAM,SAAA7C,GACxD,OAAO,EAAK8C,UAAU9C,UAPf,OAWf,IAPI+C,EAJW,OAUE,GACR1D,EAAI,EAAGA,EAAI0D,EAAOzD,OAAQD,WACxB8C,EAAYQ,SACnBR,EAAY9C,GAAGW,MAAQ+C,EAAO1D,GAbnB,yBAeR8C,GAfQ,gDA1BuB,sDACtCpG,KAAK0G,aAAe,IAAIO,IAAsB/B,GAC9ClF,KAAKmF,cAAgBA,E,mBAyCzB4B,UAAA,SAAU9C,GACN,IAAIiD,EAAM,IAAIC,MAEd,OADAD,EAAIE,IAAMnD,EACHiD,G,iGC/CTG,E,WAIF,WAAYC,EAAYC,GAGtB,GAHiC,KAFnCC,gBAAkB,IAKXF,IAAeC,EAChB,MAAM,IAAI7G,MAAM,4DAGpB,GAAG4G,EAAW/D,SAAWgE,EAAShE,OAChC,MAAM,IAAI7C,MAAM,gEAGlBV,KAAKsH,WAAaA,EAClBtH,KAAKuH,SAAWA,EAEhB,IAAI,IAAIjE,EAAI,EAAGA,EAAItD,KAAKsH,WAAW/D,OAAQD,IAC3CtD,KAAKwH,gBAAgB9D,KAAK,gB,EAKrB+D,kBAAP,SAAyBP,GAEvB,IAAMxE,EAASyB,SAASxE,cAAc,UAChCgD,EAAMD,EAAO4B,WAAW,MAKxBoD,EAAe,IAAIP,MAUzB,OATAO,EAAaC,OAAU,WACnBhF,EAAIkC,UAAU6C,EAAc,EAAG,IAInCA,EAAaN,IAAMF,EACnBQ,EAAaE,YAAc,YAEXlF,EAAOoC,a,2BAOzB+C,gBAAA,WACE,OAAO7H,KAAKsH,WAAW/D,Q,EAIzBuE,kBAAA,SAAmBnG,GACjB,OAAO3B,KAAKuH,SAAS5F,I,EAGvBoG,qBAAA,SAAsBpG,EAAOqG,GAC3B,QAAavH,IAAVkB,QAAoClB,IAAbuH,EACxB,MAAM,IAAItH,MACT,qEAGH,IAAG,IAAW,CAAC,eAAgB,WAAY,YAAasH,GAKtD,MAAM,IAAItH,MACT,sDAA0DsH,EAAU,+CALrEhI,KAAKwH,gBAAgB7F,GAASqG,G,EAUlCC,cAAA,SAAcC,EAAKC,GAEjB,IADA,IAAIC,EAAU,GAAI9E,GAAK,GACgB,IAA/BA,EAAI4E,EAAIG,QAAQF,EAAK7E,EAAE,KAC3B8E,EAAQ1E,KAAKJ,GAEjB,OAAO8E,G,EAGTE,gBAAA,SAAiBN,GAEf,GAAG,IAAW,CAAC,eAAgB,WAAY,YAAaA,GAAU,CAGhE,IAFA,IAAMO,EAAQ,GACVC,EAAUxI,KAAKiI,cAAcjI,KAAKwH,gBAAiBQ,GAC/C1E,EAAI,EAAGA,EAAIkF,EAAQjF,OAAQD,IACjCiF,EAAM7E,KAAK1D,KAAKsH,WAAWkB,EAAQlF,KAErC,OAAOiF,EAGP,MAAM,IAAI7H,MACT,wB,EAKL+H,qBAAA,SAAsBT,EAAUE,GAC9B,IAAG,IAAW,CAAC,eAAgB,WAAY,YAAaF,GAMtD,MAAM,IAAItH,MACT,uBAND,IAAI,IAAI4C,EAAI,EAAGA,EAAI4E,EAAI3E,OAAQD,IAC7BtD,KAAKwH,gBAAgBU,EAAI5E,IAAM0E,G,kjBClDnCU,G,kBAAalJ,cAAiB,SAAoBmJ,EAAOC,GAC7D,OAAO,gBAACC,EAAA,EAAD,eAAOC,UAAU,KAAKF,IAAKA,GAASD,QAGrCI,GAAYC,QAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJC,QAAS,OACTC,WAAY,UAEdC,QAAS,CACPC,OAAQL,EAAMM,QAAQ,GACtBC,SAAU,YAEZC,cAAe,CACbC,gBAAiBC,SACjB,UAAW,CACTD,gBAAiBC,WAGrBC,YAAa,CACXpF,MAAOmF,SACPH,SAAU,WACVK,KAAM,EACNC,MAAO,EACPC,OAAQ,GAEVC,eAAgB,CACdxF,MAAOmF,SACPH,SAAU,WACVK,IAAK,MACLC,KAAM,MACNG,WAAY,GACZC,YAAa,QA4gBnB,MAtgBA,WAAqB,IAAD,MAGgB1K,WAAe,MAAxC2K,EAHS,KAGCC,EAHD,OAIwB5K,WAAe,MAAhD6K,EAJS,KAIKC,EAJL,OAQ4B9K,WAAe,MAApD+K,EARS,KAQOC,EARP,OAS4BhL,WAAe,MAApDiL,GATS,KASOC,GATP,QAUkBlL,WAAgBmL,GAAmB,KAA9DC,GAVS,MAUEC,GAVF,SAWgCrL,WAAe,MAAxDsL,GAXS,MAWSC,GAXT,SAY4BvL,WAAe,MAApCwL,IAZP,gBAa+BxL,WAAe,MAAvDY,GAbS,MAaM6K,GAbN,SAeoCzL,YAAe,GAA5D0L,GAfS,MAeWC,GAfX,SAgBoC3L,YAAe,GAA5D4L,GAhBS,MAgBWC,GAhBX,SAiB0C7L,YAAe,GAAlE8L,GAjBS,MAiBcC,GAjBd,SAkB0C/L,YAAe,GAAlEgM,GAlBS,MAkBcC,GAlBd,SAmBsCjM,YAAe,GAA9DkM,GAnBS,MAmBYC,GAnBZ,SAoB0CnM,YAAe,GAA3CoM,IApBd,gBAqBkBpM,YAAe,GAA1CqM,GArBS,MAqBEC,GArBF,SAsBctM,YAAe,GAAtCuM,GAtBS,MAsBAC,GAtBA,SAuBgBxM,YAAe,GAAxCyM,GAvBS,MAuBCC,GAvBD,SAwBkC1M,YAAe,GAA1D2M,GAxBS,MAwBUC,GAxBV,SAyBwB5M,YAAe,GAAlC6M,IAzBL,gBA0BwB7M,YAAe,GAAhD8M,GA1BS,MA0BKC,GA1BL,MA6BVC,GAA0B,WAC9BH,IAAgB,IAWZI,GAAsB,WAC1BF,IAAgB,IAKZG,GAAU3D,IACV4D,IAAkBC,SAAI,MACzBF,GAAQjD,eAAgBsC,GADC,IAatBc,GAAiC,SAACC,GACtC1C,EAAY,WACO3J,IAAdqM,GACDC,GAAYD,IAKZE,GAA0B,WAC9B7B,IAAsB,GACtBE,IAAsB,GACtBI,IAAyB,GACzBF,IAAyB,GACzBK,IAAyB,IAErBqB,GAAyB,WAC7B9B,IAAsB,GACtBE,IAAsB,GACtBI,IAAyB,GACzBF,IAAyB,GACzBK,IAAyB,IAIrBmB,GAAW,mCAAG,WAAOD,GAAP,sFAClBZ,IAAY,GACZc,KAEAnC,GADuB,CAAEqC,aAAc,GAAIC,SAAU,GAAIC,SAAU,KAE7DC,EAAoB,IAAIxN,IAAkBwK,EAAcE,GAL5C,SAMZ8C,EAAkB1M,mBANN,cAOlBqK,GAAkB8B,GACZQ,EAAyBD,EAAkBxM,2BAA2BiM,EAzCpE,IA2CFS,EAAK,IAAItI,IAAawF,GAAgBJ,GAV1B,UAWKkD,EAAGnI,cAAckI,GAXtB,eAWZE,EAXY,OAYZC,EAAe9C,GAAmB6C,GACxC3C,GAAa4C,GACb1C,GAAoB,IAAI1D,IAAiBiG,EAAwBE,IACjEP,KACAlC,GAAoBuC,EAAwBE,GAC5CP,KACAf,IAAY,GAlBM,+DAAH,sDAwBbwB,GAAW,mCAAG,0GAElBV,KAEQW,EAAc/C,GAAUwC,SAASjM,KAAI,SAAAyM,GAAI,OAAIA,EAAKC,MAClDC,EAAclD,GAAUuC,SAAShM,KAAI,SAAAyM,GAAI,OAAIA,EAAKC,MACxD3H,QAAQC,IAAIwH,EAAa/C,IACzBE,GAAiBrC,qBAAqB,WAAYkF,GAClD7C,GAAiBrC,qBAAqB,WAAYqF,GAE5CC,EAAoBjD,GAAiBxC,gBAAgB,WAAjCwC,CAVV,IC1M8BkD,ED0M9B,OC1MuCC,OD0MvC,KCxMlBA,EAAMD,EAAQE,MAAM,IAGtBF,EAAQC,IAAMA,EDqMM,ECpMbD,ID+MGG,EAAoBrD,GAAiBxC,gBAAgB,YAErD8F,EAAyBL,EAAkB5M,KAAI,SAAAC,GAAQ,OAAIiJ,EAAahJ,OAAO,cAAe,CAACmE,YAAapE,EAASoE,YAAa6I,aAAcjN,EAASiN,kBACzJC,EAAyBH,EAAkBhN,KAAI,SAAAC,GAAQ,OAAIiJ,EAAahJ,OAAO,cAAe,CAACmE,YAAapE,EAASoE,YAAa6I,aAAcjN,EAASiN,kBACzJE,EAfU,kBAeiBH,IAfjB,OAe4CE,IAEtDE,EAAiB,IAAIC,MAAML,EAAuB7K,QAAQmL,KAAK,GAC/DC,EAAiB,IAAIF,MAAMH,EAAuB/K,QAAQmL,KAAK,GAC/DE,EAAyBJ,EAAeK,OAAOF,GAE/CG,EAAwB,CAC5B3O,eAAgB,qBAChBE,aAAa,GAAD,eAAMkO,IAAN,OAA+BhE,EAAelK,eAC1DC,eAAe,GAAD,eAAMsO,IAAN,OAAiCrE,EAAejK,iBAC9DF,cAAeA,IAEjB8F,QAAQC,IAAI2I,GACZtE,EAAkBsE,GAMZC,EAAmB,CAAE7B,aAActC,GAAUsC,aAAcC,SAAU,GAAIC,SAAU,IACzFvC,GAAakE,GACb7I,QAAQC,IAAI,kBACZ8G,KArCgB,kCC1MP,IAAqCe,EAASC,ID0MvC,OAAH,qDAyCTe,GAAY,mCAAG,WAAOvE,GAAP,gGACjBqB,IAAa,GACbH,IAAuB,GACvBjB,GAAkBD,GACZwE,EAAgB,IAAIC,IAAczE,GAJvB,SAKgBwE,EAAcE,uCAL9B,OAKXC,EALW,OAOX/E,EAAe+E,EAAmBjK,cACxCmF,EAAgBD,GACVgF,EAAgBD,EAAmBE,cAAcC,eACjDC,EAAoBH,EAAcI,uBAElCnP,EAAiB+O,EAAcK,oBAC/BC,EAAsBH,EAAkBrO,KAAI,SAAAyO,GAC9C,IAAMvB,EAAeuB,EAAU,UACzBpK,EAAcoK,EAAU,SAC9B,OAAOvF,EAAahJ,OAAO,cAAe,CAACgN,eAAc7I,mBAEvDqK,EAAgBT,EAAmBE,cAAcQ,SACjDC,EAAoBF,EAAcpO,QAAO,SAACuO,GAAD,OAASA,EAAKC,SAAS,aAAyB,iBAATD,GAAsC,gBAATA,KACnH/E,GAAsB8E,GACtB7J,QAAQC,IAAI,gCAOZqE,EANM0F,EAAwB,CAC1B/P,eAAgB,qBAChBE,aAAcsP,EACdrP,eAAgBA,EAChBF,cAAe2P,IAQnB5E,IAAsB,GACtBE,IAAsB,GACtBI,IAAyB,GACzBF,IAAyB,GAGzBrF,QAAQC,IAAI,mBAEhBqE,EAAkB0F,GAMlB/E,IAAsB,GACtBE,IAAsB,GACtBI,IAAyB,GACzBG,IAAyB,GACzBL,IAAyB,GACzBI,IAAuB,GAEvBzF,QAAQC,IAAI,mBACZ2F,IAAa,GACbE,IAAW,GAzDU,4CAAH,sDA4DZmE,GAAc,mCAAG,2FACrBnD,KACMK,EAAoB,IAAIxN,IAAkBwK,EAAcE,GAFzC,SAGf8C,EAAkB1M,mBAHH,OAIrB0M,EAAkBtL,oCAClBkL,KALqB,2CAAH,qDASpB,SAAStC,GAAmByF,EAAUC,GAClC,MAAO,CACHnD,aAAckD,EAASjP,KAAI,SAACmP,EAASC,GAAS,MAAO,CAAC1C,GAAI0C,EAAKC,QAASF,EAASG,KAAM,wBACvFtD,SAAU,GACVC,SAAU,IA0BhB,IAIMsD,GAAgC,WACpCtE,IAAqB,IAuBzB,OAGI,gBAACuE,EAAA,EAAD,CAAqBC,SArDzB,SAAkBC,EAAUC,EAAaC,EAAaC,GAAW,IAAD,EAC5D,GAAIA,EAAU,CAAC,IAAD,EACNC,GAASC,OACbtG,GAAUiG,GACVjG,GAAUoG,GACVF,EACAC,GAEF,OAAOlG,GAAa,OAAD,UACdD,KADc,MAEhBiG,GAAWI,EAAO,GAFF,EAGhBD,GAAWC,EAAO,GAHF,KAOrB,IAAMA,GAASE,OAAKvG,GAAUiG,GAAWC,EAAaC,GACtD,OAAOlG,GAAa,OAAD,UACdD,KADc,MAEhBiG,GAAWI,EAFK,OAuCnB,uBAAKG,MAAO,CAAEC,UAAU,SAAUC,OAAQ,OAAQvO,MAAO,SAEzD,gBAACwO,EAAA,EAAD,KACA,gBAACpK,EAAA,EAAD,CAAOC,IE1Xf,67IF0X0BgK,MAAO,CAAClH,WAAW,MAAOpH,OAAO,MAAOC,MAAM,MAAMyG,SAAS,WAAYgI,UAAU,QAASC,aAAa,QAE3H,gBAACC,EAAA,EAAD,CAAKN,MAAS,CAACtH,KAAK,QACpB,uBAAK6H,UAAWjF,GAAQxD,MAC1B,uBAAKyI,UAAWjF,GAAQrD,SACvB,gBAACuI,EAAA,GAAD,CAASC,MAAM,YAAYC,aAAW,aACrC,gBAACC,EAAA,EAAD,CACED,aAAW,OACXtN,MAAM,UACNwN,UAAU,QACVL,UAAWhF,GACXyE,MAAU,CAACtO,OAAQ,MAAOC,MAAO,QAGhCgJ,GAAU,gBAACkG,EAAA,EAAD,CAAWb,MAAU,CAAEE,OAAQ,MAAOvO,MAAO,SAAY,gBAACmP,EAAA,EAAD,CAAiBd,MAAU,CAAEE,OAAQ,MAAOvO,MAAO,SACvH,yBAAQoP,KAAK,OACPC,QAAM,EAACC,gBAAgB,OACvBC,aAAa,OACbC,YAAY,OACZC,WAAW,OACXC,UAAU,OACVC,UAAQ,EACR9B,SAAY,SAAC+B,GAAe3D,GAAa2D,IACzCC,UAAWlH,OAMlBG,IAAa,gBAACgH,EAAA,EAAD,CAAkBlB,UAAWjF,GAAQ9C,YAAawH,MAAO,CAACtO,OAAQ,MAAOC,MAAO,MAAOkH,UAAU,KAAM6I,YAAY,WAIjI,gBAACpB,EAAA,EAAD,CAAKN,MAAS,CAACtH,KAAM,MAAOG,UAAW,SACvC,gBAAC2H,EAAA,GAAD,CAASC,MAAM,WAAWC,aAAW,YACrC,gBAACC,EAAA,EAAD,CACCD,aAAW,OACXtN,MAAM,UACNwN,UAAU,QACXY,UAAWpH,GACXuH,QAAS5C,GACTiB,MAAU,CAACtO,OAAQ,MAAOC,MAAO,QANjC,IAOE,gBAACiQ,EAAA,EAAD,CAAa5B,MAAU,CAAEE,OAAQ,MAAOvO,MAAO,aAKjD,gBAACwO,EAAA,EAAD,KAEA,gBAAC0B,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAQ,SAAS5J,QAAS,EAAG6H,MAAO,CAACK,aAAc,KAEnE,gBAACwB,EAAA,EAAD,CAAMG,IAAK,EAAGxF,MAAI,GACd,gBAACyF,EAAA,EAAD,CAAQT,UAAW1H,GAAoBoI,QAAQ,YAAYC,gBAAc,cAAcC,gBAAc,OAAOT,QA3RnF,SAACU,GAC9BrJ,EAAYqJ,EAAMC,iBA0Rd,SAGA,gBAACC,EAAA,EAAD,CACA9F,GAAG,cACH1D,SAAUA,EACVyJ,aAAW,EACXC,KAAMC,QAAQ3J,GACd4J,QA/RyB,WAC7B3J,EAAY,QAgSR,gBAAC4J,EAAA,EAAD,CAAUjB,QAAS,kBAAIlG,GAA+B,YAAtD,UACA,gBAACmH,EAAA,EAAD,CAAUjB,QAAS,kBAAIlG,GAA+B,cAAtD,YACA,gBAACmH,EAAA,EAAD,CAAUjB,QAAS,kBAAIlG,GAA+B,cAAtD,YACA,gBAACmH,EAAA,EAAD,CAAUjB,QArG0B,WACxC3G,IAAqB,KAoGjB,YAEI,gBAAC6H,EAAA,EAAD,CACJJ,KAAM1H,GACN4H,QAASrD,IAGT,gBAACwD,EAAA,EAAD,uBACA,gBAACC,EAAA,EAAD,KACA,gBAACC,EAAA,EAAD,8DAGA,wBAAOC,YAAU,GACb,gBAACC,EAAA,EAAD,KACA,gBAACC,EAAA,EAAD,cACA,gBAACC,EAAA,EAAD,CACIC,WAAS,GACT,gBAACT,EAAA,EAAD,CAAUU,MAAM,KAAhB,KACA,gBAACV,EAAA,EAAD,CAAUU,MAAM,KAAhB,KACA,gBAACV,EAAA,EAAD,CAAUU,MAAM,KAAhB,KACA,gBAACV,EAAA,EAAD,CAAUU,MAAM,KAAhB,KACA,gBAACV,EAAA,EAAD,CAAUU,MAAM,KAAhB,SAKR,gBAACC,EAAA,EAAD,KACA,gBAACtB,EAAA,EAAD,CAAQN,QAASrC,GAA+BlM,MAAM,WAAtD,aAUJ,gBAACyO,EAAA,EAAD,CAAMG,IAAK,EAAGxF,MAAI,GAElB,gBAACyF,EAAA,EAAD,CAAQT,UAAWxH,GAAoBkI,QAAQ,YAAYP,QAASrF,IAApE,UAGA,gBAACuF,EAAA,EAAD,CAAMG,IAAK,EAAGxF,MAAI,GAGdtC,GAA2H,gBAAC,UAAD,MAAnG,gBAAC+H,EAAA,EAAD,CAAQT,UAAWtH,GAAuBgI,QAAQ,YAAYP,QAAS,cAAvE,aAG5B,gBAACE,EAAA,EAAD,CAAMG,IAAK,EAAGxF,MAAI,GAIdtC,GAA6J,gBAAC,UAAD,MAArI,gBAAC+H,EAAA,IAAD,GAAQT,UAAWtH,GAAuByH,QA7W1C,WAC9BxG,IAAgB,IA4WyF+G,QAAQ,cAAnF,QAAwG,aAAxG,gBAC1B,gBAACW,EAAA,EAAD,CACEJ,KAAMvH,GACNsI,oBAAqBlM,EACrBkL,aAAW,EACXG,QAAStH,IAET,gBAACoI,EAAA,EAAD,CAAW9B,QAAWtG,GAAqB2E,MAAO,CAAC5H,SAAU,WAAYsL,MAAO,OAAQjL,IAAK,UAE7F,gBAAC,UAAD,UASJ,2BAGA,yBAAOuH,MAAS,CAAC2D,UAAU,OAAQrL,gBAAiB,QAASsL,YAAa,MAAOvD,aAAa,OAAQwD,WAAY,SAAlH,iBAEA,2BACA,gBAACC,EAAA,EAAD,CACKvD,UAAU,YACX9D,GAAG,eACHsH,YAAa,EACbC,UAAW,GACXhE,MAAO,CAACtO,OAAQ,OAAQ0O,UAAW,IAAK6D,UAAU,IAAK5D,aAAa,GAAIvH,WAAY,MAAOnH,MAAM,QAE/FkJ,GAYG,gBAAC4G,EAAA,EAAD,CAAkBzB,MAAQ,CAACtO,OAAQ,MAAOC,MAAO,MAAOkH,UAAW,KAAMC,WAAY,SAZ7EU,GAAUsC,aAAa/L,KAAI,SAAAyM,GAAI,OAC1C,gBAAC0H,EAAA,EAAD,CAAU3D,UAAW,YAAaP,MAAO,CAACtO,OAAQ,OAAQC,MAAO,OAAQsS,UAAU,GAAIE,SAAU,GAAI/D,UAAW,IAAKgE,SAAU,IAAKC,QAAQ,IAAKrC,IAAKxF,EAAKC,IAEzJ,gBAACwF,EAAA,EAAD,CAAQ1B,UAAU,YAAYoB,QAAWvG,IACrC,uBAAKmF,UAAU,oBAAsBP,MAAS,CAACsE,gBAAgB,OAAS9H,EAAK4C,QAAf,MAC9D,wBAAMmB,UAAW,aAAa/D,EAAK6C,cAc/C,gBAACc,EAAA,EAAD,KAEE,yBAAOH,MAAS,CAAC2D,UAAU,OAAQrL,gBAAiB,QAASsL,YAAa,MAAOC,WAAY,OAAQxD,aAAa,OAAQxH,UAAU,IAApI,YAGA,yBAAOmH,MAAS,CAAC2D,UAAU,OAAQrL,gBAAiB,QAASiM,aAAc,KAAMV,WAAY,OAAQ3L,OAAQ,OAASmI,aAAa,OAAQxH,UAAU,IAArJ,aAID,gBAACsH,EAAA,EAAD,KAEC,gBAAC2D,EAAA,EAAD,CACEvD,UAAU,oBACV9D,GAAG,WACHsH,YAAa,EACbC,UAAW,GACXhE,MAAO,CAACtO,OAAQ,OAAQ0O,UAAW,IAAK6D,UAAU,MAGjDzK,GAAUuC,SAAShM,KAAI,SAAAyM,GAAI,OAC1B,gBAAC0H,EAAA,EAAD,CAAU3D,UAAW,YAAYP,MAAO,CAACtO,OAAO,OAAQC,MAAO,OAAQsS,UAAW,GAAIE,SAAU,GAAI/D,UAAW,IAAKgE,SAAU,IAAKC,QAAQ,IAAKrC,IAAKxF,EAAKC,IACxJ,uBAAK8D,UAAU,aACX,uBAAKA,UAAU,oBAAoBP,MAAS,CAACsE,gBAAgB,OAAQ9H,EAAK4C,QAAd,MAC5D,wBAAMmB,UAAW,aAAa/D,EAAK6C,aAQ7C,gBAACyE,EAAA,EAAD,CACEvD,UAAU,oBACV9D,GAAG,WACHsH,YAAa,EACbC,UAAY,GACZhE,MAAO,CAACtO,OAAQ,OAAQ0O,UAAW,IAAK6D,UAAU,MAEjDzK,GAAUwC,SAASjM,KAAI,SAAAyM,GAAI,OAC1B,gBAAC0H,EAAA,EAAD,CAAU3D,UAAW,YAAYP,MAAO,CAACtO,OAAO,OAAQC,MAAO,OAAQsS,UAAW,GAAIE,SAAU,GAAI/D,UAAW,IAAKgE,SAAU,IAAKC,QAAS,IAAKrC,IAAKxF,EAAK4C,SACzJ,uBAAKmB,UAAU,aACf,uBAAKA,UAAU,oBAAoBP,MAAS,CAACsE,gBAAgB,OAAQ9H,EAAK4C,QAAd,MAC5D,wBAAMmB,UAAW,aAAa/D,EAAK6C","file":"component---src-pages-test-uimvp-js-5a0490d09a046fae61ee.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"\n}), 'Check');\n\nexports.default = _default;","import {Classifier} from \"./Classifier\"\r\nimport _ from \"lodash\";\r\n\r\nclass ClassifierManager {\r\n    constructor(DataProvider, InitialTrainingSetObject) {\r\n        \r\n        this.testConstructorInputPreconditions(DataProvider, InitialTrainingSetObject)\r\n\r\n        this.DataProvider = DataProvider\r\n        this.InitialTrainingObject = InitialTrainingSetObject\r\n\r\n        const classifierType = InitialTrainingSetObject.classifierType\r\n        const featuresToUse = InitialTrainingSetObject.featuresToUse\r\n        const trainingData = InitialTrainingSetObject.trainingData\r\n        const trainingLabels = InitialTrainingSetObject.trainingLabels\r\n        this.TrainingSetObject = {\r\n            classifierType,\r\n            featuresToUse,\r\n            trainingData,\r\n            trainingLabels\r\n        }\r\n        this.Classifier = new Classifier(this.TrainingSetObject);\r\n    }\r\n\r\n    testConstructorInputPreconditions(DataProvider, InitialTrainingSetObject) {\r\n        if (DataProvider == undefined || InitialTrainingSetObject == undefined) {\r\n            throw new Error(\"Constructor Error on no dataprovider or no initialtrainingobject\")\r\n        }\r\n        if (InitialTrainingSetObject.trainingData === undefined ||\r\n            InitialTrainingSetObject.trainingLabels === undefined ||\r\n            InitialTrainingSetObject.featuresToUse === undefined ||\r\n            InitialTrainingSetObject.classifierType === undefined) {\r\n            throw new Error(\"Constructor Error on InitialTrainingData missing fields\")\r\n        }\r\n        if (InitialTrainingSetObject.classifierType !== \"LogisticRegression\") {\r\n            throw new Error(\"Constructor Error classifierType passed in is not implemented\")\r\n        }\r\n    }\r\n\r\n    initTrainPromise() {\r\n        return this.Classifier.trainPromise()\r\n    }\r\n\r\n\r\n    fetchUpToNCellPairsByClass(classType, N) {\r\n\r\n        if (classType !== \"positive\" && classType !== \"negative\" && classType !== \"random\") {\r\n            throw new Error(`Error on invalid class: got ${classType} but expected negative or positive or random}`)\r\n        }\r\n\r\n        const sampledCellPairObjects = this.DataProvider.getNRandomObjs(N)\r\n        \r\n\r\n        if (classType === \"random\") {\r\n            return sampledCellPairObjects\r\n        }\r\n\r\n        const testingData = sampledCellPairObjects.map(\r\n            cellPair => this.DataProvider.getRow('object_data', cellPair)\r\n        )\r\n\r\n        var desiredLabel = 0\r\n        if (classType == \"positive\") {\r\n            desiredLabel = 1\r\n        }\r\n\r\n        const predicted_labels = this.Classifier.predict(testingData)\r\n        const classedCellPairObjects = sampledCellPairObjects.filter(\r\n            (pair, index) => predicted_labels[index] === desiredLabel \r\n        )\r\n\r\n        return classedCellPairObjects\r\n    }\r\n\r\n\r\n    appendToTrainingSetAndRetrainPromise(additionTrainingSetObject) {\r\n        this.TrainingSetObject.trainingData = [...this.TrainingSetObject.trainingData, ...additionTrainingSetObject.trainingData]\r\n        this.TrainingSetObject.trainingLabels = [...this.TrainingSetObject.trainingLabels, ...additionTrainingSetObject.trainingLabels]\r\n\r\n        if (this.TrainingSetObject.classifierType !== additionTrainingSetObject.classifierType ||\r\n            !_.isEqual(this.TrainingSetObject.featuresToUse, additionTrainingSetObject.featuresToUse))\r\n            {\r\n                throw new Error(\"Error incompatible addition TrainingSetObject, needs same classifierType and featuresToUse:\\n\" + \r\n                                `Comparison: expected: ${this.TrainingSetObject.classifierType} and ${this.TrainingSetObject.featuresToUse}\\n` +\r\n                                `got: ${additionTrainingSetObject.classifierType} and ${additionTrainingSetObject.featuresToUse}`)\r\n            }\r\n\r\n\r\n        this.Classifier = new Classifier(this.TrainingSetObject);\r\n        return this.Classifier.trainPromise()\r\n    }\r\n\r\n    getTrainingSetObject() {\r\n        return this.TrainingSetObject\r\n    }\r\n\r\n    userDownloadClassifierSpecPromise() {\r\n        return this.Classifier.DownloadModelPromise()\r\n    }\r\n}\r\n\r\nexport {ClassifierManager}","\r\nexport default class ImageProvider2 {\r\n    constructor(options = {box_dim : {x: 40, y: 40}, image_type : 'object', cords : {}}) { // {images_info : [{image : image channel: color} x 3] cord_x: x, cord_y: y }\r\n        this.box_dim = options.box_dim\r\n        this.image_type = options.image_type\r\n        this.cords = options.cords\r\n        this.canvases = {}\r\n\r\n    }\r\n    brighten(canvas, ctx) {\r\n        var imagedata = ctx.getImageData(0, 0, canvas.height, canvas.width)\r\n        var data = imagedata.data\r\n        var color_index = ['red','green','blue']\r\n        var ignore_pixels = [15, 15, 0]\r\n        var max_colors = [-1, -1, -1]\r\n        var min_colors = [256, 256, 256]\r\n        var colors_to_change =[[], [],[]]\r\n        for (var i = 0; i < color_index.length; i++) \r\n            colors_to_change[color_index[i]] = []\r\n        for (var i = 0; i < data.length; i += 4) {\r\n            for (var j = 0; j < color_index.length; j++) {\r\n                var color_current = data[i + j]\r\n                max_colors[j] = max_colors[j] < color_current ? color_current : max_colors[j]\r\n                min_colors[j] = min_colors[j] > color_current ? color_current : min_colors[j]\r\n                  if (color_current > ignore_pixels[j]) {\r\n                      colors_to_change[j].push(i+j)\r\n                }\r\n        } \r\n        }\r\n        var max = -1;\r\n        for (var i = 0; i < 3; i++) {\r\n            if (max_colors[i] > max)  max = max_colors[i] \r\n        } \r\n        // for (var i = 0; i < data.length; i += 4) {\r\n        //     for (var j = 0; j < color_index.length; j++) {\r\n        //         if (data[i+j] > ignore_pixels[j]) {\r\n        //             data[i+j] = (data[i+j] / max) * 255\r\n        //         }\r\n        // } \r\n        // }\r\n        for (var i = 0; i < color_index.length; i++) {\r\n        var pixels_to_change = colors_to_change[i]    \r\n        for (var j = 0; j < pixels_to_change.length ; j++) {\r\n            data[pixels_to_change[j]] = (data[pixels_to_change[j]] / max) * 255\r\n        }\r\n  }\r\n        ctx.putImageData(new ImageData(data, imagedata.width, imagedata.height), 0, 0)\r\n    }\r\n    getDataURL(img_info) {\r\n        if (this.image_type === 'image') {\r\n            this.box_dim.x = img_info[0].image.width\r\n            this.box_dim.y = img_info[0].image.height\r\n        }\r\n        var main_canvas = document.createElement(`canvas`); \r\n    \r\n        main_canvas.width = this.box_dim.h;\r\n        main_canvas.height = this.box_dim.l;  \r\n        var ctx = main_canvas.getContext('2d');   \r\n\r\n        for (var i = 0; i < img_info.length; i++) {\r\n            var canID = img_info[i].color\r\n            var canvas = document.createElement(`canvas`)\r\n            this.canvases[canID] = canvas\r\n      }\r\n      for(var i = 0; i < img_info.length; i++) {\r\n            var canID = img_info[i].color.toString()\r\n            this.createColorCanvas(img_info[i].image, canID)\r\n       }\r\n       ctx.globalCompositeOperation = 'lighter';\r\n       for (var i = 0; i < img_info.length; i++) {\r\n            var img_channel = img_info[i];\r\n            if (this.image_type === 'whole') {\r\n                ctx.drawImage(this.canvases[img_channel.color], 0, 0) \r\n            }\r\n            ctx.drawImage(this.canvases[img_channel.color], this.cords.x, this.cords.y,\r\n            this.box_dim.x, this.box_dim.y, 0, 0, main_canvas.width, main_canvas.height)\r\n       }\r\n     ctx.globalCompositeOperation = 'source-over';     \r\n    this.brighten(main_canvas, ctx)       \r\n     return main_canvas.toDataURL();\r\n }\r\n \r\n    createColorCanvas (image, color) {\r\n    /* console.log(image) */\r\n    var height = image.height;\r\n    var width =  image.width;  \r\n    // image.crossOrigin = 'Anonymous';  \r\n    this.canvases[color].width = width;\r\n    this.canvases[color].height = height;\r\n    var ctx = this.canvases[color].getContext(\"2d\");\r\n    ctx.globalCompositeOperation='source-over'; \r\n    ctx.drawImage(image,  0, 0 )\r\n    ctx.globalCompositeOperation='multiply';\r\n    ctx.fillStyle = color;\r\n    ctx.fillRect(0, 0, width ,height);  \r\n    ctx.globalCompositeOperation='source-over'; \r\n }\r\n    //from https://stackoverflow.com/questions/10521978/html5-canvas-image-contrast\r\n    // contrastImage(imgData, contrast){  //input range [-100..100]\r\n    //     var d = imgData.data;\r\n    //     contrast = (contrast/100) + 1;  //convert to decimal & shift range: [0..2]\r\n    //     var intercept = 128 * (1 - contrast);\r\n    //     for(var i=0;i<d.length;i+=4){   //r,g,b,a\r\n    //         d[i] = d[i]*contrast + intercept;\r\n    //         d[i+1] = d[i+1]*contrast + intercept;\r\n    //         d[i+2] = d[i+2]*contrast + intercept;\r\n    //     }\r\n    //     return imgData;\r\n    // }yarn \r\n};\r\n\r\nexport {ImageProvider2}\r\n\r\n\r\n\r\n","import {ImageProvider2} from './ImageProvider2';\r\nimport UserUploadFileHandler from './UserUploadFileHandler'\r\nexport default class ImageHandler {\r\n    \r\n    constructor(fileListObect, data_provider) {\r\n        this.file_handler = new UserUploadFileHandler(fileListObect)\r\n        this.data_provider = data_provider\r\n    }\r\n\r\n    getObjsToURLs = async function(objects) { // takes {ImageNumber: .. ObjectNumber: .. }\r\n        var urls = [];\r\n        for (var i = 0; i < objects.length; i++) {\r\n            var cur_ImageNum = objects[i].ImageNumber;\r\n            var image_info = [];\r\n            var key = cur_ImageNum.toString()\r\n            image_info = await this.getImagefromFile(cur_ImageNum)\r\n             var cords = this.data_provider.getCordsforCellDisplay(objects[i])\r\n             var ip = new ImageProvider2({cords: cords})\r\n             var url = await ip.getDataURL(image_info)\r\n             urls.push(url)           \r\n         }\r\n         return urls;\r\n\r\n    }\r\n    getImgUrl = async function(object) { //takes {ImageNumber:...}\r\n        var image_info = this.getImagesfromFile(object);\r\n        var ip = new ImageProvider2({image_type: 'whole'})\r\n        return ip.getDataUrl(image_info)\r\n    }\r\n    // returns array of                \r\n    getImagefromFile = async function(object) {\r\n        console.log(object)\r\n        var images_path = this.data_provider.returnAllImgFileNames(object)\r\n\r\n        var images = await Promise.all(images_path.map(image_path => {\r\n            var file = this.file_handler.findFile(image_path.filename)\r\n            return this.file_handler.fileReaderPromiseImage(file).then( image =>{\r\n                return this.makeImage(image);\r\n            })\r\n         }))\r\n        var image_info = []\r\n        for (var i = 0; i < images.length; i++) {\r\n            delete images_path.filename\r\n            images_path[i].image = images[i]\r\n        }\r\n        return images_path\r\n    }\r\n    makeImage(image) {\r\n        var img = new Image()\r\n        img.src = image\r\n        return img\r\n    }\r\n}\r\nexport {ImageHandler}","\r\nimport _ from \"lodash\"; \r\n\r\nclass ImageGridManager {\r\n\r\n    classifications = []\r\n    \r\n    constructor(data_pairs, dataurls) {\r\n\r\n      \r\n      if (!data_pairs || !dataurls) {\r\n          throw new Error(\"Constructor Error on no data url or data pairs passed in\")\r\n      }\r\n\r\n      if(data_pairs.length !== dataurls.length){\r\n        throw new Error(\"Constructor Error on mismatched data pair and dataurl length\") \r\n      }\r\n\r\n      this.data_pairs = data_pairs\r\n      this.dataurls = dataurls\r\n  \r\n      for(var i = 0; i < this.data_pairs.length; i++){\r\n      this.classifications.push(\"unclassified\")\r\n      }\r\n\r\n    }\r\n\r\n    static getDataUrlFromImg(img) {\r\n      // Create canvas\r\n      const canvas = document.createElement('canvas');\r\n      const ctx = canvas.getContext('2d');\r\n      // Set width and height\r\n      //canvas.width = img.width;\r\n      //canvas.height = img.height;\r\n      //console.log(img)\r\n      const image_object = new Image()\r\n      image_object.onload = (() => {\r\n          ctx.drawImage(image_object, 0, 0)\r\n          //console.log(canvas.toDataURL())\r\n          //(canvas.toDataURL().length);\r\n      })\r\n      image_object.src = img;\r\n      image_object.crossOrigin = \"Anonymous\"\r\n      \r\n      var outputURL = canvas.toDataURL()\r\n      return outputURL\r\n      // Draw the image\r\n      //ctx.drawImage(img, 0, 0);\r\n\r\n    }\r\n\r\n    getNumberImages () {\r\n      return this.data_pairs.length\r\n    }\r\n\r\n\r\n    getDataUrlByIndex (index) {\r\n      return this.dataurls[index]\r\n    }\r\n\r\n    setImageClassByIndex (index, gridType) {\r\n      if(index === undefined || gridType === undefined){\r\n        throw new Error \r\n        (\"setImageClassByIndex Error must have 2 arguments: index and class\")\r\n      }\r\n\r\n      if(_.includes([\"unclassified\", \"positive\", \"negative\"], gridType)){\r\n        this.classifications[index] = gridType\r\n      }\r\n\r\n      else{\r\n        throw new Error\r\n        (\"setImageClassByIndex Error incorrect class to set:\" +\" \"+gridType+ \", must be: unclassified, positive, negative\")\r\n      }\r\n    }\r\n\r\n    //get indices of all occurences of gridType\r\n    getAllIndexes(arr, val) {\r\n      var indexes = [], i = -1;\r\n      while ((i = arr.indexOf(val, i+1)) != -1){\r\n          indexes.push(i);\r\n      }\r\n      return indexes;\r\n    }\r\n\r\n    getPairsByClass (gridType) {\r\n\r\n      if(_.includes([\"unclassified\", \"positive\", \"negative\"], gridType)){\r\n        const final = []\r\n        var indices = this.getAllIndexes(this.classifications, gridType)\r\n        for(var i = 0; i < indices.length; i++){\r\n          final.push(this.data_pairs[indices[i]])\r\n        }\r\n        return final\r\n      }\r\n      else {\r\n        throw new Error \r\n        (\"wrong class entered\")\r\n      }\r\n\r\n    }\r\n\r\n    setClassByIndexArray (gridType, arr) {\r\n      if(_.includes([\"unclassified\", \"positive\", \"negative\"], gridType)){\r\n        for(var i = 0; i < arr.length; i++){\r\n          this.classifications[arr[i]] = gridType\r\n        }\r\n      }\r\n      else {\r\n        throw new Error\r\n        (\"wrong class entered\")\r\n      }\r\n    }\r\n  //   render(){\r\n      \r\n    \r\n  //     const urls = [];\r\n  //     //construct list of dataUrls\r\n  //     urls.push(imGridManager.getDataUrlFromImg(Elephant))\r\n  //     urls.push(imGridManager.getDataUrlFromImg(cheetah))\r\n  //     urls.push(imGridManager.getDataUrlFromImg(puggy))\r\n  //     urls.push(imGridManager.getDataUrlFromImg(labrador))\r\n  //     urls.push(imGridManager.getDataUrlFromImg(cat))\r\n      \r\n  //     //console.log(urls[0])\r\n\r\n  //     const data_pairs = [{\r\n  //         \"ImageKey\": 2, \r\n  //         \"ObjectKey\" : 3\r\n  //          },\r\n  //          {\r\n  //           \"ImageKey\": 3,\r\n  //           \"ObjectKey\":4   \r\n  //          },\r\n  //          {\r\n  //           \"ImageKey\": 4,\r\n  //           \"ObkectKey\": 5  \r\n  //          },\r\n  //          {\r\n  //           \"ImageKey\":5,\r\n  //           \"ObjectKey\":6\r\n  //          },\r\n  //          {\r\n  //           \"ImageKey\": 6,\r\n  //           \"ObjectKey\": 7\r\n  //          }\r\n  //       ]\r\n\r\n  //     const classifications = []\r\n  //     var size = data_pairs.length\r\n      \r\n  //     //create classfication array and fill up indices up to size of \r\n  //     // data_pair array\r\n  //     for(var i = 0; i < size; i++){\r\n  //       classifications.push(\"unclassified\")\r\n  //     }\r\n  //     //console.log(classifications)\r\n      \r\n      \r\n  //     //test get_url_by_ID function\r\n  //     //const val = get_url_by_ID(2)\r\n  //     //console.log(val)\r\n    \r\n      \r\n\r\n  //     //test get_number_images function\r\n  //     //console.log(get_number_images(data_pairs))\r\n\r\n      \r\n  //     set_grid_prop(1, \"positive\")\r\n  //     set_grid_prop(2, \"negative\")\r\n  //     //console.log(classifications)\r\n\r\n  //     const get_pairs = (gridType) => {\r\n  //         const pairs = []\r\n  //         for(var i = 0; i < classifications.length; i++){\r\n  //             if(classifications[i] === gridType){\r\n  //                 pairs.push(data_pairs[i])\r\n  //             }\r\n  //         }\r\n  //         return pairs\r\n  //     }\r\n\r\n  //     console.log(get_pairs(\"unclassified\"))\r\n  //     return;\r\n  //     // return (\r\n  //     //    <div>\r\n  //     //        <p>imGridManager</p>\r\n  //     //    </div>\r\n         \r\n  //     //    );\r\n \r\n  //  }\r\n\r\n}\r\nexport {ImageGridManager} \r\n//ReactDOM.render(<imGridManager />, document.getElementById('root'));\r\n","import React from 'react';\r\nimport { Row, Col, Container} from \"reactstrap\";\r\nimport {Box, Button, Grid, IconButton, Menu, MenuItem, Card}from '@material-ui/core'; \r\nimport logo from '../cpa_logo(blue).svg';\r\nimport {Image, Dropdown, DropdownButton} from 'react-bootstrap';\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\nimport SaveAltIcon from '@material-ui/icons/SaveAlt';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { green } from '@material-ui/core/colors';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport CheckIcon from '@material-ui/icons/Check';\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\n\r\nimport UploadHandler from '../classes/UploadHandler'\r\nimport {ClassifierManager} from '../classes/ClassifierManager'\r\nimport {ImageHandler}  from '../classes/ImageHandler'\r\nimport UserUploadFileHandler from '../classes/UserUploadFileHandler'\r\nimport {ImageGridManager}  from '../classes/imGridManager'\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Select from '@material-ui/core/Select';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport ConfusionMatrix from './AbbyUIButtons/Evaluate_Canvas'\r\n\r\n\r\n\r\n\r\n//import UploadButton from './UploadButton'\r\n\r\nimport Evaluate from './AbbyUIButtons/UIEvaluateButton'\r\nimport ScoreAll from './UIScoreAllButton'\r\n\r\n\r\nimport {\r\n    GridContextProvider,\r\n    GridDropZone,\r\n    GridItem,\r\n    swap,\r\n    move\r\n  } from \"react-grid-dnd\";\r\n  \r\n  import \"../dndstyles.css\";\r\nimport { truncatedNormal } from '@tensorflow/tfjs-core';\r\nimport UploadButton from './UploadButton';\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n    },\r\n    wrapper: {\r\n      margin: theme.spacing(1),\r\n      position: 'relative',\r\n    },\r\n    buttonSuccess: {\r\n      backgroundColor: green[500],\r\n      '&:hover': {\r\n        backgroundColor: green[700],\r\n      },\r\n    },\r\n    fabProgress: {\r\n      color: green[500],\r\n      position: 'absolute',\r\n      top: -6,\r\n      left: -6,\r\n      zIndex: 1,\r\n    },\r\n    buttonProgress: {\r\n      color: green[500],\r\n      position: 'absolute',\r\n      top: '50%',\r\n      left: '50%',\r\n      marginTop: -12,\r\n      marginLeft: -12,\r\n    },\r\n    \r\n  }));\r\n\r\n\r\nfunction TestUIMVP(){\r\n    \r\n    \r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const [dataProvider, setDataProvider] = React.useState(null)\r\n\r\n    // var classifierManager = null;\r\n    // const [classifierManager, setClassifierManager] = React.useState(null)\r\n    const [trainingObject, setTrainingObject] = React.useState(null)\r\n    const [fileListObject, setFileListObject] = React.useState(null)\r\n    const [tileState, setTileState] = React.useState( constructTileState([]) );\r\n    const [imageGridManager, setImageGridManager] = React.useState(null)\r\n    const [lastFetchState, setLastFetchState] = React.useState(null)\r\n    const [featuresToUse, setFeaturesToUseState] = React.useState(null)\r\n\r\n    const [fetchButtonEnabled, setFetchButtonEnabled] = React.useState(false)\r\n    const [trainButtonEnabled, setTrainButtonEnabled] = React.useState(false)\r\n    const [evaluateButtonEnabled, setEvaluateButtonEnabled] = React.useState(false)\r\n    const [downloadButtonEnabled, setDownloadButtonEnabled] = React.useState(false)\r\n    const [uploadButtonEnabled, setUploadButtonEnabled] = React.useState(true)\r\n    const [scoreAllButtonEnabled, setScoreAllButtonEnabled] = React.useState(false)\r\n    const [uploading, setUploading] = React.useState(false)\r\n    const [success, setSuccess] = React.useState(false)\r\n    const [fetching, setFetching] = React.useState(false)\r\n    const [openFetchDropdown, setOpenFetchDropdown] = React.useState(false);\r\n    const [openViewCell, setOpenViewCell] = React.useState(false);\r\n    const [openEvaulate, setOpenEvaulate] = React.useState(false);\r\n\r\n\r\n    const handleClickOpenViewCell = () => {\r\n      setOpenViewCell(true);\r\n    };\r\n  \r\n    const handleCloseViewCell = () => {\r\n      setOpenViewCell(false);\r\n    };\r\n\r\n    const handleClickOpenEvaulate = () => {\r\n      setOpenEvaulate(true);\r\n      \r\n    };\r\n    const handleCloseEvaulate = () => {\r\n      setOpenEvaulate(false);\r\n      \r\n    };\r\n\r\n    \r\n    const classes = useStyles();\r\n    const buttonClassname = clsx({\r\n      [classes.buttonSuccess]: success,\r\n    });\r\n\r\n    const N = 20\r\n\r\n    const handleClickFetchDropDown = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleCloseFetchDropDown = () => {\r\n        setAnchorEl(null)\r\n    };\r\n    const handleClickFetchDropDownOption = (fetchType) => {\r\n      setAnchorEl(null)\r\n       if (fetchType !== undefined) {\r\n          handleFetch(fetchType)\r\n       }\r\n  };\r\n\r\n\r\n    const disableIterationButtons = () => {\r\n      setFetchButtonEnabled(false)\r\n      setTrainButtonEnabled(false)\r\n      setDownloadButtonEnabled(false)\r\n      setEvaluateButtonEnabled(false)\r\n      setScoreAllButtonEnabled(false)\r\n    }\r\n    const enableIterationButtons = () => {\r\n      setFetchButtonEnabled(true)\r\n      setTrainButtonEnabled(true)\r\n      setDownloadButtonEnabled(true)\r\n      setEvaluateButtonEnabled(true)\r\n      setScoreAllButtonEnabled(true)\r\n\r\n    }\r\n\r\n    const handleFetch = async (fetchType) => {\r\n      setFetching(true)\r\n      disableIterationButtons()\r\n      const emptyTileState = { unclassified: [], positive: [], negative: []}\r\n      setTileState(emptyTileState)\r\n      const classifierManager = new ClassifierManager(dataProvider, trainingObject)\r\n      await classifierManager.initTrainPromise()\r\n      setLastFetchState(fetchType)\r\n      const classedCellPairObjects = classifierManager.fetchUpToNCellPairsByClass(fetchType, N)\r\n     // const cellToolTips = classedCellPairObjects.map(cellPair => dataProvider.getToolTip(cellPair.ImageNumber))\r\n      const ih = new ImageHandler(fileListObject, dataProvider)\r\n      const dataURLS = await ih.getObjsToURLs(classedCellPairObjects)\r\n      const newTileState = constructTileState(dataURLS)\r\n      setTileState(newTileState)\r\n      setImageGridManager(new ImageGridManager(classedCellPairObjects, dataURLS))\r\n      enableIterationButtons()\r\n      setImageGridManager(classedCellPairObjects, dataURLS)\r\n      enableIterationButtons()\r\n      setFetching(false)\r\n      return\r\n    }\r\n    \r\n\r\n\r\n  const handleTrain = async () => {\r\n\r\n    disableIterationButtons()\r\n\r\n      const negativeIDs = tileState.negative.map(item => item.id)\r\n      const positiveIDs = tileState.positive.map(item => item.id)\r\n      console.log(negativeIDs, tileState)\r\n      imageGridManager.setClassByIndexArray('negative', negativeIDs)\r\n      imageGridManager.setClassByIndexArray('positive', positiveIDs)\r\n\r\n      const negativeCellPairs = imageGridManager.getPairsByClass('negative')`1`\r\n      const positiveCellPairs = imageGridManager.getPairsByClass('positive')\r\n \r\n      const negativeObjectDataRows = negativeCellPairs.map(cellPair => dataProvider.getRow('object_data', {ImageNumber: cellPair.ImageNumber, ObjectNumber: cellPair.ObjectNumber}))\r\n      const positiveObjectDataRows = positiveCellPairs.map(cellPair => dataProvider.getRow('object_data', {ImageNumber: cellPair.ImageNumber, ObjectNumber: cellPair.ObjectNumber}))\r\n      const trainingDataAddition = [...negativeObjectDataRows, ...positiveObjectDataRows]\r\n\r\n      const negativeLabels = new Array(negativeObjectDataRows.length).fill(0)\r\n      const positiveLabels = new Array(positiveObjectDataRows.length).fill(1)\r\n      const trainingLabelsAddition = negativeLabels.concat(positiveLabels)\r\n\r\n      const UpdatedTrainingObject = {\r\n        classifierType: \"LogisticRegression\",\r\n        trainingData: [...trainingDataAddition, ...trainingObject.trainingData],\r\n        trainingLabels: [...trainingLabelsAddition, ...trainingObject.trainingLabels],\r\n        featuresToUse: featuresToUse\r\n      }\r\n      console.log(UpdatedTrainingObject)\r\n      setTrainingObject(UpdatedTrainingObject)\r\n      // const newClassifierManager = new ClassifierManager(dataProvider, UpdatedTrainingObject)\r\n      \r\n      \r\n      // setClassifierManager(newClassifierManager)\r\n\r\n      const clearedTileState = { unclassified: tileState.unclassified, positive: [], negative: []}\r\n      setTileState(clearedTileState)\r\n      console.log(\"finished train\")\r\n      enableIterationButtons()\r\n    \r\n  }\r\n\r\n    const handleUpload = async (fileListObject) => {\r\n        setUploading(true)\r\n        setUploadButtonEnabled(false)\r\n        setFileListObject(fileListObject)\r\n        const uploadHandler = new UploadHandler(fileListObject)\r\n        const uploadReturnObject = await uploadHandler.getDataHandlerandStartingTrainingSet();\r\n\r\n        const dataProvider = uploadReturnObject.data_provider\r\n        setDataProvider(dataProvider)\r\n        const trainingTable = uploadReturnObject.training_data.training_table\r\n        const trainingDataTable = trainingTable.getDataColumnsPaired()\r\n\r\n        const trainingLabels = trainingTable.getTrainingLabels()\r\n        const initialTrainingData = trainingDataTable.map(row_object => {\r\n            const ObjectNumber = row_object['objectnum']\r\n            const ImageNumber = row_object['imagenum']\r\n            return dataProvider.getRow('object_data', {ObjectNumber, ImageNumber})\r\n        })\r\n        const totalFeatures = uploadReturnObject.training_data.features\r\n        const tempFeaturesToUse = totalFeatures.filter((elem)=>!elem.includes(\"Location\") && (elem !== \"ObjectNumber\") && (elem !== \"ImageNumber\"))\r\n        setFeaturesToUseState(tempFeaturesToUse)\r\n        console.log(\"finished data initialization\")\r\n        const initialTrainingObject = {\r\n            classifierType: \"LogisticRegression\",\r\n            trainingData: initialTrainingData,\r\n            trainingLabels: trainingLabels,\r\n            featuresToUse: tempFeaturesToUse\r\n        }\r\n        setTrainingObject(initialTrainingObject)\r\n        // console.log(\"starting initial training\")\r\n        // const newClassifierManager = new ClassifierManager(dataProvider, initialTrainingObject)\r\n        \r\n        // setClassifierManager(newClassifierManager)\r\n\r\n        setFetchButtonEnabled(true)\r\n        setTrainButtonEnabled(true)\r\n        setDownloadButtonEnabled(true)\r\n        setEvaluateButtonEnabled(true)\r\n        \r\n        \r\n        console.log(\"finished upload\")\r\n\r\n    setTrainingObject(initialTrainingObject)\r\n    // console.log(\"starting initial training\")\r\n    // const newClassifierManager = new ClassifierManager(dataProvider, initialTrainingObject)\r\n    \r\n    // setClassifierManager(newClassifierManager)\r\n\r\n    setFetchButtonEnabled(true)\r\n    setTrainButtonEnabled(true)\r\n    setDownloadButtonEnabled(true)\r\n    setScoreAllButtonEnabled(true)\r\n    setEvaluateButtonEnabled(true)\r\n    setUploadButtonEnabled(false)\r\n      \r\n    console.log(\"finished upload\")\r\n    setUploading(false)\r\n    setSuccess(true)\r\n\r\n  }\r\n    const handleDownload = async () => {\r\n      disableIterationButtons()\r\n      const classifierManager = new ClassifierManager(dataProvider, trainingObject)\r\n      await classifierManager.initTrainPromise()\r\n      classifierManager.userDownloadClassifierSpecPromise()\r\n      enableIterationButtons()\r\n    }\r\n\r\n    \r\n    function constructTileState(dataURLs, cellToolTips) {\r\n        return {\r\n            unclassified: dataURLs.map((dataURL, idx) => {return {id: idx, address: dataURL, info: \"cellToolTips[idx]\"}}),  \r\n            positive: [],\r\n            negative: []\r\n        };\r\n    }\r\n\r\n    function onChange(sourceId, sourceIndex, targetIndex, targetId) {\r\n        if (targetId) {\r\n          const result = move(\r\n            tileState[sourceId],\r\n            tileState[targetId],\r\n            sourceIndex,\r\n            targetIndex\r\n          );\r\n          return setTileState({\r\n            ...tileState,\r\n            [sourceId]: result[0],\r\n            [targetId]: result[1]\r\n          });\r\n        }\r\n    \r\n        const result = swap(tileState[sourceId], sourceIndex, targetIndex);\r\n        return setTileState({\r\n          ...tileState,\r\n          [sourceId]: result\r\n        });\r\n      }\r\n    \r\n      const handleClickOpenFetchDropdownByImg = () => {\r\n        setOpenFetchDropdown(true);\r\n      };\r\n   \r\n      const handleCloseFetchDropdownByImg = () => {\r\n        setOpenFetchDropdown(false);\r\n      };\r\n\r\n      const imageDialogComponent = (item) => {\r\n              return (<Dialog\r\n                open={openViewCell}\r\n                onClose={handleCloseViewCell}\r\n                aria-labelledby=\"alert-dialog-title\"\r\n                aria-describedby=\"alert-dialog-description\"\r\n                >\r\n                  <Image\r\n                      src = {item.address}  \r\n                    />\r\n                  \r\n                  <DialogActions>\r\n                  <Button onClick={handleCloseViewCell} color=\"primary\">\r\n                    Close\r\n                  </Button>\r\n                </DialogActions>\r\n              </Dialog>)\r\n      };\r\n      \r\n\r\n    return (\r\n       \r\n\r\n        <GridContextProvider onChange={onChange}>\r\n             \r\n        <div style={{ overflowX:\"hidden\", hieght: \"100%\", width: \"100%\" }}>\r\n      \r\n        <Row>\r\n        <Image src={logo} style={{marginLeft:\"10%\", height:\"30%\", width:\"25%\",position:\"relative\", maxHeight:\"125px\", marginBottom:\"1%\"}}></Image>\r\n       \r\n        <Col style = {{left:'40%'}}>\r\n        <div className={classes.root}>\r\n      <div className={classes.wrapper}>\r\n       <Tooltip title=\"Load Data\" aria-label=\"load data\">\r\n        <Fab\r\n          aria-label=\"save\"\r\n          color=\"primary\"\r\n          component=\"label\"\r\n          className={buttonClassname}\r\n          style =  {{height: '5vw', width: '5vw'}}\r\n        >\r\n        \r\n          {success ? <CheckIcon style =  {{ hieght: \"50%\", width: \"50%\"}}/> : <CloudUploadIcon style =  {{ hieght: \"50%\", width: \"50%\"}}/>}\r\n          <input  type=\"file\"\r\n                hidden webkitdirectory=\"true\"\r\n                mozdirectory=\"true\"\r\n                msdirectory=\"true\"\r\n                odirectory=\"true\"\r\n                directory=\"true\"\r\n                multiple\r\n                onChange = {(eventObject)=>{handleUpload(eventObject)}}  \r\n                disabled={!uploadButtonEnabled} \r\n               \r\n        />\r\n        </Fab>\r\n        </Tooltip>\r\n        {/* size={68}  */}\r\n        {uploading && <CircularProgress className={classes.fabProgress} style={{height: '6vw', width: '6vw', marginTop:\"4%\", marginRight:\"4%\"}}/>}\r\n      </div>  \r\n    </div>\r\n        </Col>\r\n        <Col style = {{left: '15%', marginTop: '.75%'}}>\r\n        <Tooltip title=\"Download\" aria-label=\"download\">\r\n        <Fab \r\n         aria-label=\"save\"\r\n         color=\"primary\"\r\n         component=\"label\"\r\n        disabled={!downloadButtonEnabled} \r\n        onClick={handleDownload}\r\n        style =  {{height: '5vw', width: '5vw'}}\r\n        > <SaveAltIcon style =  {{ hieght: \"50%\", width: \"50%\"}} /></Fab> \r\n        </Tooltip>\r\n        </Col>\r\n       \r\n        </Row>\r\n        <Row>\r\n        \r\n        <Grid container justify=\"center\" spacing={2} style={{marginBottom: 15}}>\r\n       \r\n        <Grid key={0} item>\r\n            <Button disabled={!fetchButtonEnabled} variant=\"contained\" aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClickFetchDropDown}>\r\n            Fetch\r\n            </Button>\r\n            <Menu\r\n            id=\"simple-menu\"\r\n            anchorEl={anchorEl}\r\n            keepMounted\r\n            open={Boolean(anchorEl)}\r\n            onClose={handleCloseFetchDropDown}\r\n            >\r\n            <MenuItem onClick={()=>handleClickFetchDropDownOption(\"random\")}>Random</MenuItem>\r\n            <MenuItem onClick={()=>handleClickFetchDropDownOption(\"positive\")}>Positive</MenuItem>\r\n            <MenuItem onClick={()=>handleClickFetchDropDownOption(\"negative\")}>Negative</MenuItem>\r\n            <MenuItem onClick={handleClickOpenFetchDropdownByImg}>By Image</MenuItem>\r\n           \r\n                <Dialog\r\n            open={openFetchDropdown}\r\n            onClose={handleCloseFetchDropdownByImg}\r\n        \r\n            >\r\n            <DialogTitle>Fetch By Image</DialogTitle>\r\n            <DialogContent>\r\n            <DialogContentText>\r\n                Select the image number you would like to fetch from. \r\n            </DialogContentText>\r\n            <form  noValidate >\r\n                <FormControl >\r\n                <InputLabel >Image</InputLabel>\r\n                <Select\r\n                    autoFocus>\r\n                    <MenuItem value=\"1\">1</MenuItem>\r\n                    <MenuItem value=\"2\">2</MenuItem>\r\n                    <MenuItem value=\"3\">3</MenuItem>\r\n                    <MenuItem value=\"4\" >4</MenuItem>\r\n                    <MenuItem value=\"5\" >5</MenuItem>\r\n                </Select>\r\n                </FormControl>\r\n            </form>\r\n            </DialogContent>\r\n            <DialogActions>\r\n            <Button onClick={handleCloseFetchDropdownByImg} color=\"primary\">\r\n                Close\r\n            </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n            \r\n            </Menu>\r\n    </Grid>\r\n\r\n\r\n        <Grid key={1} item>\r\n            {/* style = {{height: \"5vw\", width:\"10vw\", minHeight:2, maxHeight: 35, maxwidth: 50, fontSize: \"max(1.5vw, 20)\"}}  */}\r\n        <Button disabled={!trainButtonEnabled} variant=\"contained\" onClick={handleTrain}>Train</Button>\r\n        </Grid>\r\n\r\n        <Grid key={2} item>\r\n         {/* <Button disabled={!evaluateButtonEnabled} variant=\"contained\" onClick={()=>{}}>Evaluate</Button>  */}\r\n          {/* TODO: need to fix button disabled DONE*/}\r\n          {!evaluateButtonEnabled ? <Button disabled={!evaluateButtonEnabled} variant=\"contained\" onClick={()=>{}}>Evaluate</Button> : <Evaluate></Evaluate>}\r\n        </Grid>\r\n\r\n        <Grid key={3} item>\r\n        {/* <Button  disabled={!scoreAllButtonEnabled} variant=\"contained\" onClick={()=>{}}>Score All</Button> */}\r\n          {/* TODO: need to fix button disabled DONE*/}\r\n          \r\n          {!evaluateButtonEnabled ? <Button disabled={!evaluateButtonEnabled} onClick={handleClickOpenEvaulate}variant=\"contained\" onClick={()=>{}}>Score All</Button> : <ScoreAll></ScoreAll>}\r\n          <Dialog\r\n            open={openEvaulate}\r\n            TransitionComponent={Transition}\r\n            keepMounted\r\n            onClose={handleCloseEvaulate}>\r\n\r\n            <CloseIcon onClick = {handleCloseEvaulate} style={{position: 'absolute', right: '10px', top: '10px',}}></CloseIcon>  \r\n\r\n            <ConfusionMatrix></ConfusionMatrix>\r\n            \r\n          </Dialog>\r\n        </Grid>\r\n        \r\n    </Grid>\r\n    </Row>\r\n\r\n  \r\n        <div>\r\n        \r\n        \r\n        <label style = {{textAlign:\"left\", backgroundColor: 'white', paddingLeft: \"10%\", marginBottom:\"0.5%\", userSelect: \"none\"} }>Unclassified </label>\r\n      \r\n        <div>\r\n        <GridDropZone\r\n             className=\"dropzone \"\r\n            id=\"unclassified\"\r\n            boxesPerRow={8}\r\n            rowHeight={80}\r\n            style={{height: \"20vw\", maxHeight: 200, minHeight:150, marginBottom:10, marginLeft: \"10%\", width:\"80%\"}}\r\n          >   \r\n            {!fetching ? tileState.unclassified.map(item => (\r\n              <GridItem className= \"hoverTest\"  style={{height: \"20vw\", width: \"10vw\", minHeight:80, minWidth: 80, maxHeight: 105, maxWidth: 105, padding:10}} key={item.id}>\r\n                    {/* {imageDialogComponent} */}\r\n                <Button className=\"grid-item\" onClick = {handleClickOpenViewCell} >\r\n                    <div className=\"grid-item-content\"   style = {{backgroundImage:  `url(${item.address})`}} >\r\n                    <span className= \"hoverText\">{item.info}</span>  \r\n                               \r\n                </div>\r\n               \r\n                </Button>\r\n              </GridItem>\r\n              \r\n            )) : <CircularProgress style= {{height: '5vw', width: '5vw', marginTop: \"5%\", marginLeft: \"45%\"}}/>} \r\n        \r\n          </GridDropZone>\r\n         \r\n          </div>\r\n               \r\n        \r\n        <Row>\r\n       \r\n          <label style = {{textAlign:\"left\", backgroundColor: 'white', paddingLeft: \"11%\", userSelect: \"none\", marginBottom:\"0.5%\", marginTop:0} }>Positive</label> \r\n    \r\n        \r\n          <label style = {{textAlign:\"left\", backgroundColor: 'white', paddingRight: \"8%\", userSelect: \"none\", margin: \"auto\",  marginBottom:\"0.5%\", marginTop:0} }>Negative</label>\r\n       \r\n          </Row>\r\n         \r\n         <Row>\r\n\r\n          <GridDropZone\r\n            className=\"dropzone positive\"\r\n            id=\"positive\"\r\n            boxesPerRow={4}\r\n            rowHeight={80}\r\n            style={{height: \"20vw\", maxHeight: 200, minHeight:150}}\r\n          >\r\n            \r\n            {tileState.positive.map(item => (\r\n              <GridItem className= \"hoverTest\" style={{height:\"50vw\", width: \"10vw\", minHeight: 80, minWidth: 80, maxHeight: 205, maxWidth: 105, padding:10}} key={item.id}>\r\n                <div className=\"grid-item\"> \r\n                    <div className=\"grid-item-content\" style = {{backgroundImage: `url(${item.address})`}}>\r\n                    <span className= \"hoverText\">{item.info}</span>\r\n                        </div>  \r\n                </div>\r\n              </GridItem>\r\n            ))}\r\n          </GridDropZone>\r\n   \r\n      \r\n          <GridDropZone\r\n            className=\"dropzone negative\"\r\n            id=\"negative\"\r\n            boxesPerRow={4}\r\n            rowHeight= {80}\r\n            style={{height: \"20vw\", maxHeight: 200, minHeight:150}}\r\n          >\r\n            {tileState.negative.map(item => (\r\n              <GridItem className= \"hoverTest\" style={{height:\"10vw\", width: \"10vw\", minHeight: 80, minWidth: 80, maxHeight: 105, maxWidth: 105, padding: 10}} key={item.address}>\r\n                <div className=\"grid-item\">\r\n                <div className=\"grid-item-content\" style = {{backgroundImage: `url(${item.address})`}}>\r\n                <span className= \"hoverText\">{item.info}</span>\r\n                        </div>      \r\n                </div>\r\n              </GridItem>\r\n            ))}\r\n          </GridDropZone>\r\n\r\n     \r\n      \r\n        </Row>\r\n        </div>\r\n      \r\n \r\n    </div>\r\n    </GridContextProvider>\r\n\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default TestUIMVP; ","export default function _taggedTemplateLiteralLoose(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  strings.raw = raw;\n  return strings;\n}","export default \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MjguNzMgMTA0LjY1Ij48ZGVmcz48c3R5bGU+LmNscy0xe2lzb2xhdGlvbjppc29sYXRlO30uY2xzLTJ7Zm9udC1zaXplOjM0LjY5cHg7fS5jbHMtMTAsLmNscy0ye2ZpbGw6IzIzMWYyMDtmb250LWZhbWlseTpBdmVuaXItTWVkaXVtLCBBdmVuaXI7Zm9udC13ZWlnaHQ6NTAwO30uY2xzLTN7bGV0dGVyLXNwYWNpbmc6LTAuMDJlbTt9LmNscy00e2ZpbGw6IzY3OTdjYjt9LmNscy01e2ZpbGw6IzU2ODdiYTt9LmNscy02e29wYWNpdHk6MC4yO21peC1ibGVuZC1tb2RlOm11bHRpcGx5O30uY2xzLTd7ZmlsbDojMjYzMjM4O30uY2xzLTh7ZmlsbDojNTA2MWE3O30uY2xzLTl7ZmlsbDojZjJmNmY4O30uY2xzLTEwe2ZvbnQtc2l6ZTozNy4xOXB4O30uY2xzLTExe2xldHRlci1zcGFjaW5nOi0wLjA1ZW07fS5jbHMtMTJ7c3Ryb2tlOiMyMzFmMjA7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOjAuMjVweDtsZXR0ZXItc3BhY2luZzowZW07fTwvc3R5bGU+PC9kZWZzPjxnIGNsYXNzPSJjbHMtMSI+PGcgaWQ9IkxheWVyXzEiIGRhdGEtbmFtZT0iTGF5ZXIgMSI+PHRleHQgY2xhc3M9ImNscy0yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMDQuOTYgNTcuMikiPkNlbGxQPHRzcGFuIGNsYXNzPSJjbHMtMyIgeD0iODAuOTIiIHk9IjAiPnI8L3RzcGFuPjx0c3BhbiB4PSI5My4xMyIgeT0iMCI+b2ZpbGVyPC90c3Bhbj48L3RleHQ+PHRleHQgeD0iLTE3LjgxIiB5PSItMjEuNzQiLz48cmVjdCBpZD0iQmFja2dyb3VuZCIgY2xhc3M9ImNscy00IiB3aWR0aD0iOTcuOTYiIGhlaWdodD0iOTcuOTYiIHJ4PSIxMiIvPjxwYXRoIGNsYXNzPSJjbHMtNSIgZD0iTTEwNS41OSw0NWE5LDksMCwwLDAtMi41OS0uOTVjLTMuNDItLjc1LTYuOTItLjg3LTEwLjM4LTEuMjgtNS4zNi0uNjUtMTAuNjktMS40OC0xNi0yLjYxYTEwOS44MywxMDkuODMsMCwwLDEtMjQuMi04LjA5LDI5LjMzLDI5LjMzLDAsMCwwLTYuOTMtMi40N2MtMi40MS0uNDgtMy45My4zMS00Ljc4LDIuNTFBMjEsMjEsMCwwLDAsMzkuNjEsMzhhMTAxLjIzLDEwMS4yMywwLDAsMS0yLjMsMTUuMTcsNzIuODUsNzIuODUsMCwwLDEtNy44OSwyMC41NCwyNC43MiwyNC43MiwwLDAsMC0yLjY3LDUuODJBMy44OCwzLjg4LDAsMCwwLDI3Ljg3LDg0Yy4xMy4xNiwzNS42MiwzNS42NCwzNS43LDM1LjcxSDEwOGE3Ljc1LDcuNzUsMCwwLDAsNy43My03LjczVjU1UzEwNiw0NS4yMywxMDUuNTksNDVaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcuODEgLTIxLjc0KSIvPjxnIGlkPSJCYWNrZ3JvdW5kLTIiIGRhdGEtbmFtZT0iQmFja2dyb3VuZCI+PGcgY2xhc3M9ImNscy02Ij48cGF0aCBjbGFzcz0iY2xzLTciIGQ9Ik0xMDcuMDgsNDguNjNhOC43LDguNywwLDAsMS0xLDMuMTUsNjkuMzksNjkuMzksMCwwLDEtNS42Myw4LjczLDExMC42NCwxMTAuNjQsMCwwLDAtNi40NywxMGMtMS42MiwyLjktMi44Myw2LTQuMjgsOC45NC0yLjkyLDYtNS45NCwxMi04LjQ4LDE4LjExLTEuMjksMy4xMy0yLjI1LDYuMzUtMy4zNCw5LjU0QTE0LjIyLDE0LjIyLDAsMCwxLDc2LDExMS4xNWE1LDUsMCwwLDEtMi42OSwxLjc1LDMuMzMsMy4zMywwLDAsMS0yLjY2LS43NiwxNS40NiwxNS40NiwwLDAsMS0zLTIuNDNjLTYuMTgtNi4zMy0xMy42NS0xMS0yMS4zOC0xNS40NWExMjQuMTcsMTI0LjE3LDAsMCwwLTE0LTYuNzIsMTguNDcsMTguNDcsMCwwLDEtMy41Ny0xLjg5Yy0yLTEuNC0yLjU3LTIuODEtMS45NC01LjA5YTI0LjcyLDI0LjcyLDAsMCwxLDIuNjctNS44MkE3Mi44NSw3Mi44NSwwLDAsMCwzNy4zMSw1NC4yLDEwMS4yMywxMDEuMjMsMCwwLDAsMzkuNjEsMzlhMjEsMjEsMCwwLDEsMS4xMy01LjkxYy44NS0yLjIsMi4zNy0zLDQuNzgtMi41MWEyOS4zMywyOS4zMywwLDAsMSw2LjkzLDIuNDcsMTA5LjgzLDEwOS44MywwLDAsMCwyNC4yLDguMDljNS4yOCwxLjEzLDEwLjYxLDIsMTYsMi42MSwzLjQ2LjQxLDcsLjUzLDEwLjM4LDEuMjhhOSw5LDAsMCwxLDIuNTkuOTVBMi44LDIuOCwwLDAsMSwxMDcuMDgsNDguNjNaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcuODEgLTIxLjc0KSIvPjwvZz48cGF0aCBjbGFzcz0iY2xzLTgiIGQ9Ik0xMDcuMDgsNDcuNjNhOC43LDguNywwLDAsMS0xLDMuMTUsNjkuMzksNjkuMzksMCwwLDEtNS42Myw4LjczLDExMC42NCwxMTAuNjQsMCwwLDAtNi40NywxMGMtMS42MiwyLjktMi44Myw2LTQuMjgsOC45NC0yLjkyLDYtNS45NCwxMi04LjQ4LDE4LjExLTEuMjksMy4xMy0yLjI1LDYuMzUtMy4zNCw5LjU0QTE0LjIyLDE0LjIyLDAsMCwxLDc2LDExMC4xNWE1LDUsMCwwLDEtMi42OSwxLjc1LDMuMzMsMy4zMywwLDAsMS0yLjY2LS43NiwxNS40NiwxNS40NiwwLDAsMS0zLTIuNDNjLTYuMTgtNi4zMy0xMy42NS0xMS0yMS4zOC0xNS40NWExMjQuMTcsMTI0LjE3LDAsMCwwLTE0LTYuNzIsMTguNDcsMTguNDcsMCwwLDEtMy41Ny0xLjg5Yy0yLTEuNC0yLjU3LTIuODEtMS45NC01LjA5YTI0LjcyLDI0LjcyLDAsMCwxLDIuNjctNS44MkE3Mi44NSw3Mi44NSwwLDAsMCwzNy4zMSw1My4yLDEwMS4yMywxMDEuMjMsMCwwLDAsMzkuNjEsMzhhMjEsMjEsMCwwLDEsMS4xMy01LjkxYy44NS0yLjIsMi4zNy0zLDQuNzgtMi41MWEyOS4zMywyOS4zMywwLDAsMSw2LjkzLDIuNDcsMTA5LjgzLDEwOS44MywwLDAsMCwyNC4yLDguMDljNS4yOCwxLjEzLDEwLjYxLDIsMTYsMi42MSwzLjQ2LjQxLDcsLjUzLDEwLjM4LDEuMjhhOSw5LDAsMCwxLDIuNTkuOTVBMi44LDIuOCwwLDAsMSwxMDcuMDgsNDcuNjNaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcuODEgLTIxLjc0KSIvPjwvZz48cGF0aCBjbGFzcz0iY2xzLTkiIGQ9Ik03OC4zOSw2OS44OWExNC40NywxNC40NywwLDAsMS0zLjQ4LDkuMjIsMTgsMTgsMCwwLDEtMy43MiwzLjQ2QTguMTEsOC4xMSwwLDAsMSw2NCw4My42M2MtNC43NC0xLjQxLTcuNDUtNC43MS04LjQ3LTkuNDJBMTMuNTksMTMuNTksMCwwLDEsNTgsNjIuOWExMi45MiwxMi45MiwwLDAsMSw3LjEzLTUuMTIsOS4yOCw5LjI4LDAsMCwxLDguNzIsMkExMi42OCwxMi42OCwwLDAsMSw3OC4yNSw2OCwxMi4wNiwxMi4wNiwwLDAsMSw3OC4zOSw2OS44OVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNy44MSAtMjEuNzQpIi8+PHRleHQgY2xhc3M9ImNscy0xMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA0Ljk2IDg5LjQ1KSI+QW5hbHlzdCA8dHNwYW4gY2xhc3M9ImNscy0xMSIgeD0iMTM0LjI4IiB5PSIwIj5XPC90c3Bhbj48dHNwYW4geD0iMTY4LjMxIiB5PSIwIj5lYjwvdHNwYW4+PHRzcGFuIGNsYXNzPSJjbHMtMTIiIHg9IjIxMS43IiB5PSIwIj4gPC90c3Bhbj48L3RleHQ+PC9nPjwvZz48L3N2Zz4=\""],"sourceRoot":""}