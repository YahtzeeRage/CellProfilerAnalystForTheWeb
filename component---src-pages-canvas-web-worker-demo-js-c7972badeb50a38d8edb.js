(self.webpackChunkgatsby_test=self.webpackChunkgatsby_test||[]).push([[9276],{83332:function(e,t,r){"use strict";var n=r(81253),a=r(22122),o=r(67294),i=r(85505),c=r(20638),s=r(37595),l=r(67055),u=r(81664),d=o.forwardRef((function(e,t){var r=e.children,c=e.classes,s=e.className,d=e.color,p=void 0===d?"default":d,f=e.component,m=void 0===f?"button":f,b=e.disabled,g=void 0!==b&&b,h=e.disableElevation,v=void 0!==h&&h,y=e.disableFocusRipple,x=void 0!==y&&y,k=e.endIcon,S=e.focusVisibleClassName,w=e.fullWidth,C=void 0!==w&&w,E=e.size,Z=void 0===E?"medium":E,z=e.startIcon,R=e.type,L=void 0===R?"button":R,N=e.variant,j=void 0===N?"text":N,I=(0,n.Z)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),O=z&&o.createElement("span",{className:(0,i.Z)(c.startIcon,c["iconSize".concat((0,u.Z)(Z))])},z),T=k&&o.createElement("span",{className:(0,i.Z)(c.endIcon,c["iconSize".concat((0,u.Z)(Z))])},k);return o.createElement(l.Z,(0,a.Z)({className:(0,i.Z)(c.root,c[j],s,"inherit"===p?c.colorInherit:"default"!==p&&c["".concat(j).concat((0,u.Z)(p))],"medium"!==Z&&[c["".concat(j,"Size").concat((0,u.Z)(Z))],c["size".concat((0,u.Z)(Z))]],v&&c.disableElevation,g&&c.disabled,C&&c.fullWidth),component:m,disabled:g,focusRipple:!x,focusVisibleClassName:(0,i.Z)(c.focusVisible,S),ref:t,type:L},I),o.createElement("span",{className:c.label},O,r,T))}));t.Z=(0,c.Z)((function(e){return{root:(0,a.Z)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:(0,s.U1)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,s.U1)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,s.U1)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat((0,s.U1)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:(0,s.U1)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat((0,s.U1)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:(0,s.U1)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(d)},27136:function(e,t,r){"use strict";var n=r(22122),a=r(81253),o=r(67294),i=r(85505),c=r(20638),s=r(81664),l=44,u=o.forwardRef((function(e,t){var r=e.classes,c=e.className,u=e.color,d=void 0===u?"primary":u,p=e.disableShrink,f=void 0!==p&&p,m=e.size,b=void 0===m?40:m,g=e.style,h=e.thickness,v=void 0===h?3.6:h,y=e.value,x=void 0===y?0:y,k=e.variant,S=void 0===k?"indeterminate":k,w=(0,a.Z)(e,["classes","className","color","disableShrink","size","style","thickness","value","variant"]),C={},E={},Z={};if("determinate"===S||"static"===S){var z=2*Math.PI*((l-v)/2);C.strokeDasharray=z.toFixed(3),Z["aria-valuenow"]=Math.round(x),C.strokeDashoffset="".concat(((100-x)/100*z).toFixed(3),"px"),E.transform="rotate(-90deg)"}return o.createElement("div",(0,n.Z)({className:(0,i.Z)(r.root,c,"inherit"!==d&&r["color".concat((0,s.Z)(d))],{determinate:r.determinate,indeterminate:r.indeterminate,static:r.static}[S]),style:(0,n.Z)({width:b,height:b},E,g),ref:t,role:"progressbar"},Z,w),o.createElement("svg",{className:r.svg,viewBox:"".concat(22," ").concat(22," ").concat(l," ").concat(l)},o.createElement("circle",{className:(0,i.Z)(r.circle,f&&r.circleDisableShrink,{determinate:r.circleDeterminate,indeterminate:r.circleIndeterminate,static:r.circleStatic}[S]),style:C,cx:l,cy:l,r:(l-v)/2,fill:"none",strokeWidth:v})))}));t.Z=(0,c.Z)((function(e){return{root:{display:"inline-block"},static:{transition:e.transitions.create("transform")},indeterminate:{animation:"$circular-rotate 1.4s linear infinite"},determinate:{transition:e.transitions.create("transform")},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},svg:{display:"block"},circle:{stroke:"currentColor"},circleStatic:{transition:e.transitions.create("stroke-dashoffset")},circleIndeterminate:{animation:"$circular-dash 1.4s ease-in-out infinite",strokeDasharray:"80px, 200px",strokeDashoffset:"0px"},circleDeterminate:{transition:e.transitions.create("stroke-dashoffset")},"@keyframes circular-rotate":{"0%":{transformOrigin:"50% 50%"},"100%":{transform:"rotate(360deg)"}},"@keyframes circular-dash":{"0%":{strokeDasharray:"1px, 200px",strokeDashoffset:"0px"},"50%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-15px"},"100%":{strokeDasharray:"100px, 200px",strokeDashoffset:"-125px"}},circleDisableShrink:{animation:"none"}}}),{name:"MuiCircularProgress",flip:!1})(u)},9789:function(e,t,r){"use strict";var n;r.d(t,{Z:function(){return d}});var a=new Uint8Array(16);function o(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(a)}var i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var c=function(e){return"string"==typeof e&&i.test(e)},s=[],l=0;l<256;++l)s.push((l+256).toString(16).substr(1));var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!c(r))throw TypeError("Stringified UUID is invalid");return r};var d=function(e,t,r){var n=(e=e||{}).random||(e.rng||o)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var a=0;a<16;++a)t[r+a]=n[a];return t}return u(n)}},48945:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(92137),a=r(87757),o=r.n(a),i=r(54179),c=r(13967),s=r(38889),l=r(4339),u=function(){function e(e){this.sliceArrayByValue=function(e,t,r){var n=e.indexOf(t),a=e.indexOf(r);return-1===t||-1===r?(console.error("Values not found to slice"),null):e.slice(n,a)},this.basicPapaConfig={worker:!0,skipEmptyLines:!0,dynamicTyping:!0},this.getDataHandlerandStartingTrainingSet=(0,n.Z)(o().mark((function e(){var t,r,n,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return["column_lines","object_data","image_data","training_data"],[],t=this.getFiles(),e.next=5,this.getText(t);case 5:return r=e.sent,n=this.getColumnLines(r[0]),a=new s.Z({object_data:r[1],image_data:r[2],object_columns:n[0],image_columns:n[1]}),i=new l.Z(r[3].slice(1),n[2]),e.abrupt("return",{data_provider:a,training_data:{features:n[0],training_table:i}});case 10:case"end":return e.stop()}}),e,this)}))),this.fileListObject=e}var t=e.prototype;return t.getFiles=function(){var e=new c.Z(this.fileListObject);return["example_SETUP.SQL","per_object.csv","per_image.csv","MyTrainingSet.txt"].map((function(t){return{file:e.findFile(t),name:t}}))},t.getText=function(e){var t=this;return Promise.all(e.map((function(e){if(e.name.endsWith(".csv")||e.name.endsWith(".txt"))return(new i.Z).papaTextfromCSV(e);var r=new c.Z(t.fileListObject);return console.log(e),r.fileReaderPromiseText(e.file)})))},t.getColumnLines=function(e){var t=[],r=e.split("\n").map((function(e){return e.trim()})),n=this.sliceArrayByValue(r,"CREATE TABLE per_object (","PRIMARY KEY  (ImageNumber,ObjectNumber)");t.push(n.map((function(e){return e.split(" ")[0]})).slice(1));var a=this.sliceArrayByValue(r,"CREATE TABLE per_image (","PRIMARY KEY  (ImageNumber)");return t.push(a.map((function(e){return e.split(" ")[0]})).slice(1)),t.push("label imagenum objectnum x y".split(" ")),t},e}()},79953:function(e,t,r){"use strict";r.r(t);var n=r(92137),a=r(87757),o=r.n(a),i=r(67294),c=r(83332),s=r(27136),l=(r(48945),r(37107),r(74243),r(9789));t.default=function(){var e=i.useState(!1),t=e[0],r=e[1],a=i.useState(null),u=a[0],d=a[1],p=i.useState(null),f=p[0],m=p[1],b=i.useState(void 0),g=b[0],h=b[1],v=i.useState(null),y=v[0],x=v[1],k=i.useState({ImageNumber:1,ObjectNumber:1}),S=k[0],w=k[1];i.useEffect((function(){var e=new MessageChannel,t=new Worker("../canvasWorker.js");t.addEventListener("error",(function(e){console.log("[canvasWebWorker] Error",e.message,e)})),t.postMessage({action:"connectToDataWorker"},[e.port1]),d(t);var r=new Worker("../dataWorker.js");r.addEventListener("error",(function(e){console.log("[dataWebWorker] Error",e.message,e)})),r.postMessage({action:"connectToCanvasWorker"},[e.port2]),m(r)}),[]);var C=function(e,t){console.log("workerPortActionPromise enter");var r=(0,l.Z)();return new Promise((function(n){u.addEventListener("message",(function e(t){t.data.uuid===r&&(u.removeEventListener("message",e),n(t))})),u.postMessage(Object.assign({action:e},t,{uuid:r}))}))},E=function(){var e=(0,n.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C("test",{fileListObject:y}).then((function(e){console.log(URL.createObjectURL(e.data.blob)),h(URL.createObjectURL(e.data.blob))})),C("get",{getType:"blobUrlsFromCellPairs",getArgs:{cellPairs:[S]}}).then((function(e){console.log(e),h(e.data.blobUrls[0])}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(e){var t,n,a,o;(t=f,n="init",a={fileListObject:e.target.files},o=(0,l.Z)(),new Promise((function(e){t.addEventListener("message",(function(t){t.data.uuid===o&&e(t)}),{once:!0}),t.postMessage(Object.assign({action:n},a,{uuid:o}))}))).then((function(){r(!0)})),x(e.target.files)};return i.createElement("div",{style:{resize:"horizontal"}},i.createElement(c.Z,{disabled:!t,onClick:E},"test offscreen canvas"),i.createElement("img",{width:100,height:100,src:g}),i.createElement(c.Z,{endIcon:i.createElement(s.Z,null),variant:"contained",component:"label",onClick:function(){return console.log("Upload!")}},"Upload",i.createElement("input",{type:"file",hidden:!0,webkitdirectory:"true",mozdirectory:"true",msdirectory:"true",odirectory:"true",directory:"true",multiple:!0,onChange:function(e){Z(e)}})),i.createElement("p",null,"ObjectNumber"),i.createElement("input",{type:"number",onInput:function(e){return w({ObjectNumber:e.target.valueAsNumber,ImageNumber:S.ImageNumber})}}),i.createElement("p",null,"ImageNumber"),i.createElement("input",{type:"number",onInput:function(e){return w({ObjectNumber:S.ObjectNumber,ImageNumber:e.target.valueAsNumber})}}))}},96874:function(e){e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},47443:function(e,t,r){var n=r(42118);e.exports=function(e,t){return!!(null==e?0:e.length)&&n(e,t,0)>-1}},1196:function(e){e.exports=function(e,t,r){for(var n=-1,a=null==e?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}},20731:function(e,t,r){var n=r(88668),a=r(47443),o=r(1196),i=r(29932),c=r(7518),s=r(74757);e.exports=function(e,t,r,l){var u=-1,d=a,p=!0,f=e.length,m=[],b=t.length;if(!f)return m;r&&(t=i(t,c(r))),l?(d=o,p=!1):t.length>=200&&(d=s,p=!1,t=new n(t));e:for(;++u<f;){var g=e[u],h=null==r?g:r(g);if(g=l||0!==g?g:0,p&&h==h){for(var v=b;v--;)if(t[v]===h)continue e;m.push(g)}else d(t,h,l)||m.push(g)}return m}},89881:function(e,t,r){var n=r(47816),a=r(99291)(n);e.exports=a},21078:function(e,t,r){var n=r(62488),a=r(37285);e.exports=function e(t,r,o,i,c){var s=-1,l=t.length;for(o||(o=a),c||(c=[]);++s<l;){var u=t[s];r>0&&o(u)?r>1?e(u,r-1,o,i,c):n(c,u):i||(c[c.length]=u)}return c}},28483:function(e,t,r){var n=r(25063)();e.exports=n},47816:function(e,t,r){var n=r(28483),a=r(3674);e.exports=function(e,t){return e&&n(e,t,a)}},42118:function(e,t,r){var n=r(41848),a=r(62722),o=r(42351);e.exports=function(e,t,r){return t==t?o(e,t,r):n(e,a,r)}},62722:function(e){e.exports=function(e){return e!=e}},5976:function(e,t,r){var n=r(6557),a=r(45357),o=r(30061);e.exports=function(e,t){return o(a(e,t,n),e+"")}},56560:function(e,t,r){var n=r(75703),a=r(38777),o=r(6557),i=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:o;e.exports=i},99291:function(e,t,r){var n=r(98612);e.exports=function(e,t){return function(r,a){if(null==r)return r;if(!n(r))return e(r,a);for(var o=r.length,i=t?o:-1,c=Object(r);(t?i--:++i<o)&&!1!==a(c[i],i,c););return r}}},25063:function(e){e.exports=function(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),c=i.length;c--;){var s=i[e?c:++a];if(!1===r(o[s],s,o))break}return t}}},37285:function(e,t,r){var n=r(62705),a=r(35694),o=r(1469),i=n?n.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||a(e)||!!(i&&e&&e[i])}},16612:function(e,t,r){var n=r(77813),a=r(98612),o=r(65776),i=r(13218);e.exports=function(e,t,r){if(!i(r))return!1;var c=typeof t;return!!("number"==c?a(r)&&o(t,r.length):"string"==c&&t in r)&&n(r[t],e)}},45357:function(e,t,r){var n=r(96874),a=Math.max;e.exports=function(e,t,r){return t=a(void 0===t?e.length-1:t,0),function(){for(var o=arguments,i=-1,c=a(o.length-t,0),s=Array(c);++i<c;)s[i]=o[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=o[i];return l[t]=r(s),n(e,this,l)}}},30061:function(e,t,r){var n=r(56560),a=r(21275)(n);e.exports=a},21275:function(e){var t=Date.now;e.exports=function(e){var r=0,n=0;return function(){var a=t(),o=16-(a-n);if(n=a,o>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}},42351:function(e){e.exports=function(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}},75703:function(e){e.exports=function(e){return function(){return e}}},91966:function(e,t,r){var n=r(20731),a=r(21078),o=r(5976),i=r(29246),c=o((function(e,t){return i(e)?n(e,a(t,1,i,!0)):[]}));e.exports=c},29246:function(e,t,r){var n=r(98612),a=r(37005);e.exports=function(e){return a(e)&&n(e)}},50308:function(e){e.exports=function(){}}}]);
//# sourceMappingURL=component---src-pages-canvas-web-worker-demo-js-c7972badeb50a38d8edb.js.map