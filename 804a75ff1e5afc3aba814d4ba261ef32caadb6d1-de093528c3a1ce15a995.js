/*! For license information please see 804a75ff1e5afc3aba814d4ba261ef32caadb6d1-de093528c3a1ce15a995.js.LICENSE.txt */
(self.webpackChunkgatsby_test=self.webpackChunkgatsby_test||[]).push([[8951],{92137:function(n,t,r){"use strict";function e(n,t,r,e,o,a,i){try{var u=n[a](i),s=u.value}catch(c){return void r(c)}u.done?t(s):Promise.resolve(s).then(e,o)}function o(n){return function(){var t=this,r=arguments;return new Promise((function(o,a){var i=n.apply(t,r);function u(n){e(i,o,a,u,s,"next",n)}function s(n){e(i,o,a,u,s,"throw",n)}u(void 0)}))}}r.d(t,{Z:function(){return o}})},13894:function(n,t,r){"use strict";r.d(t,{Z:function(){return a}});var e=r(14665);function o(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}function a(n,t,r){return(a=o()?Reflect.construct:function(n,t,r){var o=[null];o.push.apply(o,t);var a=new(Function.bind.apply(n,o));return r&&(0,e.Z)(a,r.prototype),a}).apply(null,arguments)}},66213:function(n,t,r){"use strict";r.d(t,{Z:function(){return o}});var e=r(77608);function o(n,t,r){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(n,t,r){var o=function(n,t){for(;!Object.prototype.hasOwnProperty.call(n,t)&&null!==(n=(0,e.Z)(n)););return n}(n,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(r):a.value}})(n,t,r||n)}},77608:function(n,t,r){"use strict";function e(n){return(e=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}r.d(t,{Z:function(){return e}})},10379:function(n,t,r){"use strict";r.d(t,{Z:function(){return o}});var e=r(14665);function o(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&(0,e.Z)(n,t)}},46070:function(n,t,r){"use strict";r.d(t,{Z:function(){return a}});var e=r(50008),o=r(63349);function a(n,t){return!t||"object"!==e(t)&&"function"!=typeof t?(0,o.Z)(n):t}},99809:function(n,t,r){"use strict";r.d(t,{Z:function(){return u}});var e=r(59968),o=r(96410),a=r(82961),i=r(28970);function u(n){return(0,e.Z)(n)||(0,o.Z)(n)||(0,a.Z)(n)||(0,i.Z)()}},98230:function(n,t,r){"use strict";r.d(t,{JL:function(){return a},Zu:function(){return i}});var e=r(6610),o=r(5991),a=function(){function n(t,r){(0,e.Z)(this,n),this.backend=t,this.dataMover=r,this.data=new WeakMap,this.dataIdsCount=0}return(0,o.Z)(n,[{key:"get",value:function(n){return this.data.has(n)||this.dataMover.moveData(this.backend,n),this.data.get(n)}},{key:"set",value:function(n,t){this.dataIdsCount++,this.data.set(n,t)}},{key:"has",value:function(n){return this.data.has(n)}},{key:"delete",value:function(n){return this.dataIdsCount--,this.data.delete(n)}},{key:"numDataIds",value:function(){return this.dataIdsCount}}]),n}(),i=function(){function n(){(0,e.Z)(this,n)}return(0,o.Z)(n,[{key:"refCount",value:function(n){return u("refCount")}},{key:"incRef",value:function(n){return u("incRef")}},{key:"timerAvailable",value:function(){return!0}},{key:"time",value:function(n){return u("time")}},{key:"read",value:function(n){return u("read")}},{key:"readSync",value:function(n){return u("readSync")}},{key:"numDataIds",value:function(){return u("numDataIds")}},{key:"disposeData",value:function(n,t){return u("disposeData")}},{key:"write",value:function(n,t,r){return u("write")}},{key:"move",value:function(n,t,r,e,o){return u("move")}},{key:"memory",value:function(){return u("memory")}},{key:"floatPrecision",value:function(){return u("floatPrecision")}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?1e-7:1e-4}},{key:"dispose",value:function(){return u("dispose")}}]),n}();function u(n){throw new Error("'".concat(n,"' not yet implemented or not found in the registry. ")+"This kernel may not be supported by the tfjs backend you have chosen")}},93753:function(n,t,r){"use strict";r.d(t,{BV:function(){return M},wv:function(){return N}});var e=r(85061),o=r(92137),a=r(6610),i=r(5991),u=r(87757),s=r.n(u),c=r(98230),f=r(678),l=r(85046),h=r(73135),p=r(35408),d=r(4870),v=r(21590);function g(n,t){var r;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(r=function(n,t){if(!n)return;if("string"==typeof n)return m(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(n,t)}(n))||t&&n&&"number"==typeof n.length){r&&(n=r);var e=0,o=function(){};return{s:o,n:function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=n[Symbol.iterator]()},n:function(){var n=r.next();return i=n.done,n},e:function(n){u=!0,a=n},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function m(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}var y=function(){function n(t,r){(0,a.Z)(this,n),this.backendTimer=t,this.logger=r,null==r&&(this.logger=new b)}return(0,i.Z)(n,[{key:"profileKernel",value:function(n,t,r){var e,o,a=function(){e=r()},i=d.now();if(this.backendTimer.timerAvailable())o=this.backendTimer.time(a);else{a();var u,s=g(e);try{for(s.s();!(u=s.n()).done;){u.value.dataSync()}}catch(h){s.e(h)}finally{s.f()}o=Promise.resolve({kernelMs:d.now()-i})}if((0,f.OB)().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(var c=function(t){var r=e[t];r.data().then((function(t){!function(n,t,r){if("float32"!==t)return!1;for(var e=0;e<n.length;e++){var o=n[e];if(isNaN(o)||!isFinite(o))return console.warn("Found ".concat(o," in the result of '").concat(r,"'")),!0}}(t,r.dtype,n)}))},l=0;l<e.length;l++)c(l);return{kernelName:n,outputs:e,inputs:t,timeMs:o.then((function(n){return n.kernelMs})),extraInfo:o.then((function(n){return null!=n.getExtraProfileInfo?n.getExtraProfileInfo():""}))}}},{key:"logKernelProfile",value:function(n){var t=this,r=n.kernelName,e=n.outputs,o=n.timeMs,a=n.inputs,i=n.extraInfo;e.forEach((function(n){Promise.all([n.data(),o,i]).then((function(e){t.logger.logKernelProfile(r,n,e[0],e[1],a,e[2])}))}))}}]),n}();var b=function(){function n(){(0,a.Z)(this,n)}return(0,i.Z)(n,[{key:"logKernelProfile",value:function(n,t,r,e,o,a){var i="number"==typeof e?v.oj("".concat(e,"ms"),9):e.error,u=v.oj(n,25),s=t.rank,c=t.size,f=v.oj(t.shape.toString(),14),l="";for(var h in o){var p=o[h];if(null!=p){var d=p.shape||t.shape,g=d.length;l+="".concat(h,": ").concat(g,"D ").concat(g>0?d:""," ")}}console.log("%c".concat(u,"\t%c").concat(i,"\t%c").concat(s,"D ").concat(f,"\t%c").concat(c,"\t%c").concat(l,"\t%c").concat(a),"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}]),n}();function w(n,t,r){for(var e={},o={},a=0;a<t.length;a++)e[t[a].id]=!0;for(var i=0;i<n.length;i++){var u=n[i],s=u.inputs;for(var c in s){for(var f=s[c],l=!1,h=0;h<t.length;h++)if(e[f.id]){u.outputs.forEach((function(n){return e[n.id]=!0})),l=!0,o[u.id]=!0;break}if(l)break}}var p={};p[r.id]=!0;for(var d={},v=n.length-1;v>=0;v--)for(var g=n[v],m=g.inputs,y=0;y<g.outputs.length;y++)if(p[g.outputs[y].id]){for(var b in m)p[m[b].id]=!0,d[g.id]=!0;break}for(var w=[],k=0;k<n.length;k++){var x=n[k];if(o[x.id]&&d[x.id]){var E={};for(var _ in x.inputs){var I=x.inputs[_];e[I.id]&&(E[_]=I)}var S=Object.assign({},x);S.inputs=E,S.outputs=x.outputs,w.push(S)}}return w}function k(n,t,r,e){for(var o=function(o){var a=t[o],i=[];if(a.outputs.forEach((function(t){var r=n[t.id];null!=r?i.push(r):i.push(null)})),null==a.gradient)throw new Error("Cannot compute gradient: gradient function not found "+"for ".concat(a.kernelName,"."));var u=a.gradient(i),s=function(t){if(!(t in u))throw new Error("Cannot backprop through input ".concat(t,". ")+"Available gradients found: ".concat(Object.keys(u),"."));var o=r((function(){return u[t]()}));if("float32"!==o.dtype)throw new Error("Error in gradient for op ".concat(a.kernelName,". The gradient of input ")+"".concat(t," must have 'float32' dtype, but has '").concat(o.dtype,"'"));var i=a.inputs[t];if(!v.cO(o.shape,i.shape))throw new Error("Error in gradient for op ".concat(a.kernelName,". The gradient of input ")+"'".concat(t,"' has shape '").concat(o.shape,"', which does not match ")+"the shape of the input '".concat(i.shape,"'"));if(null==n[i.id])n[i.id]=o;else{var s=n[i.id];n[i.id]=e(s,o),s.dispose()}};for(var c in a.inputs)s(c)},a=t.length-1;a>=0;a--)o(a)}var x=r(72027),E=r(85031);function _(n,t){var r;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(r=function(n,t){if(!n)return;if("string"==typeof n)return I(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(n,t)}(n))||t&&n&&"number"==typeof n.length){r&&(n=r);var e=0,o=function(){};return{s:o,n:function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=n[Symbol.iterator]()},n:function(){var n=r.next();return i=n.done,n},e:function(n){u=!0,a=n},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function I(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}function S(n){return null!=n.kernelName}var A=function(){function n(){(0,a.Z)(this,n),this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((function(n){return n.name}))))}}}return(0,i.Z)(n,[{key:"dispose",value:function(){for(var n in this.registeredVariables)this.registeredVariables[n].dispose()}}]),n}(),D=function(){function n(t){(0,a.Z)(this,n),this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new A}var t,r,u,f;return(0,i.Z)(n,[{key:"ready",value:(f=(0,o.Z)(s().mark((function n(){var t,r,e;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null==this.pendingBackendInit){n.next=2;break}return n.abrupt("return",this.pendingBackendInit.then((function(){})));case 2:if(null==this.backendInstance){n.next=4;break}return n.abrupt("return");case 4:t=this.getSortedBackends(),r=0;case 6:if(!(r<t.length)){n.next=18;break}return e=t[r],n.next=10,this.initializeBackend(e).success;case 10:if(!n.sent){n.next=15;break}return n.next=14,this.setBackend(e);case 14:return n.abrupt("return");case 15:r++,n.next=6;break;case 18:throw new Error("Could not initialize any backends, all backend initializations failed.");case 19:case"end":return n.stop()}}),n,this)}))),function(){return f.apply(this,arguments)})},{key:"backend",get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '".concat(this.backendName,"' has not yet been initialized. Make ")+"sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var n=this.initializeBackendsAndReturnBest(),t=n.name;if(n.asyncInit)throw new Error("The highest priority backend '".concat(t,"' has not yet been ")+"initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance}},{key:"backendNames",value:function(){return Object.keys(this.registryFactory)}},{key:"findBackend",value:function(n){if(!(n in this.registry)){if(!(n in this.registryFactory))return null;if(this.initializeBackend(n).asyncInit)return null}return this.registry[n]}},{key:"findBackendFactory",value:function(n){return n in this.registryFactory?this.registryFactory[n].factory:null}},{key:"registerBackend",value:function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return n in this.registryFactory?(console.warn("".concat(n," backend was already registered. ")+"Reusing existing backend factory."),!1):(this.registryFactory[n]={factory:t,priority:r},!0)}},{key:"setBackend",value:(u=(0,o.Z)(s().mark((function n(t){var r,e;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=this.registryFactory[t]){n.next=2;break}throw new Error("Backend name '".concat(t,"' not found in registry"));case 2:if(this.backendName=t,null!=this.registry[t]){n.next=16;break}if(this.backendInstance=null,r=this.initializeBackend(t),e=r.success,!r.asyncInit){n.next=12;break}return n.next=9,e;case 9:n.t0=n.sent,n.next=13;break;case 12:n.t0=e;case 13:if(n.t0){n.next=16;break}return n.abrupt("return",!1);case 16:return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new y(this.backendInstance),n.abrupt("return",!0);case 20:case"end":return n.stop()}}),n,this)}))),function(n){return u.apply(this,arguments)})},{key:"setupRegisteredKernels",value:function(){var n=this;(0,p.tr)(this.backendName).forEach((function(t){null!=t.setupFunc&&t.setupFunc(n.backendInstance)}))}},{key:"disposeRegisteredKernels",value:function(n){var t=this;(0,p.tr)(n).forEach((function(r){null!=r.disposeFunc&&r.disposeFunc(t.registry[n])}))}},{key:"initializeBackend",value:function(n){var t=this,r=this.registryFactory[n];if(null==r)throw new Error("Cannot initialize backend ".concat(n,", no registration found."));try{var e=r.factory();if(!e||e instanceof c.Zu||"function"!=typeof e.then)return this.registry[n]=e,{success:!0,asyncInit:!1};var o=++this.pendingBackendInitId,a=e.then((function(r){return!(o<t.pendingBackendInitId)&&(t.registry[n]=r,t.pendingBackendInit=null,!0)})).catch((function(r){return o<t.pendingBackendInitId||(t.pendingBackendInit=null,console.warn("Initialization of backend ".concat(n," failed")),console.warn(r.stack||r.message)),!1}));return this.pendingBackendInit=a,{success:a,asyncInit:!0}}catch(i){return console.warn("Initialization of backend ".concat(n," failed")),console.warn(i.stack||i.message),{success:!1,asyncInit:!1}}}},{key:"removeBackend",value:function(n){if(!(n in this.registryFactory))throw new Error("".concat(n," backend not found in registry"));this.backendName===n&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,n in this.registry&&(this.disposeRegisteredKernels(n),this.registry[n].dispose(),delete this.registry[n]),delete this.registryFactory[n],this.backendName===n&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}},{key:"getSortedBackends",value:function(){var n=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((function(t,r){return n.registryFactory[r].priority-n.registryFactory[t].priority}))}},{key:"initializeBackendsAndReturnBest",value:function(){for(var n=this.getSortedBackends(),t=0;t<n.length;t++){var r=n[t],e=this.initializeBackend(r),o=e.success,a=e.asyncInit;if(a||o)return{name:r,asyncInit:a}}throw new Error("Could not initialize any backends, all backend initializations failed.")}},{key:"moveData",value:function(n,t){var r=this.state.tensorInfo.get(t),e=r.backend,o=this.readSync(t),a=e.refCount(t);e.disposeData(t,!0),r.backend=n,n.move(t,o,r.shape,r.dtype,a),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}},{key:"tidy",value:function(n,t){var r,e=this,o=null;if(null==t){if("function"!=typeof n)throw new Error("Please provide a function to tidy()");t=n}else{if("string"!=typeof n&&!(n instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");o=n}return this.scopedRun((function(){return e.startScope(o)}),(function(){return e.endScope(r)}),(function(){return(r=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),r}))}},{key:"scopedRun",value:function(n,t,r){n();try{var e=r();return t(),e}catch(o){throw t(),o}}},{key:"nextTensorId",value:function(){return n.nextTensorId++}},{key:"nextVariableId",value:function(){return n.nextVariableId++}},{key:"clone",value:function(n){var t=M.runKernel(h.iJ,{x:n}),r={x:n};return this.addTapeNode(this.state.activeScope.name,r,[t],(function(n){return{x:function(){var t={x:n},r={dtype:"float32"};return M.runKernel(h.RF,t,r)}}}),[],{}),t}},{key:"runKernel",value:function(n,t,r){if(!(null!=(0,p.pI)(n,this.backendName)))throw new Error("Kernel '".concat(n,"' not registered for backend '").concat(this.backendName,"'"));return this.runKernelFunc({kernelName:n,inputs:t,attrs:r})}},{key:"shouldCheckForMemLeaks",value:function(){return this.ENV.getBool("IS_TEST")}},{key:"checkKernelForMemLeak",value:function(n,t,r){var e=this.backend.numDataIds(),o=0;r.forEach((function(n){o+="complex64"===n.dtype?3:1}));var a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],i=e-t-o-a;if(i>0)throw new Error("Backend '".concat(this.backendName,"' has an internal memory leak ")+"(".concat(i," data ids) after running '").concat(n,"'"))}},{key:"runKernelFunc",value:function(n){var t,r,e,o=this,a=[],i=this.isTapeOn(),u=this.state.numBytes,s=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;var c=S(n)?n.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(S(n)){var f=n.kernelName,l=n.inputs,h=n.attrs;null==this.backendName&&this.backend;var d=(0,p.pI)(f,this.backendName);v.hu(null!=d,(function(){return"Cannot find registered kernel '".concat(f,"' for backend '").concat(o.backendName,"'")})),r=function(){var n=o.backend.numDataIds();e=d.kernelFunc({inputs:l,attrs:h,backend:o.backend});var t=Array.isArray(e)?e:[e];o.shouldCheckForMemLeaks()&&o.checkKernelForMemLeak(f,n,t);var r=t.map((function(n){if(null!=n.rank)return n;var t=n.dataId,r=n.shape,e=n.dtype;return o.makeTensorFromDataId(t,r,e)}));if(i){var u=o.getTensorsForGradient(f,l,r);a=o.saveTensorsForBackwardMode(u)}return r}}else{var g=n.forwardFunc,m=function(n){i&&(a=n.map((function(n){return o.keep(o.clone(n))})))};r=function(){var n=o.backend.numDataIds();e=o.tidy((function(){return g(o.backend,m)}));var t=Array.isArray(e)?e:[e];return o.shouldCheckForMemLeaks()&&o.checkKernelForMemLeak(c,n,t),t}}var y,b=n.inputs,w=n.attrs,k=S(n)?null:n.backwardsFunc;return this.scopedRun((function(){return o.state.kernelDepth++}),(function(){return o.state.kernelDepth--}),(function(){o.ENV.getBool("DEBUG")||o.state.profiling?(y=o.profiler.profileKernel(c,b,(function(){return r()})),o.ENV.getBool("DEBUG")&&o.profiler.logKernelProfile(y),t=y.outputs):t=r()})),i&&this.addTapeNode(c,b,t,k,a,w),this.state.profiling&&this.state.activeProfile.kernels.push({name:c,bytesAdded:this.state.numBytes-u,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-s,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(b).map((function(n){return null!=b[n]?b[n].shape:null})),outputShapes:t.map((function(n){return n.shape})),kernelTimeMs:y.timeMs,extraInfo:y.extraInfo}),Array.isArray(e)?t:t[0]}},{key:"saveTensorsForBackwardMode",value:function(n){var t=this;return n.map((function(n){return t.keep(t.clone(n))}))}},{key:"getTensorsForGradient",value:function(n,t,r){var e=(0,p.uk)(n);if(null!=e){var o,a=e.inputsToSave||[],i=e.outputsToSave||[];e.saveAllInputs?(v.hu(Array.isArray(t),(function(){return"saveAllInputs is true, expected inputs to be an array."})),o=Object.keys(t).map((function(n){return t[n]}))):o=a.map((function(n){return t[n]}));var u=r.filter((function(n,t){return i[t]}));return o.concat(u)}return[]}},{key:"makeTensor",value:function(n,t,r,e){if(null==n)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",e=e||this.backend;var o=n;"string"===r&&v.HD(n[0])&&(o=n.map((function(n){return d.encodeString(n)})));var a=e.write(o,t,r),i=new x.es(t,r,a,this.nextTensorId());if(this.trackTensor(i,e),"string"===r){var u=this.state.tensorInfo.get(a),s=(0,v.Ub)(o);this.state.numBytes+=s-u.bytes,u.bytes=s}return i}},{key:"makeTensorFromDataId",value:function(n,t,r,e){r=r||"float32";var o=new x.es(t,r,n,this.nextTensorId());return this.trackTensor(o,e),o}},{key:"makeVariable",value:function(n){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,e=arguments.length>3?arguments[3]:void 0;r=r||this.nextVariableId().toString(),null!=e&&e!==n.dtype&&(n=n.cast(e));var o=new x._w(n,t,r,this.nextTensorId());if(null!=this.state.registeredVariables[o.name])throw new Error("Variable with name ".concat(o.name," was already registered"));return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o}},{key:"trackTensor",value:function(n,t){this.state.numTensors++,"string"===n.dtype&&this.state.numStringTensors++;var r=0;"complex64"!==n.dtype&&"string"!==n.dtype&&(r=n.size*v.bT(n.dtype)),this.state.numBytes+=r,this.state.tensorInfo.has(n.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(n.dataId,{backend:t||this.backend,dtype:n.dtype,shape:n.shape,bytes:r})),n instanceof x._w||this.track(n)}},{key:"incRef",value:function(n,t){this.trackTensor(n,t),this.backend.incRef(n.dataId)}},{key:"removeDataId",value:function(n,t){this.state.tensorInfo.has(n)&&this.state.tensorInfo.get(n).backend===t&&(this.state.tensorInfo.delete(n),this.state.numDataBuffers--)}},{key:"disposeTensor",value:function(n){if(this.state.tensorInfo.has(n.dataId)){var t=this.state.tensorInfo.get(n.dataId);if(this.state.numTensors--,"string"===n.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==n.dtype&&"string"!==n.dtype){var r=n.size*v.bT(n.dtype);this.state.numBytes-=r}t.backend.disposeData(n.dataId)&&this.removeDataId(n.dataId,t.backend)}}},{key:"disposeVariables",value:function(){for(var n in this.state.registeredVariables){var t=this.state.registeredVariables[n];this.disposeVariable(t)}}},{key:"disposeVariable",value:function(n){this.disposeTensor(n),null!=this.state.registeredVariables[n.name]&&delete this.state.registeredVariables[n.name]}},{key:"memory",value:function(){var n=this.backend.memory();return n.numTensors=this.state.numTensors,n.numDataBuffers=this.state.numDataBuffers,n.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(n.unreliable=!0,null==n.reasons&&(n.reasons=[]),n.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),n}},{key:"profile",value:(r=(0,o.Z)(s().mark((function n(t){var r,o,a,i,u;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.state.profiling=!0,r=this.state.numBytes,o=this.state.numTensors,this.state.activeProfile.kernels=[],n.next=6,t();case 6:this.state.activeProfile.result=n.sent,this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,(0,e.Z)(this.state.activeProfile.kernels.map((function(n){return n.totalBytesSnapshot})))),this.state.activeProfile.newBytes=this.state.numBytes-r,this.state.activeProfile.newTensors=this.state.numTensors-o,a=_(this.state.activeProfile.kernels),n.prev=12,a.s();case 14:if((i=a.n()).done){n.next=24;break}return u=i.value,n.next=18,u.kernelTimeMs;case 18:return u.kernelTimeMs=n.sent,n.next=21,u.extraInfo;case 21:u.extraInfo=n.sent;case 22:n.next=14;break;case 24:n.next=29;break;case 26:n.prev=26,n.t0=n.catch(12),a.e(n.t0);case 29:return n.prev=29,a.f(),n.finish(29);case 32:return n.abrupt("return",this.state.activeProfile);case 33:case"end":return n.stop()}}),n,this,[[12,26,29,32]])}))),function(n){return r.apply(this,arguments)})},{key:"isTapeOn",value:function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}},{key:"addTapeNode",value:function(n,t,r,e,o,a){var i=this,u={id:this.state.nextTapeNodeId++,kernelName:n,inputs:t,outputs:r,saved:o},s=(0,p.uk)(n);null!=s&&(e=s.gradFunc),null!=e&&(u.gradient=function(n){return n=n.map((function(n,t){if(null==n){var e=r[t],o=v.wT(e.size,e.dtype);return i.makeTensor(o,e.shape,e.dtype)}return n})),e(n.length>1?n:n[0],o,a)}),this.state.activeTape.push(u)}},{key:"keep",value:function(n){return n.kept=!0,n}},{key:"startTape",value:function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}},{key:"endTape",value:function(){this.state.gradientDepth--}},{key:"startScope",value:function(n){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};n&&(t.name=n),this.state.scopeStack.push(t),this.state.activeScope=t}},{key:"endScope",value:function(n){for(var t=this,r=(0,E.getTensorsInContainer)(n),e=new Set(r.map((function(n){return n.id}))),o=0;o<this.state.activeScope.track.length;o++){var a=this.state.activeScope.track[o];a.kept||e.has(a.id)||a.dispose()}var i=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],r.forEach((function(n){n.kept||n.scopeId!==i.id||t.track(n)}))}},{key:"gradients",value:function(n,t,r){var e=this,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(v.hu(t.length>0,(function(){return"gradients() received an empty list of xs."})),null!=r&&"float32"!==r.dtype)throw new Error("dy must have 'float32' dtype, but has '".concat(r.dtype,"'"));var a=this.scopedRun((function(){return e.startTape()}),(function(){return e.endTape()}),(function(){return e.tidy("forward",n)}));v.hu(a instanceof x.es,(function(){return"The result y returned by f() must be a tensor."}));var i=w(this.state.activeTape,t,a);if(!o&&0===i.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(function(){var n={};n[a.id]=null==r?B(a.shape):r,k(n,i,(function(n){return e.tidy(n)}),T);var o=t.map((function(t){return n[t.id]}));return 0===e.state.gradientDepth&&(e.state.activeTape.forEach((function(n){var t,r=_(n.saved);try{for(r.s();!(t=r.n()).done;){t.value.dispose()}}catch(e){r.e(e)}finally{r.f()}})),e.state.activeTape=null),{value:a,grads:o}}))}},{key:"customGrad",value:function(n){var t=this;return v.hu(v.mf(n),(function(){return"The f passed in customGrad(f) must be a function."})),function(){for(var r=arguments.length,e=new Array(r),o=0;o<r;o++)e[o]=arguments[o];var a;v.hu(e.every((function(n){return n instanceof x.es})),(function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"}));var i={};e.forEach((function(n,t){i[t]=n}));var u=function(t,r){return a=n.apply(void 0,[].concat(e,[r])),v.hu(a.value instanceof x.es,(function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"})),v.hu(v.mf(a.gradFunc),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."})),a.value},s=function(n,t){var r=a.gradFunc(n,t),o=Array.isArray(r)?r:[r];v.hu(o.length===e.length,(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."})),v.hu(o.every((function(n){return n instanceof x.es})),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."}));var i={};return o.forEach((function(n,t){i[t]=function(){return n}})),i};return t.runKernelFunc({forwardFunc:u,backwardsFunc:s,inputs:i})}}},{key:"readSync",value:function(n){return this.state.tensorInfo.get(n).backend.readSync(n)}},{key:"read",value:function(n){return this.state.tensorInfo.get(n).backend.read(n)}},{key:"time",value:(t=(0,o.Z)(s().mark((function n(t){var r,e;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=(0,d.now)(),n.next=3,this.backend.time(t);case 3:return(e=n.sent).wallMs=(0,d.now)()-r,n.abrupt("return",e);case 6:case"end":return n.stop()}}),n,this)}))),function(n){return t.apply(this,arguments)})},{key:"track",value:function(n){return null!=this.state.activeScope&&(n.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(n)),n}},{key:"registeredVariables",get:function(){return this.state.registeredVariables}},{key:"reset",value:function(){for(var n in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new A,this.registry)this.disposeRegisteredKernels(n),this.registry[n].dispose(),delete this.registry[n];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}]),n}();function B(n){var t=(0,v.p8)((0,v.NA)(n),"float32");return M.makeTensor(t,n,"float32")}function N(){var n=(0,l.D)();if(null==n._tfengine){var t=new f.qA(n);n._tfengine=new D(t)}return(0,f.iG)(n._tfengine.ENV),(0,x.Vi)((function(){return n._tfengine})),n._tfengine}D.nextTensorId=0,D.nextVariableId=0;var M=N();function T(n,t){var r={a:n,b:t};return M.runKernel(h.mm,r)}},678:function(n,t,r){"use strict";r.d(t,{qA:function(){return l},OB:function(){return d},Vi:function(){return v},iG:function(){return g}});var e=r(28481),o=r(92137),a=r(6610),i=r(5991),u=r(87757),s=r.n(u),c=r(21590),f="tfjsflags",l=function(){function n(t){(0,a.Z)(this,n),this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=h,this.populateURLFlags()}var t;return(0,i.Z)(n,[{key:"setPlatform",value:function(n,t){null!=this.platform&&console.warn("Platform ".concat(this.platformName," has already been set. ")+"Overwriting the platform with ".concat(t,".")),this.platformName=n,this.platform=t}},{key:"registerFlag",value:function(n,t,r){if(this.flagRegistry[n]={evaluationFn:t,setHook:r},null!=this.urlFlags[n]){var e=this.urlFlags[n];console.warn("Setting feature override from URL ".concat(n,": ").concat(e,".")),this.set(n,e)}}},{key:"getAsync",value:(t=(0,o.Z)(s().mark((function n(t){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t in this.flags)){n.next=2;break}return n.abrupt("return",this.flags[t]);case 2:return n.next=4,this.evaluateFlag(t);case 4:return this.flags[t]=n.sent,n.abrupt("return",this.flags[t]);case 6:case"end":return n.stop()}}),n,this)}))),function(n){return t.apply(this,arguments)})},{key:"get",value:function(n){if(n in this.flags)return this.flags[n];var t=this.evaluateFlag(n);if((0,c.tI)(t))throw new Error("Flag ".concat(n," cannot be synchronously evaluated. ")+"Please use getAsync() instead.");return this.flags[n]=t,this.flags[n]}},{key:"getNumber",value:function(n){return this.get(n)}},{key:"getBool",value:function(n){return this.get(n)}},{key:"getFlags",value:function(){return this.flags}},{key:"features",get:function(){return this.flags}},{key:"set",value:function(n,t){if(null==this.flagRegistry[n])throw new Error("Cannot set flag ".concat(n," as it has not been registered."));this.flags[n]=t,null!=this.flagRegistry[n].setHook&&this.flagRegistry[n].setHook(t)}},{key:"evaluateFlag",value:function(n){if(null==this.flagRegistry[n])throw new Error("Cannot evaluate flag '".concat(n,"': no evaluation function found."));return this.flagRegistry[n].evaluationFn()}},{key:"setFlags",value:function(n){this.flags=Object.assign({},n)}},{key:"reset",value:function(){this.flags={},this.urlFlags={},this.populateURLFlags()}},{key:"populateURLFlags",value:function(){var n=this;if(void 0!==this.global&&void 0!==this.global.location&&void 0!==this.global.location.search){var t=this.getQueryParams(this.global.location.search);if(f in t)t.tfjsflags.split(",").forEach((function(t){var r=t.split(":"),o=(0,e.Z)(r,2),a=o[0],i=o[1];n.urlFlags[a]=function(n,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if("".concat(+t)===t)return+t;throw new Error("Could not parse value flag value ".concat(t," for flag ").concat(n,"."))}(a,i)}))}}}]),n}();function h(n){var t={};return n.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(n){for(var r=arguments.length,e=new Array(r>1?r-1:0),o=1;o<r;o++)e[o-1]=arguments[o];return p(t,e[0],e[1]),e.join("=")})),t}function p(n,t,r){n[decodeURIComponent(t)]=decodeURIComponent(r||"")}function d(){return v}var v=null;function g(n){v=n}},85046:function(n,t,r){"use strict";var e;function o(){if(null==e){var n;if("undefined"!=typeof window)n=window;else if(void 0!==r.g)n=r.g;else if("undefined"!=typeof process)n=process;else{if("undefined"==typeof self)throw new Error("Could not find a global object");n=self}e=n}return e}function a(n,t){var r,e=(null==(r=o())._tfGlobals&&(r._tfGlobals=new Map),r._tfGlobals);if(e.has(n))return e.get(n);var a=t();return e.set(n,a),e.get(n)}r.d(t,{D:function(){return o},R:function(){return a}})},33530:function(n,t,r){"use strict";r.d(t,{cb:function(){return p},pn:function(){return h},h7:function(){return f},fN:function(){return l},UQ:function(){return s},ti:function(){return c}});var e=r(85061),o=r(93753),a=r(72027),i=r(77016),u=r(21590);function s(n){return u.hu(u.mf(n),(function(){return"The f passed in grad(f) must be a function"})),function(t,r){var e=(0,i._1)(t,"x","tf.grad","string_or_numeric"),a=null!=r?(0,i._1)(r,"dy","tf.grad"):null;return o.BV.tidy((function(){var t=o.BV.gradients((function(){return n(e)}),[e],a),r=t.value,i=t.grads;return null!=a&&u.k5(r.shape,a.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),d(i),i[0]}))}}function c(n){return u.hu(u.mf(n),(function(){return"The f passed in grads(f) must be a function"})),function(t,r){u.hu(Array.isArray(t),(function(){return"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s"}));var a=(0,i.sI)(t,"args","tf.grads","string_or_numeric"),s=null!=r?(0,i._1)(r,"dy","tf.grads"):null;return o.BV.tidy((function(){var t=o.BV.gradients((function(){return n.apply(void 0,(0,e.Z)(a))}),a,s),r=t.value,i=t.grads;return null!=s&&u.k5(r.shape,s.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),d(i),i}))}}function f(n){return u.hu(u.mf(n),(function(){return"The f passed in valueAndGrad(f) must be a function"})),function(t,r){u.hu(t instanceof a.es,(function(){return"The x passed in valueAndGrad(f)(x) must be a tensor"})),u.hu(null==r||r instanceof a.es,(function(){return"The dy passed in valueAndGrad(f)(x, dy) must be a tensor"}));var e=o.BV.gradients((function(){return n(t)}),[t],r),i=e.grads,s=e.value;return d(i),{grad:i[0],value:s}}}function l(n){return u.hu(u.mf(n),(function(){return"The f passed in valueAndGrads(f) must be a function"})),function(t,r){u.hu(Array.isArray(t)&&t.every((function(n){return n instanceof a.es})),(function(){return"The args passed in valueAndGrads(f)(args) must be array of tensors"})),u.hu(null==r||r instanceof a.es,(function(){return"The dy passed in valueAndGrads(f)(args, dy) must be a tensor"}));var i=o.BV.gradients((function(){return n.apply(void 0,(0,e.Z)(t))}),t,r);return null!=r&&u.k5(i.value.shape,r.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),d(i.grads),i}}function h(n,t){u.hu(u.mf(n),(function(){return"The f passed in variableGrads(f) must be a function"})),u.hu(null==t||Array.isArray(t)&&t.every((function(n){return n instanceof a._w})),(function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"}));var r=null!=t;if(!r)for(var e in t=[],o.BV.registeredVariables)t.push(o.BV.registeredVariables[e]);var i=r?t.filter((function(n){return!n.trainable})):null,s=t.length;t=t.filter((function(n){return n.trainable})),u.hu(t.length>0,(function(){return"variableGrads() expects at least one of the input variables to "+"be trainable, but none of the ".concat(s," variables is ")+"trainable."}));var c=o.BV.gradients(n,t,null,!0),f=c.value,l=c.grads;u.hu(l.some((function(n){return null!=n})),(function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."})),u.hu(0===f.rank,(function(){return"The f passed in variableGrads(f) must return a scalar, but it "+"returned a rank-".concat(f.rank," tensor")}));var h={};return t.forEach((function(n,t){null!=l[t]&&(h[n.name]=l[t])})),null!=i&&i.forEach((function(n){return h[n.name]=null})),{value:f,grads:h}}function p(n){return o.BV.customGrad(n)}function d(n){if(n.filter((function(n){return null==n})).length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}},34058:function(n,t,r){"use strict";r.r(t),r.d(t,{Abs:function(){return xt.SY},Acos:function(){return xt.VG},Acosh:function(){return xt.Sp},AdadeltaOptimizer:function(){return Vr},AdagradOptimizer:function(){return Pr},AdamOptimizer:function(){return Wr},AdamaxOptimizer:function(){return Gr},Add:function(){return xt.mm},AddN:function(){return xt.Xz},All:function(){return xt.oT},Any:function(){return xt.IK},ArgMax:function(){return xt.sJ},ArgMin:function(){return xt.aJ},Asin:function(){return xt.M2},Asinh:function(){return xt.qw},Atan:function(){return xt.jM},Atan2:function(){return xt.QC},Atanh:function(){return xt.Oy},AvgPool:function(){return xt.Jh},AvgPool3D:function(){return xt._k},AvgPool3DGrad:function(){return xt.IM},AvgPoolGrad:function(){return xt.RO},BatchMatMul:function(){return xt.XL},BatchToSpaceND:function(){return xt.zw},Bincount:function(){return xt.zv},BroadcastTo:function(){return xt.Ly},Cast:function(){return xt.RF},Ceil:function(){return xt.gJ},ClipByValue:function(){return xt.xn},Complex:function(){return xt.Zz},ComplexAbs:function(){return xt.yj},Concat:function(){return xt.Eh},Conv2D:function(){return xt.mh},Conv2DBackpropFilter:function(){return xt.wU},Conv2DBackpropInput:function(){return xt.wm},Conv3D:function(){return xt.x1},Conv3DBackpropFilterV2:function(){return xt.o2},Conv3DBackpropInputV2:function(){return xt.ik},Cos:function(){return xt.mc},Cosh:function(){return xt.TR},CropAndResize:function(){return xt.Vc},Cumsum:function(){return xt.iH},DataStorage:function(){return _s.JL},DenseBincount:function(){return xt.QR},DepthToSpace:function(){return xt.T0},DepthwiseConv2dNative:function(){return xt.ci},DepthwiseConv2dNativeBackpropFilter:function(){return xt.sL},DepthwiseConv2dNativeBackpropInput:function(){return xt.y7},Diag:function(){return xt.$w},Dilation2D:function(){return xt.p4},Dilation2DBackpropFilter:function(){return xt.Vn},Dilation2DBackpropInput:function(){return xt.ek},ENV:function(){return y.Vi},Einsum:function(){return xt.$g},Elu:function(){return xt.SX},EluGrad:function(){return xt.HE},Environment:function(){return y.qA},Equal:function(){return xt.hd},Erf:function(){return xt.Om},Exp:function(){return xt.NE},ExpandDims:function(){return xt.YF},Expm1:function(){return xt.Y0},FFT:function(){return xt.vw},Fill:function(){return xt.de},FlipLeftRight:function(){return xt.Uy},Floor:function(){return xt.OR},FloorDiv:function(){return xt.je},FromPixels:function(){return xt.eB},FusedBatchNorm:function(){return xt.sH},FusedConv2D:function(){return xt._V},FusedDepthwiseConv2D:function(){return xt.lu},GatherNd:function(){return xt.q1},GatherV2:function(){return xt.qi},Greater:function(){return xt.iZ},GreaterEqual:function(){return xt.Ac},IFFT:function(){return xt.Qg},Identity:function(){return xt.iJ},Imag:function(){return xt.J_},IsFinite:function(){return xt.av},IsInf:function(){return xt.iW},IsNan:function(){return xt.r7},KernelBackend:function(){return _s.Zu},LRN:function(){return xt.eZ},LRNGrad:function(){return xt.Hh},LeakyRelu:function(){return xt.J$},Less:function(){return xt.vt},LessEqual:function(){return xt.CA},LinSpace:function(){return xt.e7},Log:function(){return xt.Zb},Log1p:function(){return xt.kU},LogSoftmax:function(){return xt.qC},LogicalAnd:function(){return xt.PY},LogicalNot:function(){return xt.Vf},LogicalOr:function(){return xt.MZ},Max:function(){return xt.Yo},MaxPool:function(){return xt.mT},MaxPool3D:function(){return xt.OA},MaxPool3DGrad:function(){return xt.OU},MaxPoolGrad:function(){return xt.OV},MaxPoolWithArgmax:function(){return xt.vF},Maximum:function(){return xt.BM},Mean:function(){return xt.q2},Min:function(){return xt.c1},Minimum:function(){return xt.q8},MirrorPad:function(){return xt.jQ},Mod:function(){return xt.Vb},MomentumOptimizer:function(){return Jr},Multinomial:function(){return xt.NZ},Multiply:function(){return xt.wY},Neg:function(){return xt.ku},NonMaxSuppressionV3:function(){return xt.uv},NonMaxSuppressionV4:function(){return xt.cy},NonMaxSuppressionV5:function(){return xt.W0},NotEqual:function(){return xt.yQ},OP_SCOPE_SUFFIX:function(){return yt.z},OneHot:function(){return xt.we},OnesLike:function(){return xt.qW},Optimizer:function(){return Rr},Pack:function(){return xt.Qi},PadV2:function(){return xt.ly},Pool:function(){return xt.Kg},Pow:function(){return xt.pe},Prelu:function(){return xt.o0},Prod:function(){return xt.Dl},RMSPropOptimizer:function(){return Qr},Range:function(){return xt.e6},Rank:function(){return $r.yw},Real:function(){return xt.xJ},RealDiv:function(){return xt.oH},Reciprocal:function(){return xt.$H},Reduction:function(){return pu},Relu:function(){return xt.qk},Relu6:function(){return xt.Sb},Reshape:function(){return xt.HZ},ResizeBilinear:function(){return xt._Y},ResizeBilinearGrad:function(){return xt.zb},ResizeNearestNeighbor:function(){return xt.dp},ResizeNearestNeighborGrad:function(){return xt.Hm},Reverse:function(){return xt.mK},RotateWithOffset:function(){return xt.b9},Round:function(){return xt.e0},Rsqrt:function(){return xt.bV},SGDOptimizer:function(){return Hr},ScatterNd:function(){return xt.xQ},Select:function(){return xt.Ph},Selu:function(){return xt.oF},Sigmoid:function(){return xt.a5},Sign:function(){return xt.i5},Sin:function(){return xt.RQ},Sinh:function(){return xt.w3},Slice:function(){return xt.p2},Softmax:function(){return xt.Gc},Softplus:function(){return xt.MR},SpaceToBatchND:function(){return xt.TQ},SparseToDense:function(){return xt.D2},SplitV:function(){return xt.L8},Sqrt:function(){return xt.FK},Square:function(){return xt.bK},SquaredDifference:function(){return xt._t},Step:function(){return xt.h8},StridedSlice:function(){return xt.m2},Sub:function(){return xt.Tr},Sum:function(){return xt.GB},Tan:function(){return xt.sE},Tanh:function(){return xt.MI},Tensor:function(){return Pn.es},TensorBuffer:function(){return Pn.YD},Tile:function(){return xt.n9},TopK:function(){return xt.cW},Transform:function(){return xt.wx},Transpose:function(){return xt.G3},Unique:function(){return xt.kp},Unpack:function(){return xt.To},UnsortedSegmentSum:function(){return xt.Qv},Variable:function(){return Pn._w},ZerosLike:function(){return xt.Ru},_FusedMatMul:function(){return xt.us},abs:function(){return Ur.W},acos:function(){return ne.K},acosh:function(){return te._},add:function(){return _r.I},addN:function(){return re},all:function(){return ee.$},any:function(){return oe.Y},argMax:function(){return ae.N},argMin:function(){return ie.v},asin:function(){return ue.Z},asinh:function(){return se.V},atan:function(){return ce.z},atan2:function(){return fe.f},atanh:function(){return le.C},avgPool:function(){return he.w},avgPool3d:function(){return de},backend:function(){return xr},backend_util:function(){return p},basicLSTMCell:function(){return be},batchNorm:function(){return ke.t},batchNorm2d:function(){return xe},batchNorm3d:function(){return Ee},batchNorm4d:function(){return _e},batchToSpaceND:function(){return we.E},bincount:function(){return Ie},booleanMaskAsync:function(){return li},broadcastTo:function(){return Se.U},browser:function(){return i},buffer:function(){return Zn},cast:function(){return zn.p},ceil:function(){return Ae.m},clipByValue:function(){return De.i},clone:function(){return Ln.d},complex:function(){return I.P},concat:function(){return ve.z},concat1d:function(){return Be},concat2d:function(){return Ne},concat3d:function(){return Me},concat4d:function(){return Te},conv1d:function(){return Re.P},conv2d:function(){return Oe.T},conv2dTranspose:function(){return Ve.b},conv3d:function(){return Fe},conv3dTranspose:function(){return Ze},copyRegisteredKernels:function(){return Et.T3},cos:function(){return ze.m},cosh:function(){return Le.f},cosineWindow:function(){return wi},cumsum:function(){return We.z},customGrad:function(){return Nr.cb},denseBincount:function(){return Ue},deprecationWarn:function(){return ir},depthToSpace:function(){return Ke.n},depthwiseConv2d:function(){return qe.B},device_util:function(){return e},diag:function(){return Ge},dilation2d:function(){return je.W},disableDeprecationWarnings:function(){return ar},dispose:function(){return hr},disposeVariables:function(){return ur},div:function(){return Ir.h},divNoNan:function(){return He.N},dot:function(){return Xe.A},dropout:function(){return yi},einsum:function(){return Je},elu:function(){return Ye.p},enableDebugMode:function(){return or},enableProdMode:function(){return er},enclosingPowerOfTwo:function(){return bi},engine:function(){return sr},env:function(){return y.OB},equal:function(){return Qe.D},erf:function(){return $e.q},exp:function(){return no.Q},expandDims:function(){return to.d},expm1:function(){return ro.t},eye:function(){return oo},fft:function(){return Ca.k},fill:function(){return Cr},findBackend:function(){return br},findBackendFactory:function(){return wr},floor:function(){return ao.G},floorDiv:function(){return io.q},fused:function(){return l},gather:function(){return uo.I},gatherND:function(){return mi},gather_util:function(){return u},getBackend:function(){return mr},getGradient:function(){return Et.uk},getKernel:function(){return Et.pI},getKernelsForBackend:function(){return Et.tr},grad:function(){return Nr.UQ},grads:function(){return Nr.ti},greater:function(){return so.p},greaterEqual:function(){return co.b},ifft:function(){return Fa.S},imag:function(){return fo.a},image:function(){return Du},inTopKAsync:function(){return xi},io:function(){return o},irfft:function(){return Pa.w},isFinite:function(){return lo.x},isInf:function(){return ho.U},isNaN:function(){return po.i},keep:function(){return pr},kernel_impls:function(){return d},leakyRelu:function(){return vo.h},less:function(){return go.d},lessEqual:function(){return mo.z},linalg:function(){return Bu},linspace:function(){return yo},localResponseNormalization:function(){return bo.G},log:function(){return wo.c},log1p:function(){return ko.K},logSigmoid:function(){return xo.e},logSoftmax:function(){return Eo.C},logSumExp:function(){return _o.l},logicalAnd:function(){return Io.H},logicalNot:function(){return So.h},logicalOr:function(){return Ao.K},logicalXor:function(){return Do.e},losses:function(){return Nu},matMul:function(){return gt.O},math:function(){return a},max:function(){return Bo.F},maxPool:function(){return No._},maxPool3d:function(){return Mo},maxPoolWithArgmax:function(){return To},maximum:function(){return Kr.g},mean:function(){return Ro.J},memory:function(){return cr},meshgrid:function(){return Vo},min:function(){return Co.V},minimum:function(){return Fo.L},mirrorPad:function(){return Po.V},mod:function(){return Zo.w},moments:function(){return Lo},movingAverage:function(){return pi},mul:function(){return Sr.d},multiRNNCell:function(){return Wo},multinomial:function(){return Uo},neg:function(){return Ko.W},nextFrame:function(){return Ou},norm:function(){return hi.K},notEqual:function(){return qo.Q},oneHot:function(){return mt.l},ones:function(){return Oo.i},onesLike:function(){return Go.J},op:function(){return yt.op},outerProduct:function(){return jo},pad:function(){return Ho.v},pad1d:function(){return Xo},pad2d:function(){return Jo},pad3d:function(){return Yo},pad4d:function(){return Qo},pool:function(){return $o.d},pow:function(){return Zr.s},prelu:function(){return na.A},print:function(){return Wn},prod:function(){return ta.W},profile:function(){return fr},rand:function(){return ra},randomGamma:function(){return ua},randomNormal:function(){return sa},randomUniform:function(){return ca},range:function(){return fa},ready:function(){return gr},real:function(){return la.k},reciprocal:function(){return ha.M},registerBackend:function(){return kr},registerGradient:function(){return Et.Li},registerKernel:function(){return Et.wC},relu:function(){return pa.U},relu6:function(){return da.b},removeBackend:function(){return yr},reshape:function(){return pe.X},reverse:function(){return va.G},reverse1d:function(){return ga},reverse2d:function(){return ma},reverse3d:function(){return ya},reverse4d:function(){return ba},rfft:function(){return Za.Q},round:function(){return wa.N},rsqrt:function(){return ka.b},scalar:function(){return Mr.i},scatterND:function(){return di},scatter_util:function(){return s},selu:function(){return xa.U},separableConv2d:function(){return Ea.U},serialization:function(){return c},setBackend:function(){return vr},setPlatform:function(){return Er},setdiff1dAsync:function(){return Ia},sigmoid:function(){return ge.X},sign:function(){return Sa.X},signal:function(){return Au},sin:function(){return Aa.O},sinh:function(){return Da.R},slice:function(){return me.t},slice1d:function(){return Ba},slice2d:function(){return Na},slice3d:function(){return Ma},slice4d:function(){return Ta},slice_util:function(){return Ct},softmax:function(){return Ra.X},softplus:function(){return Oa.W},spaceToBatchND:function(){return Va.f},sparseToDense:function(){return gi},spectral:function(){return Su},split:function(){return za.V},sqrt:function(){return Ar._},square:function(){return Dr.h},squaredDifference:function(){return La.$},squeeze:function(){return Wa.L},stack:function(){return Ua.k},step:function(){return Ka.N},stridedSlice:function(){return qa.N},sub:function(){return zr.l},sum:function(){return Ga.S},sumOutType:function(){return $r.z4},tan:function(){return ja.O},tanh:function(){return ye.A},tensor:function(){return D},tensor1d:function(){return Ha},tensor2d:function(){return Xa},tensor3d:function(){return _t},tensor4d:function(){return Ja},tensor5d:function(){return Ya},tensor6d:function(){return Qa},tensor_util:function(){return zt},test_util:function(){return f},tidy:function(){return lr},tile:function(){return eo.G},time:function(){return dr},topk:function(){return $a.h},train:function(){return Tu},transpose:function(){return bt.p},truncatedNormal:function(){return ni},unique:function(){return ti.T},unregisterGradient:function(){return Et.bt},unregisterKernel:function(){return Et.nE},unsortedSegmentSum:function(){return ri.p},unstack:function(){return ei.H},upcastType:function(){return $r.x8},util:function(){return Lt},valueAndGrad:function(){return Nr.h7},valueAndGrads:function(){return Nr.fN},variable:function(){return oi},variableGrads:function(){return Nr.pn},version_core:function(){return $t},where:function(){return ai.a},whereAsync:function(){return si},zeros:function(){return ci.l},zerosLike:function(){return Br.P}});var e={};r.r(e),r.d(e,{isBrowser:function(){return m},isMobile:function(){return g}});var o={};r.r(o),r.d(o,{browserFiles:function(){return Jn},browserHTTPRequest:function(){return lt},concatenateArrayBuffers:function(){return L},copyModel:function(){return Nn},decodeWeights:function(){return V},encodeWeights:function(){return R},fromMemory:function(){return dt},getLoadHandlers:function(){return X},getModelArtifactsInfoForJSON:function(){return U},getSaveHandlers:function(){return H},http:function(){return ft},isHTTPScheme:function(){return st},listModels:function(){return Sn},loadWeights:function(){return tt},moveModel:function(){return Tn},registerLoadRouter:function(){return j},registerSaveRouter:function(){return G},removeModel:function(){return Dn},weightsLoaderFactory:function(){return et},withSaveHandler:function(){return vt}});var a={};r.r(a),r.d(a,{confusionMatrix:function(){return kt}});var i={};r.r(i),r.d(i,{fromPixels:function(){return Mt},fromPixelsAsync:function(){return At},toPixels:function(){return Bt}});var u={};r.r(u),r.d(u,{prepareAndValidate:function(){return Tt}});var s={};r.r(s),r.d(s,{calculateShapes:function(){return Vt},validateInput:function(){return Ot},validateUpdateShape:function(){return Rt}});var c={};r.r(c),r.d(c,{Serializable:function(){return Ft},SerializationMap:function(){return Pt},registerClass:function(){return Zt}});var f={};r.r(f),r.d(f,{TEST_EPSILON_FLOAT16:function(){return Wt},encodeStrings:function(){return Qt},expectArrayBuffersEqual:function(){return Yt},expectArraysClose:function(){return Ut},expectArraysEqual:function(){return jt},expectNumbersClose:function(){return Ht},expectPromiseToFail:function(){return Gt},expectValuesInRange:function(){return Jt},testEpsilon:function(){return Kt}});var l={};r.r(l),r.d(l,{conv2d:function(){return Ni},depthwiseConv2d:function(){return Ri},matMul:function(){return Oi}});var h={};r.r(h),r.d(h,{collectGatherOpShapeInfo:function(){return ks},computeOutShape:function(){return ws},segOpComputeOptimalWindowSize:function(){return bs}});var p={};r.r(p),r.d(p,{ERF_A1:function(){return ju},ERF_A2:function(){return Hu},ERF_A3:function(){return Xu},ERF_A4:function(){return Ju},ERF_A5:function(){return Yu},ERF_P:function(){return Gu},PARALLELIZE_THRESHOLD:function(){return Fu},SELU_SCALE:function(){return qu.$},SELU_SCALEALPHA:function(){return qu.y},applyActivation:function(){return Di},assertAndGetBroadcastShape:function(){return Ei.$N},assertAxesAreInnerMostDims:function(){return zo.lB},assertParamsConsistent:function(){return Vu},assignToTypedArray:function(){return as},axesAreInnerMostDims:function(){return zo.YB},calculateShapes:function(){return Vt},checkEinsumDimSizes:function(){return ds},combineLocations:function(){return zo.Vh},complexWithEvenIndex:function(){return rs},complexWithOddIndex:function(){return es},computeConv2DInfo:function(){return Ce.Ix},computeConv3DInfo:function(){return Ce.jw},computeDefaultPad:function(){return Ce.aO},computeDilation2DInfo:function(){return Ce.Rf},computeOptimalWindowSize:function(){return Pu},computeOutAndReduceShapes:function(){return zo.kz},computeOutShape:function(){return Cu},computePool2DInfo:function(){return Ce.Xw},computePool3DInfo:function(){return Ce.pl},convertConv2DDataFormat:function(){return Ce.sl},decodeEinsumEquation:function(){return hs},eitherStridesOrDilationsAreOne:function(){return Ce.jT},expandShapeToKeepDim:function(){return zo.rv},exponent:function(){return us},exponents:function(){return is},fromStringArrayToUint8:function(){return Es},fromUint8ToStringArray:function(){return xs},getAxesPermutation:function(){return zo.Q3},getBroadcastDims:function(){return Ei.XF},getComplexWithIndex:function(){return os},getEinsumComputePath:function(){return vs},getEinsumPermutation:function(){return ps},getFusedBiasGradient:function(){return Ai},getFusedDyActivation:function(){return Si},getImageCenter:function(){return Zu},getInnerMostAxes:function(){return zo.sY},getPermuted:function(){return Lu},getReductionAxes:function(){return Ei.RR},getReshaped:function(){return zu},getReshapedPermuted:function(){return Wu},getSliceBeginCoords:function(){return Uu},getSliceSize:function(){return Ku},getUndoAxesPermutation:function(){return zo.LJ},isIdentityPermutation:function(){return gs},log:function(){return $u},mergeRealAndImagArrays:function(){return ns},prepareAndValidate:function(){return Tt},prepareSplitSize:function(){return ys},segment_util:function(){return h},shouldFuse:function(){return Bi},slice_util:function(){return Ct},splitRealAndImagArrays:function(){return ts},tupleValuesAreOne:function(){return Ce.I0},upcastType:function(){return $r.x8},validateInput:function(){return Ot},validateUpdateShape:function(){return Rt},warn:function(){return Qu}});var d={};r.r(d),r.d(d,{nonMaxSuppressionV3Impl:function(){return Gi},nonMaxSuppressionV4Impl:function(){return ji},nonMaxSuppressionV5Impl:function(){return Hi},whereImpl:function(){return ii}});var v=r(93753);function g(n){if(n||"undefined"!=typeof navigator&&null!=navigator){if(n||(n=navigator),"ReactNative"===n.product)return!0;var t=n.userAgent||n.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function m(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}var y=r(678),b=(0,y.OB)();b.registerFlag("DEBUG",(function(){return!1}),(function(n){n&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),b.registerFlag("IS_BROWSER",(function(){return m()})),b.registerFlag("IS_NODE",(function(){return"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node})),b.registerFlag("IS_CHROME",(function(){return"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)})),b.registerFlag("PROD",(function(){return!1})),b.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(function(){return b.getBool("DEBUG")})),b.registerFlag("DEPRECATION_WARNINGS_ENABLED",(function(){return!0})),b.registerFlag("IS_TEST",(function(){return!1})),b.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(function(){return!0})),b.registerFlag("WRAP_TO_IMAGEBITMAP",(function(){return!1}));var w=r(6610),k=r(5991),x=r(92137),E=r(87757),_=r.n(E),I=r(34594),S=r(77016),A=r(62363);function D(n,t,r){var e=(0,S.C)(n,r);return(0,A.H)(n,t,e,r)}var B=r(21590),N={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};function M(n,t){var r;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(r=function(n,t){if(!n)return;if("string"==typeof n)return T(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T(n,t)}(n))||t&&n&&"number"==typeof n.length){r&&(n=r);var e=0,o=function(){};return{s:o,n:function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=n[Symbol.iterator]()},n:function(){var n=r.next();return i=n.done,n},e:function(n){u=!0,a=n},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function T(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}function R(n,t){return O.apply(this,arguments)}function O(){return(O=(0,x.Z)(_().mark((function n(t,r){var e,o,a,i,u,s;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(e=[],o=[],a=Array.isArray(t)?t.map((function(n){return n.name})):Object.keys(t),i=function(n){var i=a[n],u=Array.isArray(t)?t[n].tensor:t[i];if("float32"!==u.dtype&&"int32"!==u.dtype&&"bool"!==u.dtype&&"string"!==u.dtype&&"complex64"!==u.dtype)throw new Error("Unsupported dtype in weight '".concat(i,"': ").concat(u.dtype));var s={name:i,shape:u.shape,dtype:u.dtype};if("string"===u.dtype){var c=new Promise(function(){var n=(0,x.Z)(_().mark((function n(t){var r,e,o,a,i,s,c;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.bytes();case 2:for(r=n.sent,e=r.reduce((function(n,t){return n+t.length}),0)+4*r.length,o=new Uint8Array(e),a=0,i=0;i<r.length;i++)s=r[i],c=new Uint8Array(new Uint32Array([s.length]).buffer),o.set(c,a),a+=4,o.set(s,a),a+=s.length;t(o);case 8:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}());o.push(c)}else o.push(u.data());null!=r&&(s.group=r),e.push(s)},u=0;u<a.length;++u)i(u);return n.next=7,Promise.all(o);case 7:return s=n.sent,n.abrupt("return",{data:C(s),specs:e});case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function V(n,t){var r,e,o={},a=0,i=M(t);try{for(i.s();!(e=i.n()).done;){var u=e.value,s=u.name,c=u.dtype,f=u.shape,l=(0,B.NA)(f),h=void 0;if("quantization"in u){var p=u.quantization;if("uint8"===p.dtype||"uint16"===p.dtype){if(!("min"in p)||!("scale"in p))throw new Error("Weight ".concat(u.name," with quantization ").concat(p.dtype," ")+"doesn't have corresponding metadata min and scale.")}else{if("float16"!==p.dtype)throw new Error("Weight ".concat(u.name," has unknown ")+"quantization dtype ".concat(p.dtype,". ")+"Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.");if("float32"!==c)throw new Error("Weight ".concat(u.name," is quantized with ").concat(p.dtype," ")+"which only supports weights of type float32 not ".concat(c,"."))}var d=N[p.dtype],v=n.slice(a,a+l*d),g="uint8"===p.dtype?new Uint8Array(v):new Uint16Array(v);if("float32"===c)if("uint8"===p.dtype||"uint16"===p.dtype){h=new Float32Array(g.length);for(var m=0;m<g.length;m++){var y=g[m];h[m]=y*p.scale+p.min}}else{if("float16"!==p.dtype)throw new Error("Unsupported quantization type ".concat(p.dtype," ")+"for weight type float32.");void 0===r&&(r=K()),h=r(g)}else{if("int32"!==c)throw new Error("Unsupported dtype in weight '".concat(s,"': ").concat(c));if("uint8"!==p.dtype&&"uint16"!==p.dtype)throw new Error("Unsupported quantization type ".concat(p.dtype," ")+"for weight type int32.");h=new Int32Array(g.length);for(var b=0;b<g.length;b++){var w=g[b];h[b]=Math.round(w*p.scale+p.min)}}a+=l*d}else if("string"===c){var k=(0,B.NA)(u.shape);h=[];for(var x=0;x<k;x++){var E=new Uint32Array(n.slice(a,a+4))[0];a+=4;var _=new Uint8Array(n.slice(a,a+E));h.push(_),a+=E}}else{var S=N[c],A=n.slice(a,a+l*S);if("float32"===c)h=new Float32Array(A);else if("int32"===c)h=new Int32Array(A);else if("bool"===c)h=new Uint8Array(A);else{if("complex64"!==c)throw new Error("Unsupported dtype in weight '".concat(s,"': ").concat(c));h=new Float32Array(A);for(var T=new Float32Array(h.length/2),R=new Float32Array(h.length/2),O=0;O<T.length;O++)T[O]=h[2*O],R[O]=h[2*O+1];var V=D(T,f,"float32"),C=D(R,f,"float32");o[s]=(0,I.P)(V,C),V.dispose(),C.dispose()}a+=l*S}"complex64"!==c&&(o[s]=D(h,f,c))}}catch(F){i.e(F)}finally{i.f()}return o}function C(n){if(null===n)throw new Error("Invalid input value: ".concat(JSON.stringify(n)));var t=0,r=[];n.forEach((function(n){if(t+=n.byteLength,r.push(n.byteLength===n.buffer.byteLength?n:new n.constructor(n)),!(n instanceof Float32Array||n instanceof Int32Array||n instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: ".concat(n.constructor.name))}));var e=new Uint8Array(t),o=0;return r.forEach((function(n){e.set(new Uint8Array(n.buffer),o),o+=n.byteLength})),e.buffer}var F="undefined"!=typeof Buffer&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function P(n){return F?Buffer.byteLength(n):new Blob([n]).size}function Z(n){if(F)return Buffer.from(n).toString("base64");for(var t=new Uint8Array(n),r="",e=0,o=t.length;e<o;e++)r+=String.fromCharCode(t[e]);return btoa(r)}function z(n){if(F){var t=Buffer.from(n,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}for(var r=atob(n),e=new Uint8Array(r.length),o=0;o<r.length;++o)e.set([r.charCodeAt(o)],o);return e.buffer}function L(n){if(1===n.length)return n[0];var t=0;n.forEach((function(n){t+=n.byteLength}));var r=new Uint8Array(t),e=0;return n.forEach((function(n){r.set(new Uint8Array(n),e),e+=n.byteLength})),r.buffer}function W(n){for(n=n.trim();n.endsWith("/");)n=n.slice(0,n.length-1);var t=n.split("/");return t[t.length-1]}function U(n){if(n.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==n.modelTopology?0:P(JSON.stringify(n.modelTopology)),weightSpecsBytes:null==n.weightSpecs?0:P(JSON.stringify(n.weightSpecs)),weightDataBytes:null==n.weightData?0:n.weightData.byteLength}}function K(){var n=function(){var n=function(n){for(var t=n<<13,r=0;0==(8388608&t);)r-=8388608,t<<=1;return(t&=-8388609)|r+947912704},t=new Uint32Array(2048);t[0]=0;for(var r=1;r<1024;r++)t[r]=n(r);for(var e=1024;e<2048;e++)t[e]=939524096+(e-1024<<13);return t}(),t=function(){var n=new Uint32Array(64);n[0]=0,n[31]=1199570944,n[32]=2147483648,n[63]=3347054592;for(var t=1;t<31;t++)n[t]=t<<23;for(var r=33;r<63;r++)n[r]=2147483648+(r-32<<23);return n}(),r=function(){for(var n=new Uint32Array(64),t=0;t<64;t++)n[t]=1024;return n[0]=n[32]=0,n}();return function(e){for(var o=new ArrayBuffer(4*e.length),a=new Uint32Array(o),i=0;i<e.length;i++){var u=e[i],s=n[r[u>>10]+(1023&u)]+t[u>>10];a[i]=s}return new Float32Array(o)}}var q=function(){function n(){(0,w.Z)(this,n),this.saveRouters=[],this.loadRouters=[]}return(0,k.Z)(n,null,[{key:"getInstance",value:function(){return null==n.instance&&(n.instance=new n),n.instance}},{key:"registerSaveRouter",value:function(t){n.getInstance().saveRouters.push(t)}},{key:"registerLoadRouter",value:function(t){n.getInstance().loadRouters.push(t)}},{key:"getSaveHandlers",value:function(t){return n.getHandlers(t,"save")}},{key:"getLoadHandlers",value:function(t,r){return n.getHandlers(t,"load",r)}},{key:"getHandlers",value:function(t,r,e){var o=[];return("load"===r?n.getInstance().loadRouters:n.getInstance().saveRouters).forEach((function(n){var r=n(t,e);null!==r&&o.push(r)})),o}}]),n}(),G=function(n){return q.registerSaveRouter(n)},j=function(n){return q.registerLoadRouter(n)},H=function(n){return q.getSaveHandlers(n)},X=function(n,t){return q.getLoadHandlers(n,t)};function J(n,t){var r;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(r=function(n,t){if(!n)return;if("string"==typeof n)return Y(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y(n,t)}(n))||t&&n&&"number"==typeof n.length){r&&(n=r);var e=0,o=function(){};return{s:o,n:function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=n[Symbol.iterator]()},n:function(){var n=r.next();return i=n.done,n},e:function(n){u=!0,a=n},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function Y(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}var Q="tensorflowjs",$="models_store",nn="model_info_store";function tn(){if(!(0,y.OB)().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var n="undefined"==typeof window?self:window,t=n.indexedDB||n.mozIndexedDB||n.webkitIndexedDB||n.msIndexedDB||n.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function rn(n){var t=n.result;t.createObjectStore($,{keyPath:"modelPath"}),t.createObjectStore(nn,{keyPath:"modelPath"})}var en=function(){function n(t){if((0,w.Z)(this,n),this.indexedDB=tn(),null==t||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}var t,r;return(0,k.Z)(n,[{key:"save",value:(r=(0,x.Z)(_().mark((function n(t){return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){n.next=2;break}throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");case 2:return n.abrupt("return",this.databaseAction(this.modelPath,t));case 3:case"end":return n.stop()}}),n,this)}))),function(n){return r.apply(this,arguments)})},{key:"load",value:(t=(0,x.Z)(_().mark((function n(){return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.databaseAction(this.modelPath));case 1:case"end":return n.stop()}}),n,this)}))),function(){return t.apply(this,arguments)})},{key:"databaseAction",value:function(n,t){var r=this;return new Promise((function(n,e){var o=r.indexedDB.open(Q,1);o.onupgradeneeded=function(){return rn(o)},o.onsuccess=function(){var a=o.result;if(null==t){var i=a.transaction($,"readonly"),u=i.objectStore($).get(r.modelPath);u.onsuccess=function(){if(null==u.result)return a.close(),e(new Error("Cannot find model with path '".concat(r.modelPath,"' ")+"in IndexedDB."));n(u.result.modelArtifacts)},u.onerror=function(n){return a.close(),e(u.error)},i.oncomplete=function(){return a.close()}}else{var s,c=U(t),f=a.transaction(nn,"readwrite"),l=f.objectStore(nn),h=l.put({modelPath:r.modelPath,modelArtifactsInfo:c});h.onsuccess=function(){var o=(s=a.transaction($,"readwrite")).objectStore($).put({modelPath:r.modelPath,modelArtifacts:t,modelArtifactsInfo:c});o.onsuccess=function(){return n({modelArtifactsInfo:c})},o.onerror=function(n){var t=(l=f.objectStore(nn)).delete(r.modelPath);t.onsuccess=function(){return a.close(),e(o.error)},t.onerror=function(n){return a.close(),e(o.error)}}},h.onerror=function(n){return a.close(),e(h.error)},f.oncomplete=function(){null==s?a.close():s.oncomplete=function(){return a.close()}}}},o.onerror=function(n){return e(o.error)}}))}}]),n}();en.URL_SCHEME="indexeddb://";var on=function(n){return(0,y.OB)().getBool("IS_BROWSER")&&!Array.isArray(n)&&n.startsWith(en.URL_SCHEME)?(t=n.slice(en.URL_SCHEME.length),new en(t)):null;var t};q.registerSaveRouter(on),q.registerLoadRouter(on);var an=function(){function n(){(0,w.Z)(this,n),this.indexedDB=tn()}return(0,k.Z)(n,[{key:"listModels",value:function(){var n=(0,x.Z)(_().mark((function n(){var t=this;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,r){var e=t.indexedDB.open(Q,1);e.onupgradeneeded=function(){return rn(e)},e.onsuccess=function(){var t=e.result,o=t.transaction(nn,"readonly"),a=o.objectStore(nn).getAll();a.onsuccess=function(){var t,r={},e=J(a.result);try{for(e.s();!(t=e.n()).done;){var o=t.value;r[o.modelPath]=o.modelArtifactsInfo}}catch(i){e.e(i)}finally{e.f()}n(r)},a.onerror=function(n){return t.close(),r(a.error)},o.oncomplete=function(){return t.close()}},e.onerror=function(n){return r(e.error)}})));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()},{key:"removeModel",value:function(){var n=(0,x.Z)(_().mark((function n(t){var r=this;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=(e=t).startsWith(en.URL_SCHEME)?e.slice(en.URL_SCHEME.length):e,n.abrupt("return",new Promise((function(n,e){var o=r.indexedDB.open(Q,1);o.onupgradeneeded=function(){return rn(o)},o.onsuccess=function(){var r,a=o.result,i=a.transaction(nn,"readwrite"),u=i.objectStore(nn),s=u.get(t);s.onsuccess=function(){if(null==s.result)return a.close(),e(new Error("Cannot find model with path '".concat(t,"' ")+"in IndexedDB."));var o=u.delete(t),i=function(){var o=(r=a.transaction($,"readwrite")).objectStore($).delete(t);o.onsuccess=function(){return n(s.result.modelArtifactsInfo)},o.onerror=function(n){return e(s.error)}};o.onsuccess=i,o.onerror=function(n){return i(),a.close(),e(s.error)}},s.onerror=function(n){return a.close(),e(s.error)},i.oncomplete=function(){null==r?a.close():r.oncomplete=function(){return a.close()}}},o.onerror=function(n){return e(o.error)}})));case 2:case"end":return n.stop()}var e}),n)})));return function(t){return n.apply(this,arguments)}}()}]),n}(),un="/",sn="tensorflowjs_models",cn="info",fn="model_topology",ln="weight_specs",hn="weight_data",pn="model_metadata";function dn(n){return{info:[sn,n,cn].join(un),topology:[sn,n,fn].join(un),weightSpecs:[sn,n,ln].join(un),weightData:[sn,n,hn].join(un),modelMetadata:[sn,n,pn].join(un)}}function vn(n){var t=n.split(un);if(t.length<3)throw new Error("Invalid key format: ".concat(n));return t.slice(1,t.length-1).join(un)}var gn=function(){function n(t){if((0,w.Z)(this,n),!(0,y.OB)().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==t||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=dn(this.modelPath)}var t,r;return(0,k.Z)(n,[{key:"save",value:(r=(0,x.Z)(_().mark((function n(t){var r,e,o,a;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){n.next=4;break}throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");case 4:return r=JSON.stringify(t.modelTopology),e=JSON.stringify(t.weightSpecs),o=U(t),n.prev=7,this.LS.setItem(this.keys.info,JSON.stringify(o)),this.LS.setItem(this.keys.topology,r),this.LS.setItem(this.keys.weightSpecs,e),this.LS.setItem(this.keys.weightData,Z(t.weightData)),a={format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy},null!=t.signature&&(a.signature=t.signature),null!=t.userDefinedMetadata&&(a.userDefinedMetadata=t.userDefinedMetadata),null!=t.modelInitializer&&(a.modelInitializer=t.modelInitializer),this.LS.setItem(this.keys.modelMetadata,JSON.stringify(a)),n.abrupt("return",{modelArtifactsInfo:o});case 20:throw n.prev=20,n.t0=n.catch(7),this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '".concat(this.modelPath,"' to local storage: ")+"size quota being exceeded is a possible cause of this failure: "+"modelTopologyBytes=".concat(o.modelTopologyBytes,", ")+"weightSpecsBytes=".concat(o.weightSpecsBytes,", ")+"weightDataBytes=".concat(o.weightDataBytes,"."));case 28:case"end":return n.stop()}}),n,this,[[7,20]])}))),function(n){return r.apply(this,arguments)})},{key:"load",value:(t=(0,x.Z)(_().mark((function n(){var t,r,e,o,a,i,u;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=(t=JSON.parse(this.LS.getItem(this.keys.info)))){n.next=3;break}throw new Error("In local storage, there is no model with name '".concat(this.modelPath,"'"));case 3:if("JSON"===t.modelTopologyType){n.next=5;break}throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");case 5:if(r={},null!=(e=JSON.parse(this.LS.getItem(this.keys.topology)))){n.next=9;break}throw new Error("In local storage, the topology of model '".concat(this.modelPath,"' ")+"is missing.");case 9:if(r.modelTopology=e,null!=(o=JSON.parse(this.LS.getItem(this.keys.weightSpecs)))){n.next=13;break}throw new Error("In local storage, the weight specs of model '".concat(this.modelPath,"' ")+"are missing.");case 13:if(r.weightSpecs=o,null!=(a=this.LS.getItem(this.keys.modelMetadata))&&(i=JSON.parse(a),r.format=i.format,r.generatedBy=i.generatedBy,r.convertedBy=i.convertedBy,null!=i.signature&&(r.signature=i.signature),null!=i.userDefinedMetadata&&(r.userDefinedMetadata=i.userDefinedMetadata),null!=i.modelInitializer&&(r.modelInitializer=i.modelInitializer)),null!=(u=this.LS.getItem(this.keys.weightData))){n.next=19;break}throw new Error("In local storage, the binary weight values of model "+"'".concat(this.modelPath,"' are missing."));case 19:return r.weightData=z(u),n.abrupt("return",r);case 21:case"end":return n.stop()}}),n,this)}))),function(){return t.apply(this,arguments)})}]),n}();gn.URL_SCHEME="localstorage://";var mn=function(n){return(0,y.OB)().getBool("IS_BROWSER")&&!Array.isArray(n)&&n.startsWith(gn.URL_SCHEME)?(t=n.slice(gn.URL_SCHEME.length),new gn(t)):null;var t};q.registerSaveRouter(mn),q.registerLoadRouter(mn);var yn=function(){function n(){(0,w.Z)(this,n),(0,B.hu)((0,y.OB)().getBool("IS_BROWSER"),(function(){return"Current environment is not a web browser"})),(0,B.hu)("undefined"==typeof window||void 0!==window.localStorage,(function(){return"Current browser does not appear to support localStorage"})),this.LS=window.localStorage}return(0,k.Z)(n,[{key:"listModels",value:function(){var n=(0,x.Z)(_().mark((function n(){var t,r,e,o,a,i;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(t={},r=sn+un,e=un+cn,o=0;o<this.LS.length;++o)(a=this.LS.key(o)).startsWith(r)&&a.endsWith(e)&&(i=vn(a),t[i]=JSON.parse(this.LS.getItem(a)));return n.abrupt("return",t);case 5:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}()},{key:"removeModel",value:function(){var n=(0,x.Z)(_().mark((function n(t){var r,e;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=(o=t).startsWith(gn.URL_SCHEME)?o.slice(gn.URL_SCHEME.length):o,r=dn(t),null!=this.LS.getItem(r.info)){n.next=4;break}throw new Error("Cannot find model at path '".concat(t,"'"));case 4:return e=JSON.parse(this.LS.getItem(r.info)),this.LS.removeItem(r.info),this.LS.removeItem(r.topology),this.LS.removeItem(r.weightSpecs),this.LS.removeItem(r.weightData),n.abrupt("return",e);case 10:case"end":return n.stop()}var o}),n,this)})));return function(t){return n.apply(this,arguments)}}()}]),n}();function bn(n,t){var r;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(r=function(n,t){if(!n)return;if("string"==typeof n)return wn(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wn(n,t)}(n))||t&&n&&"number"==typeof n.length){r&&(n=r);var e=0,o=function(){};return{s:o,n:function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=n[Symbol.iterator]()},n:function(){var n=r.next();return i=n.done,n},e:function(n){u=!0,a=n},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function wn(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}var kn="://",xn=function(){function n(){(0,w.Z)(this,n),this.managers={}}return(0,k.Z)(n,null,[{key:"getInstance",value:function(){return null==n.instance&&(n.instance=new n),n.instance}},{key:"registerManager",value:function(t,r){(0,B.hu)(null!=t,(function(){return"scheme must not be undefined or null."})),t.endsWith(kn)&&(t=t.slice(0,t.indexOf(kn))),(0,B.hu)(t.length>0,(function(){return"scheme must not be an empty string."}));var e=n.getInstance();(0,B.hu)(null==e.managers[t],(function(){return"A model store manager is already registered for scheme '".concat(t,"'.")})),e.managers[t]=r}},{key:"getManager",value:function(n){var t=this.getInstance().managers[n];if(null==t)throw new Error("Cannot find model manager for scheme '".concat(n,"'"));return t}},{key:"getSchemes",value:function(){return Object.keys(this.getInstance().managers)}}]),n}();function En(n){if(-1===n.indexOf(kn))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+"".concat(xn.getSchemes().join(",")));return{scheme:n.split(kn)[0],path:n.split(kn)[1]}}function _n(n,t){return In.apply(this,arguments)}function In(){return(In=(0,x.Z)(_().mark((function n(t,r){var e,o,a,i,u,s,c,f,l,h,p=arguments;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=p.length>2&&void 0!==p[2]&&p[2],(0,B.hu)(t!==r,(function(){return"Old path and new path are the same: '".concat(t,"'")})),o=q.getLoadHandlers(t),(0,B.hu)(o.length>0,(function(){return"Copying failed because no load handler is found for source URL ".concat(t,".")})),(0,B.hu)(o.length<2,(function(){return"Copying failed because more than one (".concat(o.length,") ")+"load handlers for source URL ".concat(t,".")})),a=o[0],i=q.getSaveHandlers(r),(0,B.hu)(i.length>0,(function(){return"Copying failed because no save handler is found for destination "+"URL ".concat(r,".")})),(0,B.hu)(i.length<2,(function(){return"Copying failed because more than one (".concat(o.length,") ")+"save handlers for destination URL ".concat(r,".")})),u=i[0],s=En(t).scheme,c=En(t).path,f=s===En(t).scheme,n.next=15,a.load();case 15:if(l=n.sent,!e||!f){n.next=19;break}return n.next=19,xn.getManager(s).removeModel(c);case 19:return n.next=21,u.save(l);case 21:if(h=n.sent,!e||f){n.next=25;break}return n.next=25,xn.getManager(s).removeModel(c);case 25:return n.abrupt("return",h.modelArtifactsInfo);case 26:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Sn(){return An.apply(this,arguments)}function An(){return(An=(0,x.Z)(_().mark((function n(){var t,r,e,o,a,i,u;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=xn.getSchemes(),r={},e=bn(t),n.prev=3,e.s();case 5:if((o=e.n()).done){n.next=13;break}return a=o.value,n.next=9,xn.getManager(a).listModels();case 9:for(u in i=n.sent)r[a+kn+u]=i[u];case 11:n.next=5;break;case 13:n.next=18;break;case 15:n.prev=15,n.t0=n.catch(3),e.e(n.t0);case 18:return n.prev=18,e.f(),n.finish(18);case 21:return n.abrupt("return",r);case 22:case"end":return n.stop()}}),n,null,[[3,15,18,21]])})))).apply(this,arguments)}function Dn(n){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,x.Z)(_().mark((function n(t){var r,e;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=En(t),e=xn.getManager(r.scheme),n.abrupt("return",e.removeModel(r.path));case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Nn(n,t){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,x.Z)(_().mark((function n(t,r){return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return!1,n.abrupt("return",_n(t,r,false));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function Tn(n,t){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,x.Z)(_().mark((function n(t,r){return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return!0,n.abrupt("return",_n(t,r,true));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var On=function(){function n(){(0,w.Z)(this,n)}return(0,k.Z)(n,[{key:"fetch",value:function(n){function t(t,r){return n.apply(this,arguments)}return t.toString=function(){return n.toString()},t}((function(n,t){return fetch(n,t)}))},{key:"now",value:function(){return performance.now()}},{key:"encode",value:function(n,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got ".concat(t));return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(n)}},{key:"decode",value:function(n,t){return new TextDecoder(t).decode(n)}}]),n}();if((0,y.OB)().get("IS_BROWSER")){(0,y.OB)().setPlatform("browser",new On);try{xn.registerManager(gn.URL_SCHEME,new yn)}catch(Is){}try{xn.registerManager(en.URL_SCHEME,new an)}catch(Is){}}var Vn,Cn=function(){return r(75410)};var Fn=function(){function n(){(0,w.Z)(this,n),this.util=r(48628),this.textEncoder=new this.util.TextEncoder}return(0,k.Z)(n,[{key:"fetch",value:function(n,t){return null!=(0,y.OB)().global.fetch?(0,y.OB)().global.fetch(n,t):(null==Vn&&(Vn=Cn()),Vn(n,t))}},{key:"now",value:function(){var n=process.hrtime();return 1e3*n[0]+n[1]/1e6}},{key:"encode",value:function(n,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got ".concat(t));return this.textEncoder.encode(n)}},{key:"decode",value:function(n,t){return 0===n.length?"":new this.util.TextDecoder(t).decode(n)}}]),n}();(0,y.OB)().get("IS_NODE")&&(0,y.OB)().setPlatform("node",new Fn);var Pn=r(72027);function Zn(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",r=arguments.length>2?arguments[2]:void 0;return t=t||"float32",B.Mu(n),new Pn.YD(n,t,r)}var zn=r(12576),Ln=r(47787);function Wn(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(n.toString(t))}(0,v.wv)();var Un={buffer:Zn,cast:zn.p,clone:Ln.d,print:Wn};(0,Pn.Vp)(Un);var Kn=r(85061);function qn(n,t){var r;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(r=function(n,t){if(!n)return;if("string"==typeof n)return Gn(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gn(n,t)}(n))||t&&n&&"number"==typeof n.length){r&&(n=r);var e=0,o=function(){};return{s:o,n:function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=n[Symbol.iterator]()},n:function(){var n=r.next();return i=n.done,n},e:function(n){u=!0,a=n},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function Gn(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}function jn(n){return new Promise((function(n){return setTimeout(n)})).then(n)}var Hn=function(){function n(t){if((0,w.Z)(this,n),!(0,y.OB)().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(n.URL_SCHEME)&&(t=t.slice(n.URL_SCHEME.length)),null!=t&&0!==t.length||(t="model"),this.modelTopologyFileName=t+".json",this.weightDataFileName=t+".weights.bin"}var t;return(0,k.Z)(n,[{key:"save",value:(t=(0,x.Z)(_().mark((function n(t){var r,e,o,a,i,u;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("undefined"!=typeof document){n.next=2;break}throw new Error("Browser downloads are not supported in this environment since `document` is not present");case 2:if(r=window.URL.createObjectURL(new Blob([t.weightData],{type:"application/octet-stream"})),!(t.modelTopology instanceof ArrayBuffer)){n.next=7;break}throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 7:return e=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],o={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:e},null!=t.signature&&(o.signature=t.signature),null!=t.userDefinedMetadata&&(o.userDefinedMetadata=t.userDefinedMetadata),null!=t.modelInitializer&&(o.modelInitializer=t.modelInitializer),a=window.URL.createObjectURL(new Blob([JSON.stringify(o)],{type:"application/json"})),(i=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,i.href=a,n.next=18,jn((function(){return i.dispatchEvent(new MouseEvent("click"))}));case 18:if(null==t.weightData){n.next=24;break}return(u=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,u.href=r,n.next=24,jn((function(){return u.dispatchEvent(new MouseEvent("click"))}));case 24:return n.abrupt("return",{modelArtifactsInfo:U(t)});case 25:case"end":return n.stop()}}),n,this)}))),function(n){return t.apply(this,arguments)})}]),n}();Hn.URL_SCHEME="downloads://";var Xn=function(){function n(t){if((0,w.Z)(this,n),null==t||t.length<1)throw new Error("When calling browserFiles, at least 1 file is required, "+"but received ".concat(t));this.files=t}var t;return(0,k.Z)(n,[{key:"load",value:(t=(0,x.Z)(_().mark((function n(){var t,r,e=this;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=this.files[0],r=this.files.slice(1),n.abrupt("return",new Promise((function(n,o){var a=new FileReader;a.onload=function(a){var i=JSON.parse(a.target.result),u=i.modelTopology;if(null!=u){0===r.length&&n({modelTopology:u});var s=i.weightsManifest;if(null!=s){var c;try{c=e.checkManifestAndWeightFiles(s,r)}catch(Is){return void o(Is)}var f=[],l=[],h=[];s.forEach((function(n){n.paths.forEach((function(n){l.push(n),h.push(null)})),f.push.apply(f,(0,Kn.Z)(n.weights))})),s.forEach((function(t){t.paths.forEach((function(t){var r=new FileReader;r.onload=function(r){var e=r.target.result,o=l.indexOf(t);if(h[o]=e,-1===h.indexOf(null)){var a={modelTopology:u,weightSpecs:f,weightData:L(h),format:i.format,generatedBy:i.generatedBy,convertedBy:i.convertedBy};null!=i.signature&&(a.signature=i.signature),null!=i.userDefinedMetadata&&(a.userDefinedMetadata=i.userDefinedMetadata),null!=i.modelInitializer&&(a.modelInitializer=i.modelInitializer),n(a)}},r.onerror=function(n){return o("Failed to weights data from file of path '".concat(t,"'."))},r.readAsArrayBuffer(c[t])}))}))}else o(new Error("weightManifest field is missing from file ".concat(t.name)))}else o(new Error("modelTopology field is missing from file ".concat(t.name)))},a.onerror=function(n){return o("Failed to read model topology and weights manifest JSON "+"from file '".concat(t.name,"'. BrowserFiles supports loading ")+"Keras-style tf.Model artifacts only.")},a.readAsText(t)})));case 3:case"end":return n.stop()}}),n,this)}))),function(){return t.apply(this,arguments)})},{key:"checkManifestAndWeightFiles",value:function(n,t){var r,e=[],o=t.map((function(n){return W(n.name)})),a={},i=qn(n);try{for(i.s();!(r=i.n()).done;){r.value.paths.forEach((function(n){var r=W(n);if(-1!==e.indexOf(r))throw new Error("Duplicate file basename found in weights manifest: "+"'".concat(r,"'"));if(e.push(r),-1===o.indexOf(r))throw new Error("Weight file with basename '".concat(r,"' is not provided."));a[n]=t[o.indexOf(r)]}))}}catch(Is){i.e(Is)}finally{i.f()}if(e.length!==t.length)throw new Error("Mismatch in the number of files in weights manifest "+"(".concat(e.length,") and the number of weight files provided ")+"(".concat(t.length,")."));return a}}]),n}();function Jn(n){return new Xn(n)}q.registerSaveRouter((function(n){return(0,y.OB)().getBool("IS_BROWSER")&&!Array.isArray(n)&&n.startsWith(Hn.URL_SCHEME)?function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"model";return new Hn(n)}(n.slice(Hn.URL_SCHEME.length)):null}));var Yn=r(28481);function Qn(n,t,r,e){!function(n){(0,B.hu)(null!=n&&Array.isArray(n)&&n.length>0,(function(){return"promises must be a none empty array"}))}(n),function(n,t){(0,B.hu)(n>=0&&n<=1,(function(){return"Progress fraction must be in range [0, 1], but "+"got startFraction ".concat(n)})),(0,B.hu)(t>=0&&t<=1,(function(){return"Progress fraction must be in range [0, 1], but "+"got endFraction ".concat(t)})),(0,B.hu)(t>=n,(function(){return"startFraction must be no more than endFraction, but "+"got startFraction ".concat(n," and endFraction ")+"".concat(t)}))}(r=null==r?0:r,e=null==e?1:e);var o=0;return Promise.all(n.map((function(a){return a.then((function(a){var i=r+ ++o/n.length*(e-r);return t(i),a})),a})))}function $n(n,t){return nt.apply(this,arguments)}function nt(){return(nt=(0,x.Z)(_().mark((function n(t,r){var e,o,a,i,u,s,c,f,l;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null==r&&(r={}),e=null==r.fetchFunc?(0,y.OB)().platform.fetch:r.fetchFunc,o=t.map((function(n){return e(n,r.requestInit,{isBinary:!0})})),a=0,i=.5,null!=r.onProgress){n.next=11;break}return n.next=8,Promise.all(o);case 8:n.t0=n.sent,n.next=14;break;case 11:return n.next=13,Qn(o,r.onProgress,a,i);case 13:n.t0=n.sent;case 14:if(u=n.t0,s=u.map((function(n){return n.arrayBuffer()})),c=.5,f=1,null!=r.onProgress){n.next=24;break}return n.next=21,Promise.all(s);case 21:n.t1=n.sent,n.next=27;break;case 24:return n.next=26,Qn(s,r.onProgress,c,f);case 26:n.t1=n.sent;case 27:return l=n.t1,n.abrupt("return",l);case 29:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function tt(n){return rt.apply(this,arguments)}function rt(){return(rt=(0,x.Z)(_().mark((function n(t){var r,e,o,a,i=arguments;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:"",e=i.length>2?i[2]:void 0,o=i.length>3?i[3]:void 0,a=et((function(n){return $n(n,{requestInit:o})})),n.abrupt("return",a(t,r,e));case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function et(n){return function(){var t=(0,x.Z)(_().mark((function t(r){var e,o,a,i,u,s,c,f,l,h,p,d,v=arguments;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=v.length>1&&void 0!==v[1]?v[1]:"",o=v.length>2?v[2]:void 0,a=r.map((function(){return!1})),i={},u=null!=o?o.map((function(){return!1})):[],s=[],r.forEach((function(n,t){var r=0;n.weights.forEach((function(n){var e="quantization"in n?n.quantization.dtype:n.dtype,c=N[e]*B.NA(n.shape),f=function(){a[t]=!0,null==i[t]&&(i[t]=[]),i[t].push({manifestEntry:n,groupOffset:r,sizeBytes:c})};null!=o?o.forEach((function(t,r){t===n.name&&(f(),u[r]=!0)})):f(),s.push(n.name),r+=c}))})),u.every((function(n){return n}))){t.next=10;break}throw c=o.filter((function(n,t){return!u[t]})),new Error("Could not find weights in manifest with names: "+"".concat(c.join(", "),". \n")+"Manifest JSON has weights with names: "+"".concat(s.join(", "),"."));case 10:return f=a.reduce((function(n,t,r){return t&&n.push(r),n}),[]),l=[],f.forEach((function(n){r[n].paths.forEach((function(n){var t=e+(e.endsWith("/")?"":"/")+n;l.push(t)}))})),t.next=15,n(l);case 15:return h=t.sent,p={},d=0,f.forEach((function(n){for(var t=r[n].paths.length,e=0,o=0;o<t;o++)e+=h[d+o].byteLength;for(var a=new ArrayBuffer(e),u=new Uint8Array(a),s=0,c=0;c<t;c++){var f=new Uint8Array(h[d+c]);u.set(f,s),s+=f.byteLength}i[n].forEach((function(n){var t=V(a.slice(n.groupOffset,n.groupOffset+n.sizeBytes),[n.manifestEntry]);for(var r in t)p[r]=t[r]})),d+=t})),t.abrupt("return",p);case 20:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()}function ot(n,t){var r;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(r=function(n,t){if(!n)return;if("string"==typeof n)return at(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return at(n,t)}(n))||t&&n&&"number"==typeof n.length){r&&(n=r);var e=0,o=function(){};return{s:o,n:function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=n[Symbol.iterator]()},n:function(){var n=r.next();return i=n.done,n},e:function(n){u=!0,a=n},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function at(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}var it=function(){function n(t,r){if((0,w.Z)(this,n),this.DEFAULT_METHOD="POST",null==r&&(r={}),this.weightPathPrefix=r.weightPathPrefix,this.onProgress=r.onProgress,this.weightUrlConverter=r.weightUrlConverter,null!=r.fetchFunc?((0,B.hu)("function"==typeof r.fetchFunc,(function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"})),this.fetch=r.fetchFunc):this.fetch=(0,y.OB)().platform.fetch,(0,B.hu)(null!=t&&t.length>0,(function(){return"URL path for http must not be null, undefined or empty."})),Array.isArray(t)&&(0,B.hu)(2===t.length,(function(){return"URL paths for http must have a length of 2, "+"(actual length is ".concat(t.length,").")})),this.path=t,null!=r.requestInit&&null!=r.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=r.requestInit||{}}var t,r;return(0,k.Z)(n,[{key:"save",value:(r=(0,x.Z)(_().mark((function n(t){var r,e,o,a;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){n.next=2;break}throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");case 2:return(r=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,e=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],o={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:e},null!=t.signature&&(o.signature=t.signature),null!=t.userDefinedMetadata&&(o.userDefinedMetadata=t.userDefinedMetadata),null!=t.modelInitializer&&(o.modelInitializer=t.modelInitializer),r.body.append("model.json",new Blob([JSON.stringify(o)],{type:"application/json"}),"model.json"),null!=t.weightData&&r.body.append("model.weights.bin",new Blob([t.weightData],{type:"application/octet-stream"}),"model.weights.bin"),n.next=13,this.fetch(this.path,r);case 13:if(!(a=n.sent).ok){n.next=18;break}return n.abrupt("return",{modelArtifactsInfo:U(t),responses:[a]});case 18:throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+"".concat(a.status,"."));case 19:case"end":return n.stop()}}),n,this)}))),function(n){return r.apply(this,arguments)})},{key:"load",value:(t=(0,x.Z)(_().mark((function n(){var t,r,e,o,a,i,u,s,c,f,l,h,p,d,v,g;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.fetch(this.path,this.requestInit);case 2:if((t=n.sent).ok){n.next=5;break}throw new Error("Request to ".concat(this.path," failed with status code ")+"".concat(t.status,". Please verify this URL points to ")+"the model JSON of the model to load.");case 5:return n.prev=5,n.next=8,t.json();case 8:r=n.sent,n.next=16;break;case 11:throw n.prev=11,n.t0=n.catch(5),e="Failed to parse model JSON of response from ".concat(this.path,"."),this.path.endsWith(".pb")?e+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":e+=" Please make sure the server is serving valid JSON for this request.",new Error(e);case 16:if(o=r.modelTopology,a=r.weightsManifest,i=r.generatedBy,u=r.convertedBy,s=r.format,c=r.signature,f=r.userDefinedMetadata,null!=o||null!=a){n.next=25;break}throw new Error("The JSON from HTTP path ".concat(this.path," contains neither model ")+"topology or manifest for weights.");case 25:if(null==a){n.next=32;break}return n.next=28,this.loadWeights(a);case 28:p=n.sent,d=(0,Yn.Z)(p,2),l=d[0],h=d[1];case 32:return v={modelTopology:o,weightSpecs:l,weightData:h,generatedBy:i,convertedBy:u,format:s},null!=c&&(v.signature=c),null!=f&&(v.userDefinedMetadata=f),(g=r.modelInitializer)&&(v.modelInitializer=g),n.abrupt("return",v);case 38:case"end":return n.stop()}}),n,this,[[5,11]])}))),function(){return t.apply(this,arguments)})},{key:"loadWeights",value:function(){var n=(0,x.Z)(_().mark((function n(t){var r,e,o,a,i,u,s,c,f,l,h,p,d,v,g,m,y,b,w;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=Array.isArray(this.path)?this.path[1]:this.path,e=ut(r),o=(0,Yn.Z)(e,2),a=o[0],i=o[1],u=this.weightPathPrefix||a,s=[],c=ot(t);try{for(c.s();!(f=c.n()).done;)l=f.value,s.push.apply(s,(0,Kn.Z)(l.weights))}catch(Is){c.e(Is)}finally{c.f()}h=[],p=[],d=ot(t);try{for(d.s();!(v=d.n()).done;){g=v.value,m=ot(g.paths);try{for(m.s();!(y=m.n()).done;)b=y.value,null!=this.weightUrlConverter?p.push(this.weightUrlConverter(b)):h.push(u+b+i)}catch(Is){m.e(Is)}finally{m.f()}}}catch(Is){d.e(Is)}finally{d.f()}if(!this.weightUrlConverter){n.next=19;break}return n.t0=h.push,n.t1=h,n.t2=Kn.Z,n.next=16,Promise.all(p);case 16:n.t3=n.sent,n.t4=(0,n.t2)(n.t3),n.t0.apply.call(n.t0,n.t1,n.t4);case 19:return n.next=21,$n(h,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});case 21:return w=n.sent,n.abrupt("return",[s,L(w)]);case 23:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}()}]),n}();function ut(n){var t=n.lastIndexOf("/"),r=n.lastIndexOf("?");return[n.substring(0,t)+"/",r>t?n.substring(r):""]}function st(n){return null!=n.match(it.URL_SCHEME_REGEX)}it.URL_SCHEME_REGEX=/^https?:\/\//;var ct=function(n,t){if("undefined"==typeof fetch&&(null==t||null==t.fetchFunc))return null;return(Array.isArray(n)?n.every((function(n){return st(n)})):st(n))?ft(n,t):null};function ft(n,t){return new it(n,t)}function lt(n,t){return ft(n,t)}q.registerSaveRouter(ct),q.registerLoadRouter(ct);var ht=function(){function n(t){(0,w.Z)(this,n),this.modelArtifacts=t}var t;return(0,k.Z)(n,[{key:"load",value:(t=(0,x.Z)(_().mark((function n(){return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.modelArtifacts);case 1:case"end":return n.stop()}}),n,this)}))),function(){return t.apply(this,arguments)})}]),n}(),pt=function(){function n(t){(0,w.Z)(this,n),this.saveHandler=t}var t;return(0,k.Z)(n,[{key:"save",value:(t=(0,x.Z)(_().mark((function n(t){return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.saveHandler(t));case 1:case"end":return n.stop()}}),n,this)}))),function(n){return t.apply(this,arguments)})}]),n}();function dt(n,t,r,e){if(1===arguments.length){var o=null!=n.modelTopology||null!=n.weightSpecs;return o?new ht(n):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new ht({modelTopology:n}))}return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new ht({modelTopology:n,weightSpecs:t,weightData:r,trainingConfig:e})}function vt(n){return new pt(n)}var gt=r(37326),mt=r(53058),yt=r(94684),bt=r(62965);var wt,kt=(0,yt.op)({confusionMatrix_:function(n,t,r){var e=(0,S._1)(n,"labels","confusionMatrix"),o=(0,S._1)(t,"predictions","confusionMatrix");B.hu(null==r||r>0&&Number.isInteger(r),(function(){return"If provided, numClasses must be a positive integer, "+"but got ".concat(r)})),B.hu(1===e.rank,(function(){return"Expected the rank of labels to be 1, but got ".concat(e.rank)})),B.hu(1===o.rank,(function(){return"Expected the rank of predictions to be 1, "+"but got ".concat(o.rank)})),B.hu(e.shape[0]===o.shape[0],(function(){return"Mismatch in the number of examples: "+"".concat(e.shape[0]," vs. ").concat(o.shape[0],". ")+"Labels and predictions should have the same number of elements."})),B.hu(r>0&&Number.isInteger(r),(function(){return"numClasses is required to be a positive integer, but got "+"".concat(r)}));var a=(0,mt.l)((0,zn.p)(e,"int32"),r),i=(0,mt.l)((0,zn.p)(o,"int32"),r),u=(0,bt.p)(a),s=(0,gt.O)(u,i);return(0,zn.p)(s,"int32")}}),xt=r(73135),Et=r(35408);function _t(n,t,r){if((0,B.Cq)(n),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");var e=(0,S.C)(n,r);if(3!==e.length&&1!==e.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===e.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return(0,A.H)(n,t,e,r)}function It(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==n)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var r=!1,e=!1,o=!1,a=!1,i=!1,u=!1;if(n.data instanceof Uint8Array)r=!0;else if("undefined"!=typeof ImageData&&n instanceof ImageData)e=!0;else if("undefined"!=typeof HTMLVideoElement&&n instanceof HTMLVideoElement)o=!0;else if("undefined"!=typeof HTMLImageElement&&n instanceof HTMLImageElement)a=!0;else if(null!=n.getContext)i=!0;else{if(!("undefined"!=typeof ImageBitmap&&n instanceof ImageBitmap))throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, "+"but was ".concat(n.constructor.name));u=!0}if(o){var s=2;if(o&&n.readyState<s)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.")}var c=(0,Et.pI)(xt.eB,v.BV.backendName);if(null!=c){var f={pixels:n},l={numChannels:t};return v.BV.runKernel(xt.eB,f,l)}var h,p,d=o?[n.videoWidth,n.videoHeight]:[n.width,n.height],g=(0,Yn.Z)(d,2),m=g[0],y=g[1];if(i?h=n.getContext("2d").getImageData(0,0,m,y).data:e||r?h=n.data:(a||o||u)&&(null==wt&&(wt=document.createElement("canvas").getContext("2d")),wt.canvas.width=m,wt.canvas.height=y,wt.drawImage(n,0,0,m,y),h=wt.getImageData(0,0,m,y).data),4===t)p=new Int32Array(h);else{var b=m*y;p=new Int32Array(b*t);for(var w=0;w<b;w++)for(var k=0;k<t;++k)p[w*t+k]=h[4*w+k]}var x=[y,m,t];return _t(p,x,"int32")}function St(n){return"undefined"!=typeof window&&"undefined"!=typeof ImageBitmap&&window.hasOwnProperty("createImageBitmap")&&!(n instanceof ImageBitmap)&&function(n){return null!=n&&0!==n.width&&0!==n.height}(n)&&!function(n){return null!=n&&n.data instanceof Uint8Array}(n)}function At(n){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,x.Z)(_().mark((function n(t){var r,e,o,a=arguments;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=a.length>1&&void 0!==a[1]?a[1]:3,e=null,!(0,y.OB)().getBool("WRAP_TO_IMAGEBITMAP")||!St(t)){n.next=15;break}return n.prev=3,n.next=6,createImageBitmap(t,{premultiplyAlpha:"none"});case 6:o=n.sent,n.next=12;break;case 9:n.prev=9,n.t0=n.catch(3),o=null;case 12:e=null!=o&&o.width===t.width&&o.height===t.height?o:t,n.next=16;break;case 15:e=t;case 16:return n.abrupt("return",It(e,r));case 17:case"end":return n.stop()}}),n,null,[[3,9]])})))).apply(this,arguments)}function Bt(n,t){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,x.Z)(_().mark((function n(t,r){var e,o,a,i,u,s,c,f,l,h,p,d,v,g,m,y,b;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=(0,S._1)(t,"img","toPixels"),t instanceof Pn.es||(o=e,e=(0,zn.p)(o,"int32"),o.dispose()),2===e.rank||3===e.rank){n.next=4;break}throw new Error("toPixels only supports rank 2 or 3 tensors, got rank ".concat(e.rank,"."));case 4:if(a=e.shape.slice(0,2),i=(0,Yn.Z)(a,2),u=i[0],s=i[1],!((c=2===e.rank?1:e.shape[2])>4||2===c)){n.next=8;break}throw new Error("toPixels only supports depth of size "+"1, 3 or 4 but got ".concat(c));case 8:if("float32"===e.dtype||"int32"===e.dtype){n.next=10;break}throw new Error("Unsupported type for toPixels: ".concat(e.dtype,".")+" Please use float32 or int32 tensors.");case 10:return n.next=12,e.data();case 12:f=n.sent,l="float32"===e.dtype?255:1,h=new Uint8ClampedArray(s*u*4),p=0;case 16:if(!(p<u*s)){n.next=41;break}d=[0,0,0,255],v=0;case 19:if(!(v<c)){n.next=33;break}if(g=f[p*c+v],"float32"!==e.dtype){n.next=26;break}if(!(g<0||g>1)){n.next=24;break}throw new Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but encountered ".concat(g,"."));case 24:n.next=29;break;case 26:if("int32"!==e.dtype){n.next=29;break}if(!(g<0||g>255)){n.next=29;break}throw new Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but encountered ".concat(g,"."));case 29:1===c?(d[0]=g*l,d[1]=g*l,d[2]=g*l):d[v]=g*l;case 30:v++,n.next=19;break;case 33:h[(m=4*p)+0]=Math.round(d[0]),h[m+1]=Math.round(d[1]),h[m+2]=Math.round(d[2]),h[m+3]=Math.round(d[3]);case 38:++p,n.next=16;break;case 41:return null!=r&&(r.width=s,r.height=u,y=r.getContext("2d"),b=new ImageData(h,s,u),y.putImageData(b,0,0)),e!==t&&e.dispose(),n.abrupt("return",h);case 44:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var Mt=(0,yt.op)({fromPixels_:It});function Tt(n,t){var r=n.shape.length,e=t.shape.length;if(r<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher,"+" but the rank was ".concat(r,"."));if(e<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(e,"."));if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type,"+" but the dtype was ".concat(t.dtype,"."));if(t.shape[e-1]>r)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+"".concat(t.shape[e-1]," vs. ").concat(r));if(0===(0,B.NA)(n.shape))throw new Error("Requested more than 0 entries, but input is empty."+" Input shape: ".concat(n.shape,"."));for(var o=t.shape,a=o[o.length-1],i=1,u=0;u<o.length-1;++u)i*=o[u];var s=n.shape,c=o.slice();c.pop();for(var f=1,l=a;l<r;++l)f*=s[l],c.push(s[l]);var h=[].concat((0,Kn.Z)((0,B.e3)(n.shape).map((function(n){return n/f}))),[1]).slice(0,a);return[c,i,f,h]}function Rt(n,t,r){var e=t.rank>1?t.shape[t.rank-1]:1,o=t.rank>1?t.rank-1:1,a="Must have updates.shape = indices.shape[:batchDim] + "+"shape[sliceDim:], got updates.shape: ".concat(r.shape)+", indices.shape: ".concat(t.shape,", shape: ").concat(n)+", sliceDim: ".concat(e,", and batchDim: ").concat(o,".");if(r.rank<o)throw new Error(a+" update.rank < ".concat(o,". "));if(n.length<e+(r.rank-o))throw new Error(a+" Output shape length < ".concat(e+(r.rank-o)));if(r.rank!==o+n.length-e)throw new Error(a+" update.rank != ".concat(o+n.length-e));for(var i=0;i<o;++i)if(r.shape[i]!==t.shape[i])throw new Error(a+" updates.shape[".concat(i,"] (").concat(r.shape[i],") != indices.shape[").concat(i,"] (").concat(t.shape[i],")."));for(var u=0;u<r.rank-o;++u)if(r.shape[u+o]!==n[u+e])throw new Error(a+" updates.shape[".concat(u+o,"] (").concat(r.shape[u+o],") != shape[").concat(u+o,"] (").concat(n[u+o],")"))}function Ot(n,t,r){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(t.rank,"."));if(n.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher,"+" but the rank was ".concat(n.rank,"."));if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: ".concat(t.dtype));if(r.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: ".concat(r));if(0===r.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: ".concat(t.shape));if(0===n.size)throw new Error("Updates specified for empty output. updates shape: ".concat(n.shape))}Rt(r,t,n)}function Vt(n,t,r){for(var e=t.shape.length,o=e>1?t.shape[e-1]:1,a=r.length,i=1,u=o;u<a;++u)i*=r[u];var s=o<1?1:o;return{sliceRank:o,numUpdates:(0,B.NA)(t.shape)/s,sliceSize:i,strides:[].concat((0,Kn.Z)((0,B.e3)(r.slice(0,o))),[1]),outputSize:(0,B.NA)(r)}}var Ct=r(5538),Ft=function(){function n(){(0,w.Z)(this,n)}return(0,k.Z)(n,[{key:"getClassName",value:function(){return this.constructor.className}}],[{key:"fromConfig",value:function(n,t){return new n(t)}}]),n}(),Pt=function(){function n(){(0,w.Z)(this,n),this.classNameMap={}}return(0,k.Z)(n,null,[{key:"getMap",value:function(){return null==n.instance&&(n.instance=new n),n.instance}},{key:"register",value:function(t){n.getMap().classNameMap[t.className]=[t,t.fromConfig]}}]),n}();function Zt(n){(0,B.hu)(null!=n.className,(function(){return"Class being registered does not have the static className property defined."})),(0,B.hu)("string"==typeof n.className,(function(){return"className is required to be a string, but got type "+typeof n.className})),(0,B.hu)(n.className.length>0,(function(){return"Class being registered has an empty-string as its className, which is disallowed."})),Pt.register(n)}var zt=r(85031),Lt=r(4870),Wt=.1;function Ut(n,t,r){return null==r&&(r=Kt()),qt(n,t,(function(n,t){return Xt(n,t,r)}))}function Kt(){return 32===v.BV.backend.floatPrecision()?.001:Wt}function qt(n,t,r){var e=!0;if(((0,B.fU)(n)||(0,B.fU)(t))&&(e=!1),(0,B.fU)(n)&&(0,B.fU)(t)&&(e=!0),e){var o=n.constructor.name,a=t.constructor.name;if(o!==a)throw new Error("Arrays are of different type. Actual: ".concat(o,". ")+"Expected: ".concat(a))}if(Array.isArray(n)&&Array.isArray(t)){var i=(0,S.C)(n),u=(0,S.C)(t);if(!(0,B.cO)(i,u))throw new Error("Arrays have different shapes. "+"Actual: [".concat(i,"]. Expected: [").concat(u,"]"))}var s=(0,B.fU)(n)?n:(0,B.xH)(n),c=(0,B.fU)(t)?t:(0,B.xH)(t);if(s.length!==c.length)throw new Error("Arrays have different lengths actual: ".concat(s.length," vs ")+"expected: ".concat(c.length,".\n")+"Actual:   ".concat(s,".\n")+"Expected: ".concat(c,"."));for(var f=0;f<c.length;++f){var l=s[f],h=c[f];if(!r(l,h))throw new Error("Arrays differ: actual[".concat(f,"] = ").concat(l,", expected[").concat(f,"] = ").concat(h,".\n")+"Actual:   ".concat(s,".\n")+"Expected: ".concat(c,"."))}}function Gt(n,t){n().then((function(){return t.fail()}),(function(){return t()}))}function jt(n,t){var r="string"==typeof t||"number"==typeof t||"boolean"==typeof t?[t]:t;return(0,B.HD)(n)||(0,B.HD)(n[0])||(0,B.HD)(t)||(0,B.HD)(t[0])?qt(n,r,(function(n,t){return n==t})):qt(n,t,(function(n,t){return Xt(n,t,0)}))}function Ht(n,t,r){if(null==r&&(r=Kt()),!Xt(n,t,r))throw new Error("Numbers differ: actual === ".concat(n,", expected === ").concat(t))}function Xt(n,t,r){return!isFinite(n)&&!isFinite(t)||!(isNaN(n)||isNaN(t)||Math.abs(n-t)>r)}function Jt(n,t,r){for(var e=0;e<n.length;e++)if(n[e]<t||n[e]>r)throw new Error("Value out of range:".concat(n[e]," low: ").concat(t,", high: ").concat(r))}function Yt(n,t){expect(new Float32Array(n)).toEqual(new Float32Array(t))}function Qt(n){for(var t=0;t<n.length;t++){var r=n[t];Array.isArray(r)?Qt(r):n[t]=(0,Lt.encodeString)(r)}return n}var $t="3.4.0",nr=r(10379),tr=r(46070),rr=r(77608);function er(){(0,y.OB)().set("PROD",!0)}function or(){(0,y.OB)().set("DEBUG",!0)}function ar(){(0,y.OB)().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function ir(n){(0,y.OB)().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(n+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function ur(){v.BV.disposeVariables()}function sr(){return v.BV}function cr(){return v.BV.memory()}function fr(n){return v.BV.profile(n)}function lr(n,t){return v.BV.tidy(n,t)}function hr(n){(0,zt.getTensorsInContainer)(n).forEach((function(n){return n.dispose()}))}function pr(n){return v.BV.keep(n)}function dr(n){return v.BV.time(n)}function vr(n){return v.BV.setBackend(n)}function gr(){return v.BV.ready()}function mr(){return v.BV.backendName}function yr(n){v.BV.removeBackend(n)}function br(n){return v.BV.findBackend(n)}function wr(n){return v.BV.findBackendFactory(n)}function kr(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return v.BV.registerBackend(n,t,r)}function xr(){return v.BV.backend}function Er(n,t){(0,y.OB)().setPlatform(n,t)}(0,Pn.FZ)(ir);var _r=r(93263),Ir=r(51378),Sr=r(63313),Ar=r(84509),Dr=r(80275),Br=r(61919),Nr=r(33530),Mr=r(86932);function Tr(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var r,e=(0,rr.Z)(n);if(t){var o=(0,rr.Z)(this).constructor;r=Reflect.construct(e,arguments,o)}else r=e.apply(this,arguments);return(0,tr.Z)(this,r)}}var Rr=function(n){(0,nr.Z)(i,n);var t,r,e,o,a=Tr(i);function i(){return(0,w.Z)(this,i),a.apply(this,arguments)}return(0,k.Z)(i,[{key:"minimize",value:function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0,e=this.computeGradients(n,r),o=e.value,a=e.grads;if(null!=r){var i=r.map((function(n){return{name:n.name,tensor:a[n.name]}}));this.applyGradients(i)}else this.applyGradients(a);return hr(a),t?o:(o.dispose(),null)}},{key:"iterations",get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}},{key:"incrementIterations",value:function(){this.iterations_=this.iterations+1}},{key:"computeGradients",value:function(n,t){return(0,Nr.pn)(n,t)}},{key:"dispose",value:function(){null!=this.iterations_&&hr(this.iterations_)}},{key:"saveIterations",value:(o=(0,x.Z)(_().mark((function n(){return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return null==this.iterations_&&(this.iterations_=0),n.abrupt("return",{name:"iter",tensor:(0,Mr.i)(this.iterations_,"int32")});case 2:case"end":return n.stop()}}),n,this)}))),function(){return o.apply(this,arguments)})},{key:"getWeights",value:(e=(0,x.Z)(_().mark((function n(){return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:throw new Error("getWeights() is not implemented for this optimizer yet.");case 1:case"end":return n.stop()}}),n)}))),function(){return e.apply(this,arguments)})},{key:"setWeights",value:(r=(0,x.Z)(_().mark((function n(t){return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:throw new Error("setWeights() is not implemented for this optimizer class "+"".concat(this.getClassName()));case 1:case"end":return n.stop()}}),n,this)}))),function(n){return r.apply(this,arguments)})},{key:"extractIterations",value:(t=(0,x.Z)(_().mark((function n(t){return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t[0].tensor.data();case 2:return this.iterations_=n.sent[0],n.abrupt("return",t.slice(1));case 4:case"end":return n.stop()}}),n,this)}))),function(n){return t.apply(this,arguments)})}]),i}(Ft);function Or(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var r,e=(0,rr.Z)(n);if(t){var o=(0,rr.Z)(this).constructor;r=Reflect.construct(e,arguments,o)}else r=e.apply(this,arguments);return(0,tr.Z)(this,r)}}Object.defineProperty(Rr,Symbol.hasInstance,{value:function(n){return null!=n.minimize&&null!=n.computeGradients&&null!=n.applyGradients}});var Vr=function(n){(0,nr.Z)(o,n);var t,r,e=Or(o);function o(n,t){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,w.Z)(this,o),(r=e.call(this)).learningRate=n,r.rho=t,r.epsilon=a,r.accumulatedGrads=[],r.accumulatedUpdates=[],null==a&&(r.epsilon=v.BV.backend.epsilon()),r}return(0,k.Z)(o,[{key:"applyGradients",value:function(n){var t=this;(Array.isArray(n)?n.map((function(n){return n.name})):Object.keys(n)).forEach((function(r,e){var o=v.BV.registeredVariables[r];null==t.accumulatedGrads[e]&&(t.accumulatedGrads[e]={originalName:"".concat(r,"/accum_grad"),variable:lr((function(){return(0,Br.P)(o).variable(false)}))}),null==t.accumulatedUpdates[e]&&(t.accumulatedUpdates[e]={originalName:"".concat(r,"/accum_var"),variable:lr((function(){return(0,Br.P)(o).variable(false)}))});var a=Array.isArray(n)?n[e].tensor:n[r];if(null!=a){var i=t.accumulatedGrads[e].variable,u=t.accumulatedUpdates[e].variable;lr((function(){var n=(0,_r.I)((0,Sr.d)(i,t.rho),(0,Sr.d)((0,Dr.h)(a),1-t.rho)),r=(0,Sr.d)((0,Ir.h)((0,Ar._)((0,_r.I)(u,t.epsilon)),(0,Ar._)((0,_r.I)(i,t.epsilon))),a),e=(0,_r.I)((0,Sr.d)(u,t.rho),(0,Sr.d)((0,Dr.h)(r),1-t.rho));i.assign(n),u.assign(e);var s=(0,_r.I)((0,Sr.d)(r,-t.learningRate),o);o.assign(s)}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedUpdates&&(hr(this.accumulatedGrads.map((function(n){return n.variable}))),hr(this.accumulatedUpdates.map((function(n){return n.variable}))))}},{key:"getWeights",value:(r=(0,x.Z)(_().mark((function n(){var t;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=[].concat((0,Kn.Z)(this.accumulatedGrads),(0,Kn.Z)(this.accumulatedUpdates)),n.next=3,this.saveIterations();case 3:return n.t0=n.sent,n.abrupt("return",[n.t0].concat(t.map((function(n){return{name:n.originalName,tensor:n.variable}}))));case 5:case"end":return n.stop()}}),n,this)}))),function(){return r.apply(this,arguments)})},{key:"setWeights",value:(t=(0,x.Z)(_().mark((function n(t){var r;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.extractIterations(t);case 2:t=n.sent,r=t.length/2,this.accumulatedGrads=t.slice(0,r).map((function(n){return{originalName:n.name,variable:n.tensor.variable(!1)}})),this.accumulatedUpdates=t.slice(r,2*r).map((function(n){return{originalName:n.name,variable:n.tensor.variable(!1)}}));case 7:case"end":return n.stop()}}),n,this)}))),function(n){return t.apply(this,arguments)})},{key:"getConfig",value:function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}}],[{key:"fromConfig",value:function(n,t){return new n(t.learningRate,t.rho,t.epsilon)}}]),o}(Rr);function Cr(n,t,r){var e={shape:n,value:t,dtype:r};return v.BV.runKernel(xt.de,{},e)}function Fr(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var r,e=(0,rr.Z)(n);if(t){var o=(0,rr.Z)(this).constructor;r=Reflect.construct(e,arguments,o)}else r=e.apply(this,arguments);return(0,tr.Z)(this,r)}}Vr.className="Adadelta",Zt(Vr);var Pr=function(n){(0,nr.Z)(o,n);var t,r,e=Fr(o);function o(n){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return(0,w.Z)(this,o),(t=e.call(this)).learningRate=n,t.initialAccumulatorValue=r,t.accumulatedGrads=[],t}return(0,k.Z)(o,[{key:"applyGradients",value:function(n){var t=this;(Array.isArray(n)?n.map((function(n){return n.name})):Object.keys(n)).forEach((function(r,e){var o=v.BV.registeredVariables[r];if(null==t.accumulatedGrads[e]){t.accumulatedGrads[e]={originalName:"".concat(r,"/accumulator"),variable:lr((function(){return Cr(o.shape,t.initialAccumulatorValue).variable(false)}))}}var a=Array.isArray(n)?n[e].tensor:n[r];if(null!=a){var i=t.accumulatedGrads[e].variable;lr((function(){var n=(0,_r.I)(i,(0,Dr.h)(a));i.assign(n);var r=(0,_r.I)((0,Sr.d)((0,Ir.h)(a,(0,Ar._)((0,_r.I)(n,v.BV.backend.epsilon()))),-t.learningRate),o);o.assign(r)}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedGrads&&hr(this.accumulatedGrads.map((function(n){return n.variable})))}},{key:"getWeights",value:(r=(0,x.Z)(_().mark((function n(){return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.saveIterations();case 2:return n.t0=n.sent,n.abrupt("return",[n.t0].concat(this.accumulatedGrads.map((function(n){return{name:n.originalName,tensor:n.variable}}))));case 4:case"end":return n.stop()}}),n,this)}))),function(){return r.apply(this,arguments)})},{key:"setWeights",value:(t=(0,x.Z)(_().mark((function n(t){return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.extractIterations(t);case 2:t=n.sent,this.accumulatedGrads=t.map((function(n){return{originalName:n.name,variable:n.tensor.variable(!1)}}));case 5:case"end":return n.stop()}}),n,this)}))),function(n){return t.apply(this,arguments)})},{key:"getConfig",value:function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}}],[{key:"fromConfig",value:function(n,t){return new n(t.learningRate,t.initialAccumulatorValue)}}]),o}(Rr);Pr.className="Adagrad",Zt(Pr);var Zr=r(25153),zr=r(6383);function Lr(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var r,e=(0,rr.Z)(n);if(t){var o=(0,rr.Z)(this).constructor;r=Reflect.construct(e,arguments,o)}else r=e.apply(this,arguments);return(0,tr.Z)(this,r)}}var Wr=function(n){(0,nr.Z)(o,n);var t,r,e=Lr(o);function o(n,t,r){var a,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,w.Z)(this,o),(a=e.call(this)).learningRate=n,a.beta1=t,a.beta2=r,a.epsilon=i,a.accumulatedFirstMoment=[],a.accumulatedSecondMoment=[],lr((function(){a.accBeta1=(0,Mr.i)(t).variable(),a.accBeta2=(0,Mr.i)(r).variable()})),null==i&&(a.epsilon=v.BV.backend.epsilon()),a}return(0,k.Z)(o,[{key:"applyGradients",value:function(n){var t=this,r=Array.isArray(n)?n.map((function(n){return n.name})):Object.keys(n);lr((function(){var e=(0,zr.l)(1,t.accBeta1),o=(0,zr.l)(1,t.accBeta2);r.forEach((function(r,a){var i=v.BV.registeredVariables[r];null==t.accumulatedFirstMoment[a]&&(t.accumulatedFirstMoment[a]={originalName:"".concat(r,"/m"),variable:lr((function(){return(0,Br.P)(i).variable(false)}))}),null==t.accumulatedSecondMoment[a]&&(t.accumulatedSecondMoment[a]={originalName:"".concat(r,"/v"),variable:lr((function(){return(0,Br.P)(i).variable(false)}))});var u=Array.isArray(n)?n[a].tensor:n[r];if(null!=u){var s=t.accumulatedFirstMoment[a].variable,c=t.accumulatedSecondMoment[a].variable,f=(0,_r.I)((0,Sr.d)(s,t.beta1),(0,Sr.d)(u,1-t.beta1)),l=(0,_r.I)((0,Sr.d)(c,t.beta2),(0,Sr.d)((0,Dr.h)(u),1-t.beta2)),h=(0,Ir.h)(f,e),p=(0,Ir.h)(l,o);s.assign(f),c.assign(l);var d=(0,_r.I)((0,Sr.d)((0,Ir.h)(h,(0,_r.I)((0,Ar._)(p),t.epsilon)),-t.learningRate),i);i.assign(d)}})),t.accBeta1.assign((0,Sr.d)(t.accBeta1,t.beta1)),t.accBeta2.assign((0,Sr.d)(t.accBeta2,t.beta2))})),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&hr(this.accumulatedFirstMoment.map((function(n){return n.variable}))),null!=this.accumulatedSecondMoment&&hr(this.accumulatedSecondMoment.map((function(n){return n.variable})))}},{key:"getWeights",value:(r=(0,x.Z)(_().mark((function n(){var t;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=[].concat((0,Kn.Z)(this.accumulatedFirstMoment),(0,Kn.Z)(this.accumulatedSecondMoment)),n.next=3,this.saveIterations();case 3:return n.t0=n.sent,n.abrupt("return",[n.t0].concat(t.map((function(n){return{name:n.originalName,tensor:n.variable}}))));case 5:case"end":return n.stop()}}),n,this)}))),function(){return r.apply(this,arguments)})},{key:"setWeights",value:(t=(0,x.Z)(_().mark((function n(t){var r,e=this;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.extractIterations(t);case 2:t=n.sent,lr((function(){e.accBeta1.assign((0,Zr.s)(e.beta1,e.iterations_+1)),e.accBeta2.assign((0,Zr.s)(e.beta2,e.iterations_+1))})),r=t.length/2,this.accumulatedFirstMoment=t.slice(0,r).map((function(n){return{originalName:n.name,variable:n.tensor.variable(!1)}})),this.accumulatedSecondMoment=t.slice(r,2*r).map((function(n){return{originalName:n.name,variable:n.tensor.variable(!1)}}));case 8:case"end":return n.stop()}}),n,this)}))),function(n){return t.apply(this,arguments)})},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}}],[{key:"fromConfig",value:function(n,t){return new n(t.learningRate,t.beta1,t.beta2,t.epsilon)}}]),o}(Rr);Wr.className="Adam",Zt(Wr);var Ur=r(76706),Kr=r(91907);function qr(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var r,e=(0,rr.Z)(n);if(t){var o=(0,rr.Z)(this).constructor;r=Reflect.construct(e,arguments,o)}else r=e.apply(this,arguments);return(0,tr.Z)(this,r)}}var Gr=function(n){(0,nr.Z)(o,n);var t,r,e=qr(o);function o(n,t,r){var a,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return(0,w.Z)(this,o),(a=e.call(this)).learningRate=n,a.beta1=t,a.beta2=r,a.epsilon=i,a.decay=u,a.accumulatedFirstMoment=[],a.accumulatedWeightedInfNorm=[],lr((function(){a.iteration=(0,Mr.i)(0).variable(),a.accBeta1=(0,Mr.i)(t).variable()})),null==i&&(a.epsilon=v.BV.backend.epsilon()),a}return(0,k.Z)(o,[{key:"applyGradients",value:function(n){var t=this,r=Array.isArray(n)?n.map((function(n){return n.name})):Object.keys(n);lr((function(){var e=(0,zr.l)(1,t.accBeta1),o=(0,Ir.h)(-t.learningRate,(0,_r.I)((0,Sr.d)(t.iteration,t.decay),1));r.forEach((function(r,a){var i=v.BV.registeredVariables[r];null==t.accumulatedFirstMoment[a]&&(t.accumulatedFirstMoment[a]={originalName:"".concat(r,"/m"),variable:(0,Br.P)(i).variable(false)}),null==t.accumulatedWeightedInfNorm[a]&&(t.accumulatedWeightedInfNorm[a]={originalName:"".concat(r,"/v"),variable:(0,Br.P)(i).variable(false)});var u=Array.isArray(n)?n[a].tensor:n[r];if(null!=u){var s=t.accumulatedFirstMoment[a].variable,c=t.accumulatedWeightedInfNorm[a].variable,f=(0,_r.I)((0,Sr.d)(s,t.beta1),(0,Sr.d)(u,1-t.beta1)),l=(0,Sr.d)(c,t.beta2),h=(0,Ur.W)(u),p=(0,Kr.g)(l,h);s.assign(f),c.assign(p);var d=(0,_r.I)((0,Sr.d)((0,Ir.h)(o,e),(0,Ir.h)(f,(0,_r.I)(p,t.epsilon))),i);i.assign(d)}})),t.iteration.assign((0,_r.I)(t.iteration,1)),t.accBeta1.assign((0,Sr.d)(t.accBeta1,t.beta1))})),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&hr(this.accumulatedFirstMoment.map((function(n){return n.variable}))),null!=this.accumulatedWeightedInfNorm&&hr(this.accumulatedWeightedInfNorm.map((function(n){return n.variable})))}},{key:"getWeights",value:(r=(0,x.Z)(_().mark((function n(){return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:throw new Error("getWeights() is not implemented for Adamax yet.");case 1:case"end":return n.stop()}}),n)}))),function(){return r.apply(this,arguments)})},{key:"setWeights",value:(t=(0,x.Z)(_().mark((function n(t){return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:throw new Error("setWeights() is not implemented for Adamax yet.");case 1:case"end":return n.stop()}}),n)}))),function(n){return t.apply(this,arguments)})},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}}],[{key:"fromConfig",value:function(n,t){return new n(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}]),o}(Rr);function jr(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var r,e=(0,rr.Z)(n);if(t){var o=(0,rr.Z)(this).constructor;r=Reflect.construct(e,arguments,o)}else r=e.apply(this,arguments);return(0,tr.Z)(this,r)}}Gr.className="Adamax",Zt(Gr);var Hr=function(n){(0,nr.Z)(o,n);var t,r,e=jr(o);function o(n){var t;return(0,w.Z)(this,o),(t=e.call(this)).learningRate=n,t.setLearningRate(n),t}return(0,k.Z)(o,[{key:"applyGradients",value:function(n){var t=this;(Array.isArray(n)?n.map((function(n){return n.name})):Object.keys(n)).forEach((function(r,e){var o=Array.isArray(n)?n[e].tensor:n[r];if(null!=o){var a=v.BV.registeredVariables[r];lr((function(){var n=(0,_r.I)((0,Sr.d)(t.c,o),a);a.assign(n)}))}})),this.incrementIterations()}},{key:"setLearningRate",value:function(n){this.learningRate=n,null!=this.c&&this.c.dispose(),this.c=pr((0,Mr.i)(-n))}},{key:"dispose",value:function(){this.c.dispose()}},{key:"getWeights",value:(r=(0,x.Z)(_().mark((function n(){return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.saveIterations();case 2:return n.t0=n.sent,n.abrupt("return",[n.t0]);case 4:case"end":return n.stop()}}),n,this)}))),function(){return r.apply(this,arguments)})},{key:"setWeights",value:(t=(0,x.Z)(_().mark((function n(t){return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.extractIterations(t);case 2:if(0===(t=n.sent).length){n.next=5;break}throw new Error("SGD optimizer does not have settable weights.");case 5:case"end":return n.stop()}}),n,this)}))),function(n){return t.apply(this,arguments)})},{key:"getConfig",value:function(){return{learningRate:this.learningRate}}}],[{key:"fromConfig",value:function(n,t){return new n(t.learningRate)}}]),o}(Rr);function Xr(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var r,e=(0,rr.Z)(n);if(t){var o=(0,rr.Z)(this).constructor;r=Reflect.construct(e,arguments,o)}else r=e.apply(this,arguments);return(0,tr.Z)(this,r)}}Hr.className="SGD",Zt(Hr);var Jr=function(n){(0,nr.Z)(o,n);var t,r,e=Xr(o);function o(n,t){var r,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,w.Z)(this,o),(r=e.call(this,n)).learningRate=n,r.momentum=t,r.useNesterov=a,r.accumulations=[],r.m=(0,Mr.i)(r.momentum),r}return(0,k.Z)(o,[{key:"applyGradients",value:function(n){var t=this;(Array.isArray(n)?n.map((function(n){return n.name})):Object.keys(n)).forEach((function(r,e){var o=v.BV.registeredVariables[r];if(null==t.accumulations[e]){t.accumulations[e]={originalName:"".concat(r,"/momentum"),variable:lr((function(){return(0,Br.P)(o).variable(false)}))}}var a=t.accumulations[e].variable,i=Array.isArray(n)?n[e].tensor:n[r];null!=i&&lr((function(){var n,r=(0,_r.I)((0,Sr.d)(t.m,a),i);n=t.useNesterov?(0,_r.I)((0,Sr.d)(t.c,(0,_r.I)(i,(0,Sr.d)(r,t.m))),o):(0,_r.I)((0,Sr.d)(t.c,r),o),a.assign(r),o.assign(n)}))})),this.incrementIterations()}},{key:"dispose",value:function(){this.m.dispose(),null!=this.accumulations&&hr(this.accumulations.map((function(n){return n.variable})))}},{key:"setMomentum",value:function(n){this.momentum=n}},{key:"getWeights",value:(r=(0,x.Z)(_().mark((function n(){return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.saveIterations();case 2:return n.t0=n.sent,n.abrupt("return",[n.t0].concat(this.accumulations.map((function(n){return{name:n.originalName,tensor:n.variable}}))));case 4:case"end":return n.stop()}}),n,this)}))),function(){return r.apply(this,arguments)})},{key:"setWeights",value:(t=(0,x.Z)(_().mark((function n(t){return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.extractIterations(t);case 2:t=n.sent,this.accumulations=t.map((function(n){return{originalName:n.name,variable:n.tensor.variable(!1)}}));case 5:case"end":return n.stop()}}),n,this)}))),function(n){return t.apply(this,arguments)})},{key:"getConfig",value:function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}}],[{key:"fromConfig",value:function(n,t){return new n(t.learningRate,t.momentum,t.useNesterov)}}]),o}(Hr);function Yr(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var r,e=(0,rr.Z)(n);if(t){var o=(0,rr.Z)(this).constructor;r=Reflect.construct(e,arguments,o)}else r=e.apply(this,arguments);return(0,tr.Z)(this,r)}}Jr.className="Momentum",Zt(Jr);var Qr=function(n){(0,nr.Z)(o,n);var t,r,e=Yr(o);function o(n){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,w.Z)(this,o),(t=e.call(this)).learningRate=n,t.decay=r,t.momentum=a,t.epsilon=i,t.accumulatedMeanSquares=[],t.accumulatedMoments=[],t.accumulatedMeanGrads=[],t.centered=u,null==i&&(t.epsilon=v.BV.backend.epsilon()),null==n)throw new Error("learningRate for RMSPropOptimizer must be defined.");return t}return(0,k.Z)(o,[{key:"applyGradients",value:function(n){var t=this;(Array.isArray(n)?n.map((function(n){return n.name})):Object.keys(n)).forEach((function(r,e){var o=v.BV.registeredVariables[r],a=!1;null==t.accumulatedMeanSquares[e]&&(t.accumulatedMeanSquares[e]={originalName:"".concat(r,"/rms"),variable:lr((function(){return(0,Br.P)(o).variable(a)}))}),null==t.accumulatedMoments[e]&&(t.accumulatedMoments[e]={originalName:"".concat(r,"/momentum"),variable:lr((function(){return(0,Br.P)(o).variable(a)}))}),null==t.accumulatedMeanGrads[e]&&t.centered&&(t.accumulatedMeanGrads[e]={originalName:"".concat(r,"/mg"),variable:lr((function(){return(0,Br.P)(o).variable(a)}))});var i=Array.isArray(n)?n[e].tensor:n[r];if(null!=i){var u=t.accumulatedMeanSquares[e].variable,s=t.accumulatedMoments[e].variable;lr((function(){var n=(0,_r.I)((0,Sr.d)(u,t.decay),(0,Sr.d)((0,Dr.h)(i),1-t.decay));if(t.centered){var r=t.accumulatedMeanGrads[e].variable,a=(0,_r.I)((0,Sr.d)(r,t.decay),(0,Sr.d)(i,1-t.decay)),c=(0,Ir.h)((0,Sr.d)(i,t.learningRate),(0,Ar._)((0,zr.l)(n,(0,_r.I)((0,Dr.h)(a),t.epsilon)))),f=(0,_r.I)((0,Sr.d)(s,t.momentum),c);u.assign(n),r.assign(a),s.assign(f);var l=(0,zr.l)(o,f);o.assign(l)}else{var h=(0,_r.I)((0,Sr.d)(u,t.decay),(0,Sr.d)((0,Dr.h)(i),1-t.decay)),p=(0,_r.I)((0,Sr.d)(s,t.momentum),(0,Ir.h)((0,Sr.d)(i,t.learningRate),(0,Ar._)((0,_r.I)(h,t.epsilon))));u.assign(h),s.assign(p);var d=(0,zr.l)(o,p);o.assign(d)}}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedMeanSquares&&hr(this.accumulatedMeanSquares.map((function(n){return n.variable}))),null!=this.accumulatedMeanGrads&&this.centered&&hr(this.accumulatedMeanGrads.map((function(n){return n.variable}))),null!=this.accumulatedMoments&&hr(this.accumulatedMoments.map((function(n){return n.variable})))}},{key:"getWeights",value:(r=(0,x.Z)(_().mark((function n(){var t;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=[].concat((0,Kn.Z)(this.accumulatedMeanSquares),(0,Kn.Z)(this.accumulatedMoments)),this.centered&&t.push.apply(t,(0,Kn.Z)(this.accumulatedMeanGrads)),n.next=4,this.saveIterations();case 4:return n.t0=n.sent,n.abrupt("return",[n.t0].concat(t.map((function(n){return{name:n.originalName,tensor:n.variable}}))));case 6:case"end":return n.stop()}}),n,this)}))),function(){return r.apply(this,arguments)})},{key:"setWeights",value:(t=(0,x.Z)(_().mark((function n(t){var r,e;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.extractIterations(t);case 2:t=n.sent,r=this.centered?t.length/3:t.length/2,e=!1,this.accumulatedMeanSquares=t.slice(0,r).map((function(n){return{originalName:n.name,variable:n.tensor.variable(e)}})),this.accumulatedMoments=t.slice(r,2*r).map((function(n){return{originalName:n.name,variable:n.tensor.variable(e)}})),this.centered&&(this.accumulatedMeanGrads=t.slice(2*r,3*r).map((function(n){return{originalName:n.name,variable:n.tensor.variable(e)}})));case 8:case"end":return n.stop()}}),n,this)}))),function(n){return t.apply(this,arguments)})},{key:"getConfig",value:function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}}],[{key:"fromConfig",value:function(n,t){return new n(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}]),o}(Rr);Qr.className="RMSProp",Zt(Qr);var $r=r(48913),ne=r(22220),te=r(18423);var re=(0,yt.op)({addN_:function(n){B.hu(Array.isArray(n),(function(){return"The argument passed to tf.addN() must be a list of tensors"})),B.hu(n.length>=1,(function(){return"Must pass at least one tensor to tf.addN(), but got "+"".concat(n.length)}));var t=n.map((function(n,t){return(0,S._1)(n,"tensors".concat(t),"addN")})),r=t[0];t.forEach((function(n){if(n.dtype!==r.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((function(n){if(!B.cO(n.shape,r.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));var e=t;return v.BV.runKernel(xt.Xz,e)}}),ee=r(41822),oe=r(89786),ae=r(59178),ie=r(92866),ue=r(76848),se=r(59868),ce=r(22670),fe=r(10919),le=r(92318),he=r(51229),pe=r(42776);var de=(0,yt.op)({avgPool3d_:function(n,t,r,e,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",i=(0,S._1)(n,"x","avgPool3d","float32"),u=i,s=!1;4===i.rank&&(s=!0,u=(0,pe.X)(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),B.hu(5===u.rank,(function(){return"Error in avgPool3d: x must be rank 5 but got rank ".concat(u.rank,".")})),B.hu("NDHWC"===a,(function(){return"Error in avgPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(a)})),null!=o&&B.hu(B.GN(e),(function(){return"Error in avgPool3d: pad must be an integer when using, "+"dimRoundingMode ".concat(o," but got pad ").concat(e,".")}));var c={x:u},f={filterSize:t,strides:r,pad:e,dimRoundingMode:o,dataFormat:a},l=v.BV.runKernel(xt._k,c,f);return l=(0,zn.p)(l,u.dtype),s?(0,pe.X)(l,[l.shape[1],l.shape[2],l.shape[3],l.shape[4]]):l}}),ve=r(94981),ge=r(34310),me=r(94669),ye=r(63651);var be=(0,yt.op)({basicLSTMCell_:function(n,t,r,e,o,a){var i=(0,S._1)(n,"forgetBias","basicLSTMCell"),u=(0,S._1)(t,"lstmKernel","basicLSTMCell"),s=(0,S._1)(r,"lstmBias","basicLSTMCell"),c=(0,S._1)(e,"data","basicLSTMCell"),f=(0,S._1)(o,"c","basicLSTMCell"),l=(0,S._1)(a,"h","basicLSTMCell"),h=(0,ve.z)([c,l],1),p=(0,gt.O)(h,u),d=(0,_r.I)(p,s),v=d.shape[0],g=d.shape[1]/4,m=[v,g],y=(0,me.t)(d,[0,0],m),b=(0,me.t)(d,[0,g],m),w=(0,me.t)(d,[0,2*g],m),k=(0,me.t)(d,[0,3*g],m),x=(0,_r.I)((0,Sr.d)((0,ge.X)(y),(0,ye.A)(b)),(0,Sr.d)(f,(0,ge.X)((0,_r.I)(i,w))));return[x,(0,Sr.d)((0,ye.A)(x),(0,ge.X)(k))]}}),we=r(6603),ke=r(86067);var xe=(0,yt.op)({batchNorm2d_:function(n,t,r,e,o,a){var i,u,s=(0,S._1)(n,"x","batchNorm"),c=(0,S._1)(t,"mean","batchNorm"),f=(0,S._1)(r,"variance","batchNorm");return null!=o&&(i=(0,S._1)(o,"scale","batchNorm")),null!=e&&(u=(0,S._1)(e,"offset","batchNorm")),B.hu(2===s.rank,(function(){return"Error in batchNorm2D: x must be rank 2 but got rank "+"".concat(s.rank,".")})),B.hu(2===c.rank||1===c.rank,(function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+"got rank ".concat(c.rank,".")})),B.hu(2===f.rank||1===f.rank,(function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 "+"but got rank ".concat(f.rank,".")})),null!=i&&B.hu(2===i.rank||1===i.rank,(function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 "+"but got rank ".concat(i.rank,".")})),null!=u&&B.hu(2===u.rank||1===u.rank,(function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 "+"but got rank ".concat(u.rank,".")})),(0,ke.t)(s,c,f,u,i,a)}});var Ee=(0,yt.op)({batchNorm3d_:function(n,t,r,e,o,a){var i,u,s=(0,S._1)(n,"x","batchNorm"),c=(0,S._1)(t,"mean","batchNorm"),f=(0,S._1)(r,"variance","batchNorm");return null!=o&&(i=(0,S._1)(o,"scale","batchNorm")),null!=e&&(u=(0,S._1)(e,"offset","batchNorm")),B.hu(3===s.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+"".concat(s.rank,".")})),B.hu(3===c.rank||1===c.rank,(function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+"got rank ".concat(c.rank,".")})),B.hu(3===f.rank||1===f.rank,(function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 "+"but got rank ".concat(f.rank,".")})),null!=i&&B.hu(3===i.rank||1===i.rank,(function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 "+"but got rank ".concat(i.rank,".")})),null!=u&&B.hu(3===u.rank||1===u.rank,(function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 "+"but got rank ".concat(u.rank,".")})),(0,ke.t)(s,c,f,u,i,a)}});var _e=(0,yt.op)({batchNorm4d_:function(n,t,r,e,o,a){var i,u,s=(0,S._1)(n,"x","batchNorm"),c=(0,S._1)(t,"mean","batchNorm"),f=(0,S._1)(r,"variance","batchNorm");return null!=o&&(i=(0,S._1)(o,"scale","batchNorm")),null!=e&&(u=(0,S._1)(e,"offset","batchNorm")),B.hu(4===s.rank,(function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+"".concat(s.rank,".")})),B.hu(4===c.rank||1===c.rank,(function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+"got rank ".concat(c.rank,".")})),B.hu(4===f.rank||1===f.rank,(function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 "+"but got rank ".concat(f.rank,".")})),null!=i&&B.hu(4===i.rank||1===i.rank,(function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 "+"but got rank ".concat(i.rank,".")})),null!=u&&B.hu(4===u.rank||1===u.rank,(function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 "+"but got rank ".concat(u.rank,".")})),(0,ke.t)(s,c,f,u,i,a)}});var Ie=(0,yt.op)({bincount_:function(n,t,r){var e=(0,S._1)(n,"x","bincount"),o=(0,S._1)(t,"weights","bincount");B.hu("int32"===e.dtype,(function(){return"Error in bincount: input "+"dtype must be int32, but got ".concat(e.dtype)})),B.hu(r>=0,(function(){return"size must be non-negative, but got ".concat(r,".")})),B.hu(o.size===e.size||0===o.size,(function(){return"Error in bincount: weights must have the same size as input or"+"0-length, but got input shape: ".concat(e.shape,", weights shape: ")+"".concat(o.shape,".")}));var a={x:e,weights:o},i={size:r};return v.BV.runKernel(xt.zv,a,i)}}),Se=r(85959),Ae=r(341),De=r(11212);var Be=(0,yt.op)({concat1d_:function(n){return(0,ve.z)(n,0)}});var Ne=(0,yt.op)({concat2d_:function(n,t){return(0,ve.z)(n,t)}});var Me=(0,yt.op)({concat3d_:function(n,t){return(0,ve.z)(n,t)}});var Te=(0,yt.op)({concat4d_:function(n,t){return(0,ve.z)(n,t)}}),Re=r(49431),Oe=r(55303),Ve=r(92038),Ce=r(26526);var Fe=(0,yt.op)({conv3d_:function(n,t,r,e){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NDHWC",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1,1],i=(0,S._1)(n,"x","conv3d"),u=(0,S._1)(t,"filter","conv3d"),s=i,c=!1;4===i.rank&&(c=!0,s=(0,pe.X)(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),B.hu(5===s.rank,(function(){return"Error in conv3d: input must be rank 5, but got rank ".concat(s.rank,".")})),B.hu(5===u.rank,(function(){return"Error in conv3d: filter must be rank 5, but got rank "+"".concat(u.rank,".")})),B.hu(s.shape[4]===u.shape[3],(function(){return"Error in conv3d: depth of input (".concat(s.shape[4],") must match ")+"input depth for filter ".concat(u.shape[3],".")})),B.hu((0,Ce.jT)(r,a),(function(){return"Error in conv3D: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(a,"'")})),B.hu("NDHWC"===o,(function(){return"Error in conv3d: got dataFormat of ".concat(o," but only NDHWC is currently supported.")}));var f={x:s,filter:u},l={strides:r,pad:e,dataFormat:o,dilations:a},h=v.BV.runKernel(xt.x1,f,l);return c?(0,pe.X)(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}}),Pe=r(24571);var Ze=(0,yt.op)({conv3dTranspose_:function(n,t,r,e,o){var a=(0,S._1)(n,"x","conv3dTranspose"),i=(0,S._1)(t,"filter","conv3dTranspose");return(0,Pe._)(r,a,i,e,o)}}),ze=r(75418),Le=r(12297),We=r(8964);var Ue=(0,yt.op)({denseBincount_:function(n,t,r){var e=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=(0,S._1)(n,"x","denseBincount"),a=(0,S._1)(t,"weights","denseBincount");B.hu("int32"===o.dtype,(function(){return"Error in denseBincount: input "+"dtype must be int32, but got ".concat(o.dtype)})),B.hu(o.rank<=2,(function(){return"Error in denseBincount: input must be at most rank 2, but got "+"rank ".concat(o.rank,".")})),B.hu(r>=0,(function(){return"size must be non-negative, but got ".concat(r,".")})),B.hu(a.size===o.size||0===a.size,(function(){return"Error in denseBincount: weights must have the same shape as x or "+"0-length, but got x shape: ".concat(o.shape,", weights shape: ")+"".concat(a.shape,".")}));var i={x:o,weights:a},u={size:r,binaryOutput:e};return v.BV.runKernel(xt.QR,i,u)}}),Ke=r(31072),qe=r(15727);var Ge=(0,yt.op)({diag_:function(n){var t={x:(0,S._1)(n,"x","diag")};return v.BV.runKernel(xt.$w,t)}}),je=r(12448),He=r(33022),Xe=r(17204);var Je=(0,yt.op)({einsum_:function(n){for(var t=arguments.length,r=new Array(t>1?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];var o=r.map((function(n,t){return(0,S._1)(n,"tensors".concat(t),"einsum")})),a={equation:n};return v.BV.runKernel(xt.$g,o,a)}}),Ye=r(93374),Qe=r(81552),$e=r(59226),no=r(89342),to=r(77814),ro=r(3199),eo=r(8188);var oo=(0,yt.op)({eye_:function(n,t,r){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";null==t&&(t=n);for(var o=Zn([n,t],e),a=n<=t?n:t,i=0;i<a;++i)o.set(1,i,i);var u=(0,pe.X)(o.toTensor(),[n,t]);if(null==r)return u;if(1===r.length)return(0,eo.G)((0,to.d)(u,0),[r[0],1,1]);if(2===r.length)return(0,eo.G)((0,to.d)((0,to.d)(u,0),0),[r[0],r[1],1,1]);if(3===r.length)return(0,eo.G)((0,to.d)((0,to.d)((0,to.d)(u,0),0),0),[r[0],r[1],r[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+"batchShapes, but received ".concat(r.length,"D."))}}),ao=r(87729),io=r(12020),uo=r(12250),so=r(53315),co=r(37446),fo=r(57079),lo=r(92403),ho=r(62475),po=r(51991),vo=r(44124),go=r(60634),mo=r(24982);function yo(n,t,r){if(r<=0)throw new Error("The number of values should be positive.");var e={start:n,stop:t,num:r};return v.BV.runKernel(xt.e7,{},e)}var bo=r(61379),wo=r(412),ko=r(70346),xo=r(92574),Eo=r(46934),_o=r(36622),Io=r(70686),So=r(92240),Ao=r(15999),Do=r(22841),Bo=r(89571),No=r(61605);var Mo=(0,yt.op)({maxPool3d_:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],r=arguments.length>2?arguments[2]:void 0,e=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",i=(0,S._1)(n,"x","maxPool3d"),u=i,s=!1;4===i.rank&&(s=!0,u=(0,pe.X)(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),B.hu(5===u.rank,(function(){return"Error in maxPool3d: x must be rank 5 but got rank ".concat(u.rank,".")})),B.hu("NDHWC"===a,(function(){return"Error in maxPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(a)})),null!=o&&B.hu(B.GN(e),(function(){return"Error in maxPool3d: pad must be an integer when using, "+"dimRoundingMode ".concat(o," but got pad ").concat(e,".")}));var c={x:u},f={filterSize:t,strides:r,pad:e,dimRoundingMode:o,dataFormat:a},l=v.BV.runKernel(xt.OA,c,f);return s?(0,pe.X)(l,[l.shape[1],l.shape[2],l.shape[3],l.shape[4]]):l}});var To=(0,yt.op)({maxPoolWithArgmax_:function(n,t,r,e){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=(0,S._1)(n,"x","maxPoolWithArgmax"),i={x:a},u={filterSize:t,strides:r,pad:e,includeBatchInIndex:o},s=v.BV.runKernel(xt.vF,i,u);return{result:s[0],indexes:s[1]}}}),Ro=r(2267),Oo=r(30898);function Vo(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=r.indexing,o=void 0===e?"xy":e;if("xy"!==o&&"ij"!==o)throw new TypeError("".concat(o," is not a valid third argument to meshgrid"));if(void 0===n)return[];var a=(0,S._1)(n,"x","meshgrid",n instanceof Pn.es?n.dtype:"float32");if(void 0===t)return[a];var i=(0,S._1)(t,"y","meshgrid",t instanceof Pn.es?t.dtype:"float32"),u=(0,B.NA)(a.shape),s=(0,B.NA)(i.shape);return"xy"===o?(a=(0,pe.X)(a,[1,-1]),i=(0,pe.X)(i,[-1,1]),[(0,gt.O)((0,Oo.i)([s,1],a.dtype),a),(0,gt.O)(i,(0,Oo.i)([1,u],i.dtype))]):(a=(0,pe.X)(a,[-1,1]),i=(0,pe.X)(i,[1,-1]),[(0,gt.O)(a,(0,Oo.i)([1,s],a.dtype)),(0,gt.O)((0,Oo.i)([u,1],i.dtype),i)])}var Co=r(20262),Fo=r(12773),Po=r(6550),Zo=r(98009),zo=r(4465);var Lo=(0,yt.op)({moments_:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n=(0,S._1)(n,"x","moments");var e=(0,B.EC)(t,n.shape),o=(0,Ro.J)(n,e,r),a=o.shape;r||(a=(0,zo.rv)(o.shape,e));var i=(0,Dr.h)((0,zr.l)((0,zn.p)(n,"float32"),(0,pe.X)(o,a))),u=(0,Ro.J)(i,e,r);return{mean:o,variance:u}}});var Wo=(0,yt.op)({multiRNNCell_:function(n,t,r,e){for(var o=(0,S._1)(t,"data","multiRNNCell"),a=(0,S.sI)(r,"c","multiRNNCell"),i=(0,S.sI)(e,"h","multiRNNCell"),u=o,s=[],c=0;c<n.length;c++){var f=n[c](u,a[c],i[c]);s.push(f[0]),s.push(f[1]),u=f[1]}for(var l=[],h=[],p=0;p<s.length;p+=2)l.push(s[p]),h.push(s[p+1]);return[l,h]}});var Uo=(0,yt.op)({multinomial_:function(n,t,r){var e=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=(0,S._1)(n,"logits","multinomial"),a=o.size,i=o.rank;if(a<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+"".concat(a,"."));if(i>2)throw new Error("Rank of probabilities must be 1 or 2, but is ".concat(i));r=r||Math.random();var u=1===i?(0,pe.X)(o,[1,-1]):o,s={logits:u},c={numSamples:t,seed:r,normalized:e},f=v.BV.runKernel(xt.NZ,s,c);return 1===i?(0,pe.X)(f,[f.size]):f}}),Ko=r(43878),qo=r(87102),Go=r(86989);var jo=(0,yt.op)({outerProduct_:function(n,t){var r=(0,S._1)(n,"v1","outerProduct"),e=(0,S._1)(t,"v2","outerProduct");B.hu(1===r.rank&&1===e.rank,(function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+"".concat(r.rank," and ").concat(e.rank,".")}));var o=(0,pe.X)(r,[-1,1]),a=(0,pe.X)(e,[1,-1]);return(0,gt.O)(o,a)}}),Ho=r(59876);var Xo=(0,yt.op)({pad1d_:function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,B.hu)(2===t.length,(function(){return"Invalid number of paddings. Must be length of 2."})),(0,Ho.v)(n,[t],r)}});var Jo=(0,yt.op)({pad2d_:function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,B.hu)(2===t.length&&2===t[0].length&&2===t[1].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),(0,Ho.v)(n,t,r)}});var Yo=(0,yt.op)({pad3d_:function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,B.hu)(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),(0,Ho.v)(n,t,r)}});var Qo=(0,yt.op)({pad4d_:function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,B.hu)(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),(0,Ho.v)(n,t,r)}}),$o=r(19645),na=r(99357),ta=r(13560);var ra=(0,yt.op)({rand_:function(n,t,r){var e=(0,B.NA)(n),o=null;if(null==r||"float32"===r)o=new Float32Array(e);else if("int32"===r)o=new Int32Array(e);else{if("bool"!==r)throw new Error("Unknown data type ".concat(r));o=new Uint8Array(e)}for(var a=0;a<e;a++)o[a]=t();return v.BV.makeTensor(o,n,r)}}),ea=r(12910),oa=function(){function n(t,r,e,o,a){(0,w.Z)(this,n),this.mean=t,this.stdDev=r,this.dtype=e,this.nextVal=NaN,this.truncated=o,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var i=a||Math.random();this.random=ea.alea(i.toString())}return(0,k.Z)(n,[{key:"nextValue",value:function(){if(!isNaN(this.nextVal)){var n=this.nextVal;return this.nextVal=NaN,n}for(var t,r,e=!1;!e;){var o=void 0,a=void 0,i=void 0;do{i=(o=2*this.random()-1)*o+(a=2*this.random()-1)*a}while(i>=1||0===i);var u=Math.sqrt(-2*Math.log(i)/i);t=this.mean+this.stdDev*o*u,r=this.mean+this.stdDev*a*u,this.truncated&&!this.isValidTruncated(t)||(e=!0)}return this.truncated&&!this.isValidTruncated(r)||(this.nextVal=this.convertValue(r)),this.convertValue(t)}},{key:"convertValue",value:function(n){return null==this.dtype||"float32"===this.dtype?n:Math.round(n)}},{key:"isValidTruncated",value:function(n){return n<=this.upper&&n>=this.lower}}]),n}(),aa=function(){function n(t,r,e,o){(0,w.Z)(this,n),this.alpha=t,this.beta=1/r,this.dtype=e;var a=o||Math.random();this.randu=ea.alea(a.toString()),this.randn=new oa(0,1,e,!1,this.randu()),this.d=t<1?t+2/3:t-1/3,this.c=1/Math.sqrt(9*this.d)}return(0,k.Z)(n,[{key:"nextValue",value:function(){for(var n,t,r,e,o,a;;){do{e=this.randn.nextValue(),a=1+this.c*e}while(a<=0);if(a*=a*a,t=1-.331*(n=e*e)*n,r=.5*n+this.d*(1-a+Math.log(a)),(o=this.randu())<t||Math.log(o)<r)break}return a=1/this.beta*this.d*a,this.alpha<1&&(a*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(a)}},{key:"convertValue",value:function(n){return"float32"===this.dtype?n:Math.round(n)}}]),n}(),ia=function(){function n(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;if((0,w.Z)(this,n),this.canReturnFloat=function(){return null==t.dtype||"float32"===t.dtype},this.min=r,this.range=e-r,this.dtype=o,null==a&&(a=Math.random()),"number"==typeof a&&(a=a.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between ".concat(r," - ").concat(e," <= 1 and dtype is not float"));this.random=ea.alea(a)}return(0,k.Z)(n,[{key:"convertValue",value:function(n){return this.canReturnFloat()?n:Math.round(n)}},{key:"nextValue",value:function(){return this.convertValue(this.min+this.range*this.random())}}]),n}();var ua=(0,yt.op)({randomGamma_:function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",o=arguments.length>4?arguments[4]:void 0;if(null==r&&(r=1),null==e&&(e="float32"),"float32"!==e&&"int32"!==e)throw new Error("Unsupported data type ".concat(e));for(var a=new aa(t,r,e,o),i=Zn(n,e),u=0;u<i.values.length;u++)i.values[u]=a.nextValue();return i.toTensor()}});var sa=(0,yt.op)({randomNormal_:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,e=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(null!=e&&"bool"===e)throw new Error("Unsupported data type ".concat(e));for(var a=new oa(t,r,e,!1,o),i=Zn(n,e),u=0;u<i.values.length;u++)i.values[u]=a.nextValue();return i.toTensor()}});var ca=(0,yt.op)({randomUniform_:function(n){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",o=arguments.length>4?arguments[4]:void 0,a=Zn(n,e),i=new ia(t,r,null,o),u=0;u<a.values.length;u++)a.values[u]=i.nextValue();return a.toTensor()}});function fa(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";if(0===r)throw new Error("Cannot have a step of zero");var o={start:n,stop:t,step:r,dtype:e};return v.BV.runKernel(xt.e6,{},o)}var la=r(30792),ha=r(14980),pa=r(35657),da=r(85679),va=r(69756);var ga=(0,yt.op)({reverse1d_:function(n){var t=(0,S._1)(n,"x","reverse");return B.hu(1===t.rank,(function(){return"Error in reverse1D: x must be rank 1 but got rank ".concat(t.rank,".")})),(0,va.G)(t,0)}});var ma=(0,yt.op)({reverse2d_:function(n,t){var r=(0,S._1)(n,"x","reverse");return B.hu(2===r.rank,(function(){return"Error in reverse2D: x must be rank 2 but got rank ".concat(r.rank,".")})),(0,va.G)(r,t)}});var ya=(0,yt.op)({reverse3d_:function(n,t){var r=(0,S._1)(n,"x","reverse");return B.hu(3===r.rank,(function(){return"Error in reverse3D: x must be rank 3 but got rank ".concat(r.rank,".")})),(0,va.G)(r,t)}});var ba=(0,yt.op)({reverse4d_:function(n,t){var r=(0,S._1)(n,"x","reverse");return B.hu(4===r.rank,(function(){return"Error in reverse4D: x must be rank 4 but got rank ".concat(r.rank,".")})),(0,va.G)(r,t)}}),wa=r(70538),ka=r(38387),xa=r(6839),Ea=r(78898);function _a(){return(_a=(0,x.Z)(_().mark((function n(t,r){var e,o,a,i,u,s,c,f,l,h,p;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,S._1)(t,"x","setdiff1d"),o=(0,S._1)(r,"y","setdiff1d"),B.hu(e.dtype===o.dtype,(function(){return"x and y should have the same dtype, but got x (".concat(e.dtype,") and y (").concat(o.dtype,").")})),B.hu(1===e.rank,(function(){return"x should be 1D tensor, but got x (".concat(e.shape,").")})),B.hu(1===o.rank,(function(){return"y should be 1D tensor, but got y (".concat(o.shape,").")})),n.next=7,e.data();case 7:return a=n.sent,n.next=10,o.data();case 10:for(i=n.sent,u=new Set(i),s=0,c=0;c<a.length;c++)u.has(a[c])||s++;for(f=new Pn.YD([s],e.dtype),l=new Pn.YD([s],"int32"),h=0,p=0;h<a.length;h++)u.has(a[h])||(f.values[p]=a[h],l.values[p]=h,p++);return n.abrupt("return",[f.toTensor(),l.toTensor()]);case 18:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var Ia=function(n,t){return _a.apply(this,arguments)},Sa=r(12180),Aa=r(33402),Da=r(51305);var Ba=(0,yt.op)({slice1d_:function(n,t,r){var e=(0,S._1)(n,"x","slice1d");return B.hu(1===e.rank,(function(){return"slice1d expects a rank-1 tensor, but got a rank-".concat(e.rank," tensor")})),(0,me.t)(e,[t],[r])}});var Na=(0,yt.op)({slice2d_:function(n,t,r){var e=(0,S._1)(n,"x","slice2d");return B.hu(2===e.rank,(function(){return"slice2d expects a rank-2 tensor, but got a rank-".concat(e.rank," tensor")})),(0,me.t)(e,t,r)}});var Ma=(0,yt.op)({slice3d_:function(n,t,r){var e=(0,S._1)(n,"x","slice3d");return B.hu(3===e.rank,(function(){return"slice3d expects a rank-3 tensor, but got a rank-".concat(e.rank," tensor")})),(0,me.t)(e,t,r)}});var Ta=(0,yt.op)({slice4d_:function(n,t,r){var e=(0,S._1)(n,"x","slice4d");return B.hu(4===e.rank,(function(){return"slice4d expects a rank-4 tensor, but got a rank-".concat(e.rank," tensor")})),(0,me.t)(e,t,r)}}),Ra=r(16181),Oa=r(49422),Va=r(55406),Ca=r(64796),Fa=r(87479),Pa=r(53587),Za=r(72345),za=r(59588),La=r(71682),Wa=r(32363),Ua=r(30596),Ka=r(70829),qa=r(49905),Ga=r(96422),ja=r(9732);function Ha(n,t){(0,B.Cq)(n);var r=(0,S.C)(n,t);if(1!==r.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return(0,A.H)(n,null,r,t)}function Xa(n,t,r){if((0,B.Cq)(n),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");var e=(0,S.C)(n,r);if(2!==e.length&&1!==e.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===e.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return(0,A.H)(n,t,e,r)}function Ja(n,t,r){if((0,B.Cq)(n),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");var e=(0,S.C)(n,r);if(4!==e.length&&1!==e.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===e.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return(0,A.H)(n,t,e,r)}function Ya(n,t,r){if((0,B.Cq)(n),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");var e=(0,S.C)(n,r);if(5!==e.length&&1!==e.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===e.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return(0,A.H)(n,t,e,r)}function Qa(n,t,r){if((0,B.Cq)(n),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");var e=(0,S.C)(n,r);if(6!==e.length&&1!==e.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===e.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return t=t||e,(0,A.H)(n,t,e,r)}var $a=r(91096);var ni=(0,yt.op)({truncatedNormal_:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,e=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(null!=e&&"bool"===e)throw new Error("Unsupported data type $ { dtype }");for(var a=new oa(t,r,e,!0,o),i=Zn(n,e),u=0;u<i.values.length;u++)i.values[u]=a.nextValue();return i.toTensor()}}),ti=r(35047),ri=r(92209),ei=r(58395);function oi(n){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,e=arguments.length>3?arguments[3]:void 0;return v.BV.makeVariable(n,t,r,e)}var ai=r(79805);function ii(n,t){for(var r=[],e=0;e<t.length;e++)t[e]&&r.push(e);for(var o=Zn(n,"int32"),a=Zn([r.length,n.length],"int32"),i=0;i<r.length;i++){var u=o.indexToLoc(r[i]),s=i*n.length;a.values.set(u,s)}return a.toTensor()}function ui(){return(ui=(0,x.Z)(_().mark((function n(t){var r,e,o;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=(0,S._1)(t,"condition","whereAsync","bool"),n.next=3,r.data();case 3:return e=n.sent,o=ii(r.shape,e),t!==r&&r.dispose(),n.abrupt("return",o);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var si=function(n){return ui.apply(this,arguments)},ci=r(90345);function fi(){return(fi=(0,x.Z)(_().mark((function n(t,r,e){var o,a,i,u,s,c,f,l,h,p,d,v,g;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(o=(0,S._1)(t,"tensor","boolMask"),a=(0,S._1)(r,"mask","boolMask","bool"),i=null==e?0:e,u=a.rank,s=o.shape,B.hu(u>0,(function(){return"mask cannot be scalar"})),B.k5(s.slice(i,i+u),a.shape,"mask's shape must match the first K dimensions of tensor's shape,"),c=1,f=i;f<i+u;f++)c*=s[f];return l=s.slice(0,i).concat([c],s.slice(i+u)),h=(0,pe.X)(o,l),p=(0,pe.X)(a,[-1]),n.next=14,si(p);case 14:return d=n.sent,v=(0,Wa.L)(d,[1]),g=(0,uo.I)(h,v,i),t!==o&&o.dispose(),r!==a&&a.dispose(),v.dispose(),h.dispose(),p.dispose(),d.dispose(),n.abrupt("return",g);case 24:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var li=function(n,t,r){return fi.apply(this,arguments)},hi=r(61803);var pi=(0,yt.op)({movingAverage_:function(n,t,r,e){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=(0,S._1)(n,"v","movingAverage"),i=(0,S._1)(t,"x","movingAverage"),u=(0,S._1)(r,"decay","movingAverage");(0,zt.assertTypesMatch)(a,i),B.hu(B.cO(a.shape,i.shape),(function(){return"Shape mismatch in v and x"}));var s=(0,Mr.i)(1),c=(0,zr.l)(s,u),f=(0,Sr.d)((0,zr.l)(i,a),c);if(o){B.hu(null!=e,(function(){return"When using zeroDebias: true, step is required."}));var l=(0,S._1)(e,"step","movingAverage");f=(0,Ir.h)(f,(0,zr.l)(s,(0,Zr.s)(u,l)))}return(0,_r.I)(a,f)}});var di=(0,yt.op)({scatterND_:function(n,t,r){var e=(0,S._1)(n,"indices","scatterND","int32"),o=(0,S._1)(t,"updates","scatterND");Ot(o,e,r);var a={indices:e,updates:o},i={shape:r};return v.BV.runKernel(xt.xQ,a,i)}});function vi(n,t,r,e){if("int32"!==n.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type,"+" but the dtype was ".concat(n.dtype,"."));if(n.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix,"+" but got shape ".concat(n.shape,"."));var o=n.rank>0?n.shape[0]:1,a=n.rank>1?n.shape[1]:1;if(r.length!==a)throw new Error("outputShape has incorrect number of elements:,"+" ".concat(r.length,", should be: ").concat(a,"."));var i=t.size;if(0!==t.rank&&(1!==t.rank||i!==o))throw new Error("sparseValues has incorrect shape "+"".concat(t.shape,", should be [] or [").concat(o,"]"));if(t.dtype!==e.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}var gi=(0,yt.op)({sparseToDense_:function(n,t,r){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=(0,S._1)(n,"sparseIndices","sparseToDense","int32"),a=(0,S._1)(t,"sparseValues","sparseToDense"),i=(0,S._1)(e,"defaultValue","sparseToDense",a.dtype);vi(o,a,r,i);var u={sparseIndices:o,sparseValues:a,defaultValue:i},s={outputShape:r};return v.BV.runKernel(xt.D2,u,s)}});var mi=(0,yt.op)({gatherND_:function(n,t){var r=(0,S._1)(t,"indices","gatherND","int32"),e={params:(0,S._1)(n,"x","gatherND"),indices:r};return v.BV.runKernel(xt.q1,e)}});var yi=(0,yt.op)({dropout_:function(n,t,r,e){var o=(0,S._1)(n,"x","dropout");if(B.hu("float32"===o.dtype,(function(){return"x has to be a floating point tensor since it's going to be "+"scaled, but got a ".concat(o.dtype," tensor instead.")})),B.hu(t>=0&&t<1,(function(){return"rate must be a float in the range [0, 1), but got ".concat(t,".")})),0===t)return n instanceof Pn.es?o.clone():o;var a=function(n,t){if(null==t)return n.shape.slice();if(B.cO(n.shape,t))return t;if(n.shape.length===t.length){for(var r=[],e=0;e<n.shape.length;e++)null==t[e]&&null!=n.shape[e]?r.push(n.shape[e]):r.push(t[e]);return r}return t}(o,r),i=1-t,u=(0,Ir.h)((0,ao.G)((0,_r.I)(ca(a,0,1,"float32",e),i)),i);return(0,Sr.d)(o,u)}});function bi(n){return Math.floor(Math.pow(2,Math.ceil(Math.log(n)/Math.log(2))))}function wi(n,t,r){for(var e=1-n%2,o=new Float32Array(n),a=0;a<n;++a){var i=2*Math.PI*a/(n+e-1);o[a]=t-r*Math.cos(i)}return Ha(o,"float32")}function ki(){return(ki=(0,x.Z)(_().mark((function n(t,r){var e,o,a,i,u,s,c,f,l,h,p,d,v,g,m,y=arguments;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=y.length>2&&void 0!==y[2]?y[2]:1,o=(0,S._1)(t,"predictions","inTopK"),a=(0,S._1)(r,"targets","inTopK"),(0,B.hu)(o.rank>1,(function(){return"inTopK() expects the predictions to be of rank 2 or higher, "+"but got ".concat(o.rank)})),(0,B.hu)(o.rank-1===a.rank,(function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+"".concat(o.rank," and targets rank ").concat(a.rank)})),(0,B.k5)(o.shape.slice(0,o.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),i=o.shape[o.shape.length-1],(0,B.hu)(e>0&&e<=i,(function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last "+"dimension (".concat(i,"), but got ").concat(e)})),n.next=10,o.data();case 10:return u=n.sent,n.next=13,a.data();case 13:s=n.sent,c=u.length/i,f=i,l=(0,B.WP)("bool",c),h=0;case 17:if(!(h<c)){n.next=35;break}for(p=h*f,d=u.subarray(p,p+f),v=[],g=0;g<d.length;g++)v.push({value:d[g],index:g});v.sort((function(n,t){return t.value-n.value})),l[h]=0,m=0;case 25:if(!(m<e)){n.next=32;break}if(v[m].index!==s[h]){n.next=29;break}return l[h]=1,n.abrupt("break",32);case 29:m++,n.next=25;break;case 32:h++,n.next=17;break;case 35:return t!==o&&o.dispose(),r!==a&&a.dispose(),n.abrupt("return",D(l,a.shape,"bool"));case 38:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var xi=function(n,t){return ki.apply(this,arguments)},Ei=r(35828),_i=r(29168),Ii=r(54393);function Si(n,t,r){if(null==r||"linear"===r)return n;if("relu"===r)return(0,Sr.d)(n,(0,Ka.N)(t));throw new Error("Cannot compute gradient for fused activation ".concat(r,"."))}function Ai(n,t){var r=t,e=Ei.RR(n.shape,t.shape);return e.length>0&&(r=(0,Ga.S)(r,e)),(0,pe.X)(r,n.shape)}function Di(n,t,r,e){if("linear"===t)return n;if("relu"===t)return(0,pa.U)(n);if("elu"===t)return(0,Ye.p)(n);if("relu6"===t)return(0,da.b)(n);if("prelu"===t)return(0,na.A)(n,r);if("leakyrelu"===t)return(0,vo.h)(n,e);throw new Error("Unknown fused activation ".concat(t,"."))}var Bi=function(n,t){return!(n>0)||"linear"===t};var Ni=(0,yt.op)({fusedConv2d_:function(n){var t=n.x,r=n.filter,e=n.strides,o=n.pad,a=n.dataFormat,i=void 0===a?"NHWC":a,u=n.dilations,s=void 0===u?[1,1]:u,c=n.dimRoundingMode,f=n.bias,l=n.activation,h=void 0===l?"linear":l,p=n.preluActivationWeights,d=n.leakyreluAlpha;if(h=h||"linear",!1===Bi(v.BV.state.gradientDepth,h)){var g=(0,Oe.T)(t,r,e,o,i,s,c);return null!=f&&(g=(0,_r.I)(g,f)),Di(g,h,p,d)}var m=(0,S._1)(t,"x","conv2d"),y=(0,S._1)(r,"filter","conv2d"),b=m,w=!1;3===m.rank&&(w=!0,b=(0,pe.X)(m,[1,m.shape[0],m.shape[1],m.shape[2]])),B.hu(4===b.rank,(function(){return"Error in fused conv2d: input must be rank 4, but got rank "+"".concat(b.rank,".")})),B.hu(4===y.rank,(function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+"".concat(y.rank,".")})),null!=c&&B.hu(B.GN(o),(function(){return"Error in fused conv2d: pad must be an integer when using, "+"dimRoundingMode ".concat(c," but got pad ").concat(o,".")})),B.hu(b.shape[3]===y.shape[2],(function(){return"Error in conv2d: depth of input (".concat(b.shape[3],") must match ")+"input depth for filter ".concat(y.shape[2],".")})),B.hu(Ce.jT(e,s),(function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(e," and dilations '").concat(s,"'")})),B.hu("NHWC"===i,(function(){return"Error in conv2d: got dataFormat of ".concat(i," but only NHWC is currently supported.")}));var k,x,E=Ce.Ix(b.shape,y.shape,e,s,o,c);if(null!=f){k=(0,S._1)(f,"bias","fused conv2d");var _=(0,zt.makeTypesMatch)(k,m);k=(0,Yn.Z)(_,1)[0],Ei.$N(E.outShape,k.shape)}null!=p&&(x=(0,S._1)(p,"prelu weights","fused conv2d"));var I=function(n,t){var r=(0,Yn.Z)(t,4),a=r[0],i=r[1],u=r[2],c=r[3],f=Si(n,u,h);B.hu(Ce.I0(s),(function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(s,"'")}));var l=[(0,Ii._)(i.shape,f,a,e,o),(0,_i.p)(i,f,a.shape,e,o)];if(null!=c){var p=Ai(c,f);l.push(p)}return l},A={x:b,filter:y,bias:k,preluActivationWeights:x},D={strides:e,pad:o,dataFormat:i,dilations:s,dimRoundingMode:c,activation:h,leakyreluAlpha:d};return null==f?(0,Nr.cb)((function(n,t,r){var e=v.BV.runKernel(xt._V,A,D);return r([t,n,e]),w&&(e=(0,pe.X)(e,[e.shape[1],e.shape[2],e.shape[3]])),{value:e,gradFunc:I}}))(b,y):(0,Nr.cb)((function(n,t,r,e){var o=v.BV.runKernel(xt._V,A,D);return e([t,n,o,r]),w&&(o=(0,pe.X)(o,[o.shape[1],o.shape[2],o.shape[3]])),{value:o,gradFunc:I}}))(b,y,k)}}),Mi=r(87420),Ti=r(58071);var Ri=(0,yt.op)({fusedDepthwiseConv2d_:function(n){var t=n.x,r=n.filter,e=n.strides,o=n.pad,a=n.dataFormat,i=void 0===a?"NHWC":a,u=n.dilations,s=void 0===u?[1,1]:u,c=n.dimRoundingMode,f=n.bias,l=n.activation,h=void 0===l?"linear":l,p=n.preluActivationWeights,d=n.leakyreluAlpha;if(!1===Bi(v.BV.state.gradientDepth,h)){var g=(0,qe.B)(t,r,e,o,i,s,c);return null!=f&&(g=(0,_r.I)(g,f)),Di(g,h,p,d)}var m=(0,S._1)(t,"x","depthwiseConv2d"),y=(0,S._1)(r,"filter","depthwiseConv2d"),b=m,w=!1;3===m.rank&&(w=!0,b=(0,pe.X)(m,[1,m.shape[0],m.shape[1],m.shape[2]])),B.hu(4===b.rank,(function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(b.rank,".")})),B.hu(4===y.rank,(function(){return"Error in fused depthwiseConv2d: filter must be rank 4, "+"but got rank ".concat(y.rank,".")})),B.hu(b.shape[3]===y.shape[2],(function(){return"Error in fused depthwiseConv2d: number of input channels "+"(".concat(b.shape[3],") must match the inChannels dimension in ")+"filter ".concat(y.shape[2],".")})),null==s&&(s=[1,1]),B.hu(Ce.jT(e,s),(function(){return"Error in fused depthwiseConv2d: Either strides or dilations must "+"be 1. Got strides ".concat(e," and dilations '").concat(s,"'")})),null!=c&&B.hu(B.GN(o),(function(){return"Error in fused depthwiseConv2d: pad must be an integer when "+"using dimRoundingMode ".concat(c," but got pad ").concat(o,".")}));var k,x,E=Ce.Ix(b.shape,y.shape,e,s,o,c,!0);if(null!=f){k=(0,S._1)(f,"bias","fused conv2d");var _=(0,zt.makeTypesMatch)(k,m),I=(0,Yn.Z)(_,1);k=I[0],Ei.$N(E.outShape,k.shape)}null!=p&&(x=(0,S._1)(p,"prelu weights","fused depthwiseConv2d"));var A=function(n,t){B.hu(Ce.I0(s),(function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(s,"'")}));var r=(0,Yn.Z)(t,4),a=r[0],i=r[1],u=r[2],f=r[3],l=Si(n,u,h),p=(0,Ti.v)(i.shape,l,a,e,o,s,c),d=(0,Mi.z)(i,l,a.shape,e,o,s,c);return null!=f?[p,d,Ai(k,l)]:[p,d]},D={x:b,filter:y,bias:k,preluActivationWeights:x},N={strides:e,pad:o,dataFormat:i,dilations:s,dimRoundingMode:c,activation:h,leakyreluAlpha:d};return null==f?(0,Nr.cb)((function(n,t,r){var e=v.BV.runKernel(xt.lu,D,N);return r([t,n,e]),w&&(e=(0,pe.X)(e,[e.shape[1],e.shape[2],e.shape[3]])),{value:e,gradFunc:A}}))(b,y):(0,Nr.cb)((function(n,t,r,e){var o=v.BV.runKernel(xt.lu,D,N);return e([t,n,o,r]),w&&(o=(0,pe.X)(o,[o.shape[1],o.shape[2],o.shape[3]])),{value:o,gradFunc:A}}))(b,y,k)}});var Oi=(0,yt.op)({fusedMatMul_:function(n){var t=n.a,r=n.b,e=n.transposeA,o=void 0!==e&&e,a=n.transposeB,i=void 0!==a&&a,u=n.bias,s=n.activation,c=void 0===s?"linear":s,f=n.preluActivationWeights,l=n.leakyreluAlpha;if(!1===Bi(v.BV.state.gradientDepth,c)){var h=(0,gt.O)(t,r,o,i);return null!=u&&(h=(0,_r.I)(h,u)),Di(h,c,f,l)}var p=(0,S._1)(t,"a","fused matMul"),d=(0,S._1)(r,"b","fused matMul"),g=(0,zt.makeTypesMatch)(p,d),m=(0,Yn.Z)(g,2);p=m[0],d=m[1];var y=o?p.shape[p.rank-2]:p.shape[p.rank-1],b=i?d.shape[d.rank-1]:d.shape[d.rank-2],w=o?p.shape[p.rank-1]:p.shape[p.rank-2],k=i?d.shape[d.rank-2]:d.shape[d.rank-1],x=p.shape.slice(0,-2),E=d.shape.slice(0,-2),_=B.NA(x),I=B.NA(E);B.hu(p.rank>=2&&d.rank>=2&&p.rank===d.rank,(function(){return"Error in fused matMul: inputs must have the same rank of at "+"least 2, got ranks ".concat(p.rank," and ").concat(d.rank,".")})),B.hu(B.cO(x,E),(function(){return"Error in fused matMul: outer dimensions (".concat(x,") and (")+"".concat(E,") of Tensors with shapes ").concat(p.shape," and ")+"".concat(d.shape," must match.")})),B.hu(y===b,(function(){return"Error in fused matMul: inner shapes (".concat(y,") and (")+"".concat(b,") of Tensors with shapes ").concat(p.shape," and ")+"".concat(d.shape," and transposeA=").concat(o)+" and transposeB=".concat(i," must match.")}));var A,D,N=p.shape.slice(0,-2).concat([w,k]),M=o?(0,pe.X)(p,[_,y,w]):(0,pe.X)(p,[_,w,y]),T=i?(0,pe.X)(d,[I,k,b]):(0,pe.X)(d,[I,b,k]);if(null!=u){A=(0,S._1)(u,"bias","fused matMul");var R=(0,zt.makeTypesMatch)(A,p);A=(0,Yn.Z)(R,1)[0],Ei.$N(N,A.shape)}null!=f&&(D=(0,S._1)(f,"prelu weights","fused matMul"));var O=function(n,t){var r,e,a=(0,Yn.Z)(t,4),s=a[0],f=a[1],l=a[2],h=a[3],p=Si((0,pe.X)(n,l.shape),l,c);return o||i?!o&&i?(r=(0,gt.O)(p,f,!1,!1),e=(0,gt.O)(p,s,!0,!1)):o&&!i?(r=(0,gt.O)(f,p,!1,!0),e=(0,gt.O)(s,p,!1,!1)):(r=(0,gt.O)(f,p,!0,!0),e=(0,gt.O)(p,s,!0,!0)):(r=(0,gt.O)(p,f,!1,!0),e=(0,gt.O)(s,p,!0,!1)),null!=u?[r,e,Ai(h,p)]:[r,e]},V={a:M,b:T,bias:A,preluActivationWeights:D},C={transposeA:o,transposeB:i,activation:c,leakyreluAlpha:l};return null==u?(0,Nr.cb)((function(n,t,r){var e=v.BV.runKernel(xt.us,V,C);return r([n,t,e]),{value:(0,pe.X)(e,N),gradFunc:O}}))(M,T):(0,Nr.cb)((function(n,t,r,e){var o=v.BV.runKernel(xt.us,V,C);return e([n,t,o,r]),{value:(0,pe.X)(o,N),gradFunc:O}}))(M,T,A)}});var Vi=(0,yt.op)({hammingWindow_:function(n){return wi(n,.54,.46)}});var Ci=(0,yt.op)({hannWindow_:function(n){return wi(n,.5,.5)}});var Fi=(0,yt.op)({frame_:function(n,t,r){for(var e=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=0,i=[];a+t<=n.size;)i.push((0,me.t)(n,a,t)),a+=r;if(e)for(;a<n.size;){var u=a+t-n.size,s=(0,ve.z)([(0,me.t)(n,a,t-u),Cr([u],o)]);i.push(s),a+=r}return 0===i.length?Xa([],[0,t]):(0,pe.X)((0,ve.z)(i),[i.length,t])}});var Pi=(0,yt.op)({stft_:function(n,t,r,e){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ci;null==e&&(e=bi(t));var a=Fi(n,t,r),i=(0,Sr.d)(a,o(t));return(0,Za.Q)(i,e)}});var Zi=(0,yt.op)({cropAndResize_:function(n,t,r,e){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bilinear",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=(0,S._1)(n,"image","cropAndResize"),u=(0,S._1)(t,"boxes","cropAndResize","float32"),s=(0,S._1)(r,"boxInd","cropAndResize","int32"),c=u.shape[0];B.hu(4===i.rank,(function(){return"Error in cropAndResize: image must be rank 4,"+"but got rank ".concat(i.rank,".")})),B.hu(2===u.rank&&4===u.shape[1],(function(){return"Error in cropAndResize: boxes must be have size [".concat(c,",4] ")+"but had shape ".concat(u.shape,".")})),B.hu(1===s.rank&&s.shape[0]===c,(function(){return"Error in cropAndResize: boxInd must be have size [".concat(c,"] ")+"but had shape ".concat(u.shape,".")})),B.hu(2===e.length,(function(){return"Error in cropAndResize: cropSize must be of length 2, but got "+"length ".concat(e.length,".")})),B.hu(e[0]>=1&&e[1]>=1,(function(){return"cropSize must be atleast [1,1], but was ".concat(e)})),B.hu("bilinear"===o||"nearest"===o,(function(){return"method must be bilinear or nearest, but was ".concat(o)}));var f={image:i,boxes:u,boxInd:s},l={method:o,extrapolationValue:a,cropSize:e},h=v.BV.runKernel(xt.Vc,f,l);return h}});var zi=(0,yt.op)({flipLeftRight_:function(n){var t=(0,S._1)(n,"image","flipLeftRight","float32");B.hu(4===t.rank,(function(){return"Error in flipLeftRight: image must be rank 4,"+"but got rank ".concat(t.rank,".")}));var r={image:t};return v.BV.runKernel(xt.Uy,r,{})}});var Li=(0,yt.op)({rotateWithOffset_:function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=(0,S._1)(n,"image","rotateWithOffset","float32");B.hu(4===o.rank,(function(){return"Error in rotateWithOffset: image must be rank 4,"+"but got rank ".concat(o.rank,".")}));var a={image:o},i={radians:t,fillValue:r,center:e},u=v.BV.runKernel(xt.b9,a,i);return u}});function Wi(n,t,r,e,o,a){null==e&&(e=.5),null==o&&(o=Number.NEGATIVE_INFINITY),null==a&&(a=0);var i=n.shape[0];return r=Math.min(r,i),B.hu(0<=e&&e<=1,(function(){return"iouThreshold must be in [0, 1], but was '".concat(e,"'")})),B.hu(2===n.rank,(function(){return"boxes must be a 2D tensor, but was of rank '".concat(n.rank,"'")})),B.hu(4===n.shape[1],(function(){return"boxes must have 4 columns, but 2nd dimension was ".concat(n.shape[1])})),B.hu(1===t.rank,(function(){return"scores must be a 1D tensor"})),B.hu(t.shape[0]===i,(function(){return"scores has incompatible shape with boxes. Expected ".concat(i,", ")+"but was ".concat(t.shape[0])})),B.hu(0<=a&&a<=1,(function(){return"softNmsSigma must be in [0, 1], but was '".concat(a,"'")})),{maxOutputSize:r,iouThreshold:e,scoreThreshold:o,softNmsSigma:a}}var Ui=(0,yt.op)({nonMaxSuppression_:function(n,t,r){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,a=(0,S._1)(n,"boxes","nonMaxSuppression"),i=(0,S._1)(t,"scores","nonMaxSuppression"),u=Wi(a,i,r,e,o),s={maxOutputSize:r=u.maxOutputSize,iouThreshold:e=u.iouThreshold,scoreThreshold:o=u.scoreThreshold};return v.BV.runKernel(xt.uv,{boxes:a,scores:i},s)}});function Ki(n,t,r){var e=function(n,t,r){return function(n,t,r){var e=0,o=n.length,a=0,i=!1;for(;e<o;){var u=r(t,n[a=e+(o-e>>>1)]);u>0?e=a+1:(o=a,i=!u)}return i?e:-e-1}(n,t,r||qi)}(n,t,r),o=e<0?-(e+1):e;n.splice(o,0,t)}function qi(n,t){return n>t?1:n<t?-1:0}function Gi(n,t,r,e,o){return Xi(n,t,r,e,o,0)}function ji(n,t,r,e,o,a){return Xi(n,t,r,e,o,0,!1,a,!0)}function Hi(n,t,r,e,o,a){return Xi(n,t,r,e,o,a,!0)}function Xi(n,t,r,e,o,a){for(var i=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],c=[],f=0;f<t.length;f++)t[f]>o&&c.push({score:t[f],boxIndex:f,suppressBeginIndex:0});c.sort(Qi);for(var l=a>0?-.5/a:0,h=[],p=[];h.length<r&&c.length>0;){var d=c.pop(),v=d.score,g=d.boxIndex,m=d.suppressBeginIndex;if(v<o)break;for(var y=!1,b=h.length-1;b>=m;--b){var w=Ji(n,g,h[b]);if(w>=e){y=!0;break}if(d.score=d.score*Yi(e,l,w),d.score<=o)break}d.suppressBeginIndex=h.length,y||(d.score===v?(h.push(g),p.push(d.score)):d.score>o&&Ki(c,d,Qi))}var k=h.length,x=r-k;u&&x>0&&(h.push.apply(h,(0,Kn.Z)(new Array(x).fill(0))),p.push.apply(p,(0,Kn.Z)(new Array(x).fill(0))));var E={selectedIndices:h};return i&&(E.selectedScores=p),s&&(E.validOutputs=k),E}function Ji(n,t,r){var e=n.subarray(4*t,4*t+4),o=n.subarray(4*r,4*r+4),a=Math.min(e[0],e[2]),i=Math.min(e[1],e[3]),u=Math.max(e[0],e[2]),s=Math.max(e[1],e[3]),c=Math.min(o[0],o[2]),f=Math.min(o[1],o[3]),l=Math.max(o[0],o[2]),h=Math.max(o[1],o[3]),p=(u-a)*(s-i),d=(l-c)*(h-f);if(p<=0||d<=0)return 0;var v=Math.max(a,c),g=Math.max(i,f),m=Math.min(u,l),y=Math.min(s,h),b=Math.max(m-v,0)*Math.max(y-g,0);return b/(p+d-b)}function Yi(n,t,r){var e=Math.exp(t*r*r);return r<=n?e:0}function Qi(n,t){return n.score-t.score||n.score===t.score&&t.boxIndex-n.boxIndex}function $i(){return($i=(0,x.Z)(_().mark((function n(t,r,e){var o,a,i,u,s,c,f,l,h,p,d=arguments;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=d.length>3&&void 0!==d[3]?d[3]:.5,a=d.length>4&&void 0!==d[4]?d[4]:Number.NEGATIVE_INFINITY,i=(0,S._1)(t,"boxes","nonMaxSuppressionAsync"),u=(0,S._1)(r,"scores","nonMaxSuppressionAsync"),s=Wi(i,u,e,o,a),e=s.maxOutputSize,o=s.iouThreshold,a=s.scoreThreshold,n.next=10,Promise.all([i.data(),u.data()]);case 10:return c=n.sent,f=c[0],l=c[1],h=Gi(f,l,e,o,a),p=h.selectedIndices,i!==t&&i.dispose(),u!==r&&u.dispose(),n.abrupt("return",Ha(p,"int32"));case 17:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var nu=function(n,t,r){return $i.apply(this,arguments)};var tu=(0,yt.op)({nonMaxSuppressionWithScore_:function(n,t,r){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=(0,S._1)(n,"boxes","nonMaxSuppression"),u=(0,S._1)(t,"scores","nonMaxSuppression"),s=Wi(i,u,r,e,o,a),c={boxes:i,scores:u},f={maxOutputSize:r=s.maxOutputSize,iouThreshold:e=s.iouThreshold,scoreThreshold:o=s.scoreThreshold,softNmsSigma:a=s.softNmsSigma},l=v.BV.runKernel(xt.W0,c,f);return{selectedIndices:l[0],selectedScores:l[1]}}});function ru(){return(ru=(0,x.Z)(_().mark((function n(t,r,e){var o,a,i,u,s,c,f,l,h,p,d,v,g=arguments;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=g.length>3&&void 0!==g[3]?g[3]:.5,a=g.length>4&&void 0!==g[4]?g[4]:Number.NEGATIVE_INFINITY,i=g.length>5&&void 0!==g[5]?g[5]:0,u=(0,S._1)(t,"boxes","nonMaxSuppressionAsync"),s=(0,S._1)(r,"scores","nonMaxSuppressionAsync"),c=Wi(u,s,e,o,a,i),e=c.maxOutputSize,o=c.iouThreshold,a=c.scoreThreshold,i=c.softNmsSigma,n.next=12,Promise.all([u.data(),s.data()]);case 12:return f=n.sent,l=f[0],h=f[1],p=Hi(l,h,e,o,a,i),d=p.selectedIndices,v=p.selectedScores,u!==t&&u.dispose(),s!==r&&s.dispose(),n.abrupt("return",{selectedIndices:Ha(d,"int32"),selectedScores:Ha(v)});case 19:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var eu=function(n,t,r){return ru.apply(this,arguments)};var ou=(0,yt.op)({nonMaxSuppressionPadded_:function(n,t,r){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=(0,S._1)(n,"boxes","nonMaxSuppression"),u=(0,S._1)(t,"scores","nonMaxSuppression"),s=Wi(i,u,r,e,o,null),c=s.maxOutputSize,f=s.iouThreshold,l=s.scoreThreshold,h={boxes:i,scores:u},p={maxOutputSize:c,iouThreshold:f,scoreThreshold:l,padToMaxOutputSize:a},d=v.BV.runKernel(xt.cy,h,p);return{selectedIndices:d[0],validOutputs:d[1]}}});function au(){return(au=(0,x.Z)(_().mark((function n(t,r,e){var o,a,i,u,s,c,f,l,h,p,d,v,g,m,y,b,w=arguments;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=w.length>3&&void 0!==w[3]?w[3]:.5,a=w.length>4&&void 0!==w[4]?w[4]:Number.NEGATIVE_INFINITY,i=w.length>5&&void 0!==w[5]&&w[5],u=(0,S._1)(t,"boxes","nonMaxSuppressionAsync"),s=(0,S._1)(r,"scores","nonMaxSuppressionAsync"),c=Wi(u,s,e,o,a,null),f=c.maxOutputSize,l=c.iouThreshold,h=c.scoreThreshold,n.next=11,Promise.all([u.data(),s.data()]);case 11:return p=n.sent,d=(0,Yn.Z)(p,2),v=d[0],g=d[1],m=ji(v,g,f,l,h,i),y=m.selectedIndices,b=m.validOutputs,u!==t&&u.dispose(),s!==r&&s.dispose(),n.abrupt("return",{selectedIndices:Ha(y,"int32"),validOutputs:(0,Mr.i)(b,"int32")});case 19:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var iu=function(n,t,r){return au.apply(this,arguments)},uu=r(87568),su=r(87672);var cu=(0,yt.op)({transform_:function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"constant",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5?arguments[5]:void 0,i=(0,S._1)(n,"image","transform","float32"),u=(0,S._1)(t,"transforms","transform","float32");B.hu(4===i.rank,(function(){return"Error in transform: image must be rank 4,"+"but got rank ".concat(i.rank,".")})),B.hu(2===u.rank&&(u.shape[0]===i.shape[0]||1===u.shape[0])&&8===u.shape[1],(function(){return"Error in transform: Input transform should be batch x 8 or 1 x 8"})),B.hu(null==a||2===a.length,(function(){return"Error in transform: outputShape must be [height, width] or null, "+"but got ".concat(a,".")}));var s={image:i,transforms:u},c={interpolation:r,fillMode:e,fillValue:o,outputShape:a};return v.BV.runKernel(xt.wx,s,c)}});var fu=(0,yt.op)({bandPart_:function(n,t,r){(0,B.hu)(t%1==0,(function(){return"bandPart(): numLower must be an integer, got ".concat(t,".")})),(0,B.hu)(r%1==0,(function(){return"bandPart(): numUpper must be an integer, got ".concat(r,".")}));var e=(0,S._1)(n,"a","bandPart");(0,B.hu)(e.rank>=2,(function(){return"bandPart(): Rank must be at least 2, got ".concat(e.rank,".")}));var o=e.shape,a=e.shape.slice(-2),i=(0,Yn.Z)(a,2),u=i[0],s=i[1];if(!(t<=u))throw new Error("bandPart(): numLower (".concat(t,")")+" must not be greater than the number of rows (".concat(u,")."));if(!(r<=s))throw new Error("bandPart(): numUpper (".concat(r,")")+" must not be greater than the number of columns (".concat(s,")."));t<0&&(t=u),r<0&&(r=s);var c=(0,pe.X)(fa(0,u,1,"int32"),[-1,1]),f=fa(0,s,1,"int32"),l=(0,zr.l)(c,f),h=(0,Io.H)((0,mo.z)(l,(0,Mr.i)(+t,"int32")),(0,co.b)(l,(0,Mr.i)(-r,"int32"))),p=(0,ci.l)([u,s],e.dtype);return(0,pe.X)((0,Ua.k)((0,ei.H)((0,pe.X)(e,[-1,u,s])).map((function(n){return(0,ai.a)(h,n,p)}))),o)}});var lu=(0,yt.op)({gramSchmidt_:function(n){var t;Array.isArray(n)?function(){t=!1,(0,B.hu)(null!=n&&n.length>0,(function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"}));for(var r=n[0].shape[0],e=function(t){(0,B.hu)(n[t].shape[0]===r,(function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: "+"(".concat(n[t].shape[0]," vs. ").concat(r,")")}))},o=1;o<n.length;++o)e(o)}():(t=!0,n=(0,za.V)(n,n.shape[0],0).map((function(n){return(0,Wa.L)(n,[0])}))),(0,B.hu)(n.length<=n[0].shape[0],(function(){return"Gram-Schmidt: Number of vectors (".concat(n.length,") exceeds ")+"number of dimensions (".concat(n[0].shape[0],").")}));for(var r=[],e=n,o=function(n){r.push(v.BV.tidy((function(){var t=e[n];if(n>0)for(var o=0;o<n;++o){var a=(0,Sr.d)((0,Ga.S)((0,Sr.d)(r[o],t)),r[o]);t=(0,zr.l)(t,a)}return(0,Ir.h)(t,(0,hi.K)(t,"euclidean"))})))},a=0;a<n.length;++a)o(a);return t?(0,Ua.k)(r,0):r}});function hu(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return v.BV.tidy((function(){(0,B.hu)(2===n.shape.length,(function(){return"qr2d() requires a 2D Tensor, but got a ".concat(n.shape.length,"D Tensor.")}));for(var r=n.shape[0],e=n.shape[1],o=oo(r),a=(0,Ln.d)(n),i=Xa([[1]],[1,1]),u=(0,Ln.d)(i),s=r>=e?e:r,c=function(n){var t=a,s=u,c=o,f=v.BV.tidy((function(){var t=(0,me.t)(a,[n,n],[r-n,1]),s=(0,hi.K)(t),c=(0,me.t)(a,[n,n],[1,1]),f=(0,ai.a)((0,so.p)(c,0),Xa([[-1]]),Xa([[1]])),l=(0,zr.l)(c,(0,Sr.d)(f,s)),h=(0,Ir.h)(t,l);u=1===h.shape[0]?(0,Ln.d)(i):(0,ve.z)([i,(0,me.t)(h,[1,0],[h.shape[0]-1,h.shape[1]])],0);var p=(0,Ko.W)((0,Ir.h)((0,gt.O)(f,l),s)),d=(0,me.t)(a,[n,0],[r-n,e]),v=(0,Sr.d)(p,u),g=(0,bt.p)(u);if(0===n)a=(0,zr.l)(d,(0,gt.O)(v,(0,gt.O)(g,d)));else{var m=(0,zr.l)(d,(0,gt.O)(v,(0,gt.O)(g,d)));a=(0,ve.z)([(0,me.t)(a,[0,0],[n,e]),m],0)}var y=(0,bt.p)(v),b=(0,me.t)(o,[0,n],[r,o.shape[1]-n]);if(0===n)o=(0,zr.l)(b,(0,gt.O)((0,gt.O)(b,u),y));else{var w=(0,zr.l)(b,(0,gt.O)((0,gt.O)(b,u),y));o=(0,ve.z)([(0,me.t)(o,[0,0],[r,n]),w],1)}return[u,a,o]})),l=(0,Yn.Z)(f,3);u=l[0],a=l[1],o=l[2],hr([t,s,c])},f=0;f<s;++f)c(f);return!t&&r>e&&(o=(0,me.t)(o,[0,0],[r,e]),a=(0,me.t)(a,[0,0],[e,e])),[o,a]}))}var pu,du=(0,yt.op)({qr_:function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((0,B.hu)(n.rank>=2,(function(){return"qr() requires input tensor to have a rank >= 2, but got rank ".concat(n.rank)})),2===n.rank)return hu(n,t);var r=n.shape.slice(0,n.shape.length-2).reduce((function(n,t){return n*t})),e=(0,ei.H)((0,pe.X)(n,[r,n.shape[n.shape.length-2],n.shape[n.shape.length-1]]),0),o=[],a=[];e.forEach((function(n){var r=hu(n,t),e=(0,Yn.Z)(r,2),i=e[0],u=e[1];o.push(i),a.push(u)}));var i=(0,pe.X)((0,Ua.k)(o,0),n.shape),u=(0,pe.X)((0,Ua.k)(a,0),n.shape);return[i,u]}});!function(n){n[n.NONE=0]="NONE",n[n.MEAN=1]="MEAN",n[n.SUM=2]="SUM",n[n.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(pu||(pu={}));var vu=(0,yt.op)({computeWeightedLoss_:function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pu.SUM_BY_NONZERO_WEIGHTS,e=(0,S._1)(n,"losses","computeWeightedLoss"),o=null;null!=t&&(o=(0,S._1)(t,"weights","computeWeightedLoss"));var a=null==o?e:(0,Sr.d)(e,o);if(r===pu.NONE)return a;if(r===pu.SUM)return(0,Ga.S)(a);if(r===pu.MEAN){if(null==o)return(0,Ro.J)(a);var i=e.size/o.size,u=(0,Ir.h)((0,Ga.S)(a),(0,Ga.S)(o));return i>1?(0,Ir.h)(u,(0,Mr.i)(i)):u}if(r===pu.SUM_BY_NONZERO_WEIGHTS){if(null==o)return(0,Ir.h)((0,Ga.S)(a),(0,Mr.i)(e.size));var s=(0,Sr.d)(o,(0,Oo.i)(e.shape)),c=(0,zn.p)((0,Ga.S)((0,qo.Q)(s,(0,Mr.i)(0))),"float32");return(0,Ir.h)((0,Ga.S)(a),c)}throw Error("Unknown reduction: ".concat(r))}});var gu=(0,yt.op)({absoluteDifference_:function(n,t,r){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:pu.SUM_BY_NONZERO_WEIGHTS,o=(0,S._1)(n,"labels","absoluteDifference"),a=(0,S._1)(t,"predictions","absoluteDifference"),i=null;null!=r&&(i=(0,S._1)(r,"weights","absoluteDifference")),(0,B.k5)(o.shape,a.shape,"Error in absoluteDifference: ");var u=(0,Ur.W)((0,zr.l)(o,a));return vu(u,i,e)}});var mu=(0,yt.op)({cosineDistance_:function(n,t,r,e){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:pu.SUM_BY_NONZERO_WEIGHTS,a=(0,S._1)(n,"labels","cosineDistance"),i=(0,S._1)(t,"predictions","cosineDistance"),u=null;null!=e&&(u=(0,S._1)(e,"weights","cosineDistance")),(0,B.k5)(a.shape,i.shape,"Error in cosineDistance: ");var s=(0,Mr.i)(1),c=(0,zr.l)(s,(0,Ga.S)((0,Sr.d)(a,i),r,!0));return vu(c,u,o)}});var yu=(0,yt.op)({hingeLoss_:function(n,t,r){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:pu.SUM_BY_NONZERO_WEIGHTS,o=(0,S._1)(n,"labels","hingeLoss"),a=(0,S._1)(t,"predictions","hingeLoss"),i=null;null!=r&&(i=(0,S._1)(r,"weights","hingeLoss")),(0,B.k5)(o.shape,a.shape,"Error in hingeLoss: ");var u=(0,Mr.i)(1);o=(0,zr.l)((0,Sr.d)((0,Mr.i)(2),o),u);var s=(0,pa.U)((0,zr.l)(u,(0,Sr.d)(o,a)));return vu(s,i,e)}});var bu=(0,yt.op)({huberLoss_:function(n,t,r){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:pu.SUM_BY_NONZERO_WEIGHTS,a=(0,S._1)(n,"labels","huberLoss"),i=(0,S._1)(t,"predictions","huberLoss"),u=null;null!=r&&(u=(0,S._1)(r,"weights","huberLoss")),(0,B.k5)(a.shape,i.shape,"Error in huberLoss: ");var s=(0,Mr.i)(e),c=(0,Ur.W)((0,zr.l)(i,a)),f=(0,Fo.L)(c,s),l=(0,zr.l)(c,f),h=(0,_r.I)((0,Sr.d)((0,Mr.i)(.5),(0,Dr.h)(f)),(0,Sr.d)(s,l));return vu(h,u,o)}});var wu=(0,yt.op)({logLoss_:function(n,t,r){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-7,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:pu.SUM_BY_NONZERO_WEIGHTS,a=(0,S._1)(n,"labels","logLoss"),i=(0,S._1)(t,"predictions","logLoss"),u=null;null!=r&&(u=(0,S._1)(r,"weights","logLoss")),(0,B.k5)(a.shape,i.shape,"Error in logLoss: ");var s=(0,Mr.i)(1),c=(0,Mr.i)(e),f=(0,Ko.W)((0,Sr.d)(a,(0,wo.c)((0,_r.I)(i,c)))),l=(0,Sr.d)((0,zr.l)(s,a),(0,wo.c)((0,_r.I)((0,zr.l)(s,i),c))),h=(0,zr.l)(f,l);return vu(h,u,o)}});var ku=(0,yt.op)({meanSquaredError_:function(n,t,r){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:pu.SUM_BY_NONZERO_WEIGHTS,o=(0,S._1)(n,"labels","meanSquaredError"),a=(0,S._1)(t,"predictions","meanSquaredError"),i=null;null!=r&&(i=(0,S._1)(r,"weights","meanSquaredError")),(0,B.k5)(o.shape,a.shape,"Error in meanSquaredError: ");var u=(0,La.$)(o,a);return vu(u,i,e)}});function xu(n,t){var r=(0,S._1)(n,"labels","sigmoidCrossEntropyWithLogits"),e=(0,S._1)(t,"logits","sigmoidCrossEntropyWithLogits");(0,B.k5)(r.shape,e.shape,"Error in sigmoidCrossEntropyWithLogits: ");var o=(0,pa.U)(e),a=(0,Sr.d)(e,r),i=(0,ko.K)((0,no.Q)((0,Ko.W)((0,Ur.W)(e))));return(0,_r.I)((0,zr.l)(o,a),i)}var Eu=(0,yt.op)({sigmoidCrossEntropy_:function(n,t,r){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:pu.SUM_BY_NONZERO_WEIGHTS,a=(0,S._1)(n,"multiClassLabels","sigmoidCrossEntropy"),i=(0,S._1)(t,"logits","sigmoidCrossEntropy"),u=null;if(null!=r&&(u=(0,S._1)(r,"weights","sigmoidCrossEntropy")),(0,B.k5)(a.shape,i.shape,"Error in sigmoidCrossEntropy: "),e>0){var s=(0,Mr.i)(e),c=(0,Mr.i)(1),f=(0,Mr.i)(.5);a=(0,_r.I)((0,Sr.d)(a,(0,zr.l)(c,s)),(0,Sr.d)(f,s))}var l=xu(a,i);return vu(l,u,o)}});function _u(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1===r&&(r=t.rank-1),r!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+"supported. Labels / logits was rank ".concat(t.rank," ")+"and dim was ".concat(r));var e=(0,Nr.cb)((function(n,t,e){var o=(0,_o.l)(t,[r],!0),a=(0,zr.l)((0,zn.p)(t,"float32"),o);e([n,a]);var i=(0,Ko.W)((0,Sr.d)(a,n));return{value:(0,Ga.S)(i,[r]),gradFunc:function(n,t){var e=(0,Yn.Z)(t,2),o=e[0],a=e[1],i=(0,zo.rv)(n.shape,[r]);return[(0,Sr.d)((0,pe.X)(n,i),(0,zr.l)((0,zn.p)(o,"float32"),(0,no.Q)(a))),(0,Sr.d)((0,pe.X)(n,i),(0,zr.l)((0,no.Q)(a),(0,zn.p)(o,"float32")))]}}}));return e(n,t)}var Iu=(0,yt.op)({softmaxCrossEntropy_:function(n,t,r){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:pu.SUM_BY_NONZERO_WEIGHTS,a=(0,S._1)(n,"onehotLabels","softmaxCrossEntropy"),i=(0,S._1)(t,"logits","softmaxCrossEntropy"),u=null;if(null!=r&&(u=(0,S._1)(r,"weights","softmaxCrossEntropy")),(0,B.k5)(a.shape,i.shape,"Error in softmaxCrossEntropy: "),e>0){var s=(0,Mr.i)(e),c=(0,Mr.i)(1),f=(0,Mr.i)(a.shape[1]);a=(0,_r.I)((0,Sr.d)(a,(0,zr.l)(c,s)),(0,Ir.h)(s,f))}var l=_u(a,i);return vu(l,u,o)}}),Su={fft:Ca.k,ifft:Fa.S,rfft:Za.Q,irfft:Pa.w},Au={hammingWindow:Vi,hannWindow:Ci,frame:Fi,stft:Pi},Du={flipLeftRight:zi,resizeNearestNeighbor:su.j,resizeBilinear:uu.I,rotateWithOffset:Li,cropAndResize:Zi,nonMaxSuppression:Ui,nonMaxSuppressionAsync:nu,nonMaxSuppressionWithScore:tu,nonMaxSuppressionWithScoreAsync:eu,nonMaxSuppressionPadded:ou,nonMaxSuppressionPaddedAsync:iu,transform:cu},Bu={bandPart:fu,gramSchmidt:lu,qr:du},Nu={absoluteDifference:gu,computeWeightedLoss:vu,cosineDistance:mu,hingeLoss:yu,huberLoss:bu,logLoss:wu,meanSquaredError:ku,sigmoidCrossEntropy:Eu,softmaxCrossEntropy:Iu},Mu=function(){function n(){(0,w.Z)(this,n)}return(0,k.Z)(n,null,[{key:"sgd",value:function(n){return new Hr(n)}},{key:"momentum",value:function(n,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Jr(n,t,r)}},{key:"rmsprop",value:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Qr(n,t,r,e,o)}},{key:"adam",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new Wr(n,t,r,e)}},{key:"adadelta",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.95,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Vr(n,t,r)}},{key:"adamax",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.002,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return new Gr(n,t,r,e,o)}},{key:"adagrad",value:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return new Pr(n,t)}}]),n}(),Tu={sgd:Mu.sgd,momentum:Mu.momentum,adadelta:Mu.adadelta,adagrad:Mu.adagrad,rmsprop:Mu.rmsprop,adamax:Mu.adamax,adam:Mu.adam},Ru="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setImmediate?setImmediate:function(n){return n()};function Ou(){return new Promise((function(n){return Ru((function(){return n()}))}))}function Vu(n,t){var r=n[0].length;n.forEach((function(n,t){B.hu(n.length===r,(function(){return"Error in concat".concat(r,"D: rank of tensors[").concat(t,"] must be the same ")+"as the rank of the rest (".concat(r,")")}))})),B.hu(t>=0&&t<r,(function(){return"Error in concat".concat(r,"D: axis must be between 0 and ").concat(r-1,".")}));var e=n[0];n.forEach((function(n,o){for(var a=0;a<r;a++)B.hu(a===t||n[a]===e[a],(function(){return"Error in concat".concat(r,"D: Shape of tensors[").concat(o,"] (").concat(n,") ")+"does not match the shape of the rest (".concat(e,") ")+"along the non-concatenated axis ".concat(o,".")}))}))}function Cu(n,t){for(var r=n[0].slice(),e=1;e<n.length;e++)r[t]+=n[e][t];return r}var Fu=30;function Pu(n){return n<=Fu?n:(0,B.jP)(n,Math.floor(Math.sqrt(n)))}function Zu(n,t,r){return[r*("number"==typeof n?n:n[0]),t*("number"==typeof n?n:n[1])]}function zu(n,t,r){var e=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=[];if(e)(o=o.concat(t.slice(0))).push(n[0]/r),o=o.concat(n.slice(1));else{o=o.concat(n[0]);for(var a=t.length,i=0;i<a;++i)o=o.concat([n[i+1]/t[i],t[i]]);o=o.concat(n.slice(a+1))}return o}function Lu(n,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],e=[];if(r){e.push(t);for(var o=t+1;o<n;++o)o<=2*t?(e.push(o),e.push(o-(t+1))):e.push(o)}else{for(var a=[],i=[],u=1;u<n;++u)u>=2*t+1||u%2==1?i.push(u):a.push(u);e.push.apply(e,a),e.push(0),e.push.apply(e,i)}return e}function Wu(n,t,r){var e=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=[];e?o.push(n[0]/r):o.push(n[0]*r);for(var a=1;a<n.length;++a)a<=t.length?e?o.push(t[a-1]*n[a]):o.push(n[a]/t[a-1]):o.push(n[a]);return o}function Uu(n,t){for(var r=[0],e=0;e<t;++e)r.push(n[e][0]);return r}function Ku(n,t,r){for(var e=n.slice(0,1),o=0;o<r;++o)e.push(n[o+1]-t[o][0]-t[o][1]);return e}var qu=r(25066),Gu=.3275911,ju=.254829592,Hu=-.284496736,Xu=1.421413741,Ju=-1.453152027,Yu=1.061405429;function Qu(){var n;(0,y.OB)().getBool("IS_TEST")||(n=console).warn.apply(n,arguments)}function $u(){var n;(0,y.OB)().getBool("IS_TEST")||(n=console).log.apply(n,arguments)}function ns(n,t){if(n.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+"".concat(n.length,", imag: ").concat(t.length,"."));for(var r=new Float32Array(2*n.length),e=0;e<r.length;e+=2)r[e]=n[e/2],r[e+1]=t[e/2];return r}function ts(n){for(var t=new Float32Array(n.length/2),r=new Float32Array(n.length/2),e=0;e<n.length;e+=2)t[e/2]=n[e],r[e/2]=n[e+1];return{real:t,imag:r}}function rs(n){for(var t=Math.ceil(n.length/4),r=new Float32Array(t),e=new Float32Array(t),o=0;o<n.length;o+=4)r[Math.floor(o/4)]=n[o],e[Math.floor(o/4)]=n[o+1];return{real:r,imag:e}}function es(n){for(var t=Math.floor(n.length/4),r=new Float32Array(t),e=new Float32Array(t),o=2;o<n.length;o+=4)r[Math.floor(o/4)]=n[o],e[Math.floor(o/4)]=n[o+1];return{real:r,imag:e}}function os(n,t){return{real:n[2*t],imag:n[2*t+1]}}function as(n,t,r,e){n[2*e]=t,n[2*e+1]=r}function is(n,t){for(var r=new Float32Array(n/2),e=new Float32Array(n/2),o=0;o<Math.ceil(n/2);o++){var a=(t?2:-2)*Math.PI*(o/n);r[o]=Math.cos(a),e[o]=Math.sin(a)}return{real:r,imag:e}}function us(n,t,r){var e=(r?2:-2)*Math.PI*(n/t);return{real:Math.cos(e),imag:Math.sin(e)}}function ss(n,t){var r;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(r=function(n,t){if(!n)return;if("string"==typeof n)return cs(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);"Object"===r&&n.constructor&&(r=n.constructor.name);if("Map"===r||"Set"===r)return Array.from(n);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cs(n,t)}(n))||t&&n&&"number"==typeof n.length){r&&(n=r);var e=0,o=function(){};return{s:o,n:function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){r=n[Symbol.iterator]()},n:function(){var n=r.next();return i=n.done,n},e:function(n){u=!0,a=n},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw a}}}}function cs(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}var fs="->",ls=/->/g;function hs(n,t){var r=((n=n.replace(/\s/g,"")).length-n.replace(ls,"").length)/fs.length;if(r<1)throw new Error("Equations without an arrow are not supported.");if(r>1)throw new Error('Equation must contain exactly one arrow ("'.concat(fs,'").'));var e=n.split(fs),o=(0,Yn.Z)(e,2),a=o[0],i=o[1];(0,B.hu)(-1===a.indexOf("..."),(function(){return'The ellipsis notation ("'.concat("...",'") is not supported yet.')}));var u=a.split(","),s=u.length;if(t!==s)throw new Error("Expected ".concat(s," input tensors, received ").concat(t));if(s>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");for(var c=[],f=function(n){var t=i[n];if(!u.some((function(n){return-1!==n.indexOf(t)})))throw new Error("Output subscripts contain the label ".concat(t," ")+"not present in the input subscripts.");-1===c.indexOf(t)&&c.push(t)},l=0;l<i.length;++l)f(l);for(var h=0;h<a.length;++h){var p=a[h];-1===c.indexOf(p)&&","!==p&&c.push(p)}for(var d=new Array(u.length),v=0;v<s;++v){if(new Set(u[v].split("")).size!==u[v].length)throw new Error("Found duplicate axes in input component ".concat(u[v],". ")+"Support for duplicate axes in input is not implemented yet.");d[v]=[];for(var g=0;g<u[v].length;++g)d[v].push(c.indexOf(u[v][g]))}for(var m=c.length,y=[],b=i.length;b<m;++b)y.push(b);return{allDims:c,summedDims:y,idDims:d}}function ps(n,t){var r=new Array(n);r.fill(-1);for(var e=0;e<t.length;++e)r[t[e]]=e;for(var o=[],a=0;a<n;++a)-1===r[a]&&o.push(a);return{permutationIndices:r=r.filter((function(n){return-1!==n})),expandDims:o}}function ds(n,t,r){for(var e=new Array(n),o=function(n){for(var o=r[n].shape,a=function(r){void 0===e[t[n][r]]?e[t[n][r]]=o[r]:(0,B.hu)(e[t[n][r]]===o[r],(function(){return"Expected dimension ".concat(e[t[n][r]]," at axis ").concat(r," ")+"of input shaped ".concat(JSON.stringify(o),", ")+"but got dimension ".concat(o[r])}))},i=0;i<t[n].length;++i)a(i)},a=0;a<r.length;++a)o(a)}function vs(n,t){var r,e=n,o=[];0===n.length&&e.push(-1),r=n.length+1;for(var a=0;a<r;++a)o.push([]);for(var i=[],u=0;u<e.length;++u){var s,c=ss(ms(t,e[u]));try{for(c.s();!(s=c.n()).done;){var f=s.value;-1===i.indexOf(f)&&(o[u].push(f),i.push(f))}}catch(Is){c.e(Is)}finally{c.f()}}return{path:e,steps:o}}function gs(n){return n.every((function(n,t){return n===t}))}function ms(n,t){for(var r=[],e=0;e<n.length;++e)0!==n[e].length&&-1===n[e].indexOf(t)&&-1!==t||r.push(e);return r}function ys(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=[];if("number"==typeof t)(0,B.hu)(n.shape[r]%t==0,(function(){return"Number of splits must evenly divide the axis."})),e=new Array(t).fill(n.shape[r]/t);else{var o=t.reduce((function(n,t){return-1===t&&(n+=1),n}),0);(0,B.hu)(o<=1,(function(){return"There should be only one negative value in split array."}));var a=t.indexOf(-1);if(-1!==a){var i=t.reduce((function(n,t){return t>0?n+t:n}));t[a]=n.shape[r]-i}(0,B.hu)(n.shape[r]===t.reduce((function(n,t){return n+t})),(function(){return"The sum of sizes must match the size of the axis dimension."})),e=t}return e}function bs(n,t){var r,e=!1;for(n<=Fu?(r=n,e=!0):r=(0,B.jP)(n,Math.floor(Math.sqrt(n)));!e;)r>t||r===n?e=!0:r=(0,B.jP)(n,r+1);return r}function ws(n,t,r){for(var e=[],o=n.length,a=0;a<o;a++)a!==t?e.push(n[a]):e.push(r);return e}function ks(n,t,r,e){var o=t.shape.length,a=n.shape.length;if(0!==e&&(e<-o||e>o))throw new Error("Expect batchDims in the range of [-".concat(o,", ").concat(o,"], but got ").concat(e));if(e<0&&(e+=o),e>a)throw new Error("batchDims (".concat(e,") must be less than rank(x) (\n    ").concat(a,")."));if(r<e)throw new Error("batchDims (".concat(e,") must be less than or equal to axis (").concat(r,")."));for(var i=0;i<e;++i)if(n.shape[i]!==t.shape[i])throw new Error("x.shape[".concat(i,"]: ").concat(n.shape[i]," should be equal to indices.shape[").concat(i,"]: ").concat(t.shape[i],"."));for(var u=n.shape[r],s=[],c=1,f=1,l=1,h=0;h<e;++h)s.push(n.shape[h]),c*=n.shape[h];for(var p=e;p<r;p++)s.push(n.shape[p]),f*=n.shape[p];for(var d=e;d<o;d++)s.push(t.shape[d]);for(var v=r+1;v<a;v++)s.push(n.shape[v]),l*=n.shape[v];return{batchSize:c,sliceSize:l,outerSize:f,dimSize:u,outputShape:s}}function xs(n){try{return n.map((function(n){return(0,Lt.decodeString)(n)}))}catch(Is){throw new Error("Failed to decode encoded string bytes into utf-8, error: ".concat(Is))}}function Es(n){return n.map((function(n){return(0,Lt.encodeString)(n)}))}var _s=r(98230)},73135:function(n,t,r){"use strict";r.d(t,{SY:function(){return e},VG:function(){return o},Sp:function(){return a},mm:function(){return i},Xz:function(){return u},oT:function(){return s},IK:function(){return c},sJ:function(){return f},aJ:function(){return l},M2:function(){return h},qw:function(){return p},jM:function(){return d},Oy:function(){return v},QC:function(){return g},Jh:function(){return m},RO:function(){return y},_k:function(){return b},IM:function(){return w},XL:function(){return k},zw:function(){return x},zv:function(){return E},Ly:function(){return _},RF:function(){return I},gJ:function(){return S},xn:function(){return A},Zz:function(){return D},yj:function(){return B},Eh:function(){return N},mh:function(){return M},wU:function(){return T},wm:function(){return R},x1:function(){return O},o2:function(){return V},ik:function(){return C},mc:function(){return F},TR:function(){return P},iH:function(){return Z},Vc:function(){return z},QR:function(){return L},T0:function(){return W},ci:function(){return U},sL:function(){return K},y7:function(){return q},$w:function(){return G},p4:function(){return j},ek:function(){return H},Vn:function(){return X},oH:function(){return J},$g:function(){return Y},SX:function(){return Q},HE:function(){return $},Om:function(){return nn},hd:function(){return tn},NE:function(){return rn},YF:function(){return en},Y0:function(){return on},vw:function(){return an},de:function(){return un},Uy:function(){return sn},OR:function(){return cn},je:function(){return fn},sH:function(){return ln},qi:function(){return hn},q1:function(){return pn},iZ:function(){return dn},Ac:function(){return vn},iJ:function(){return gn},Qg:function(){return mn},J_:function(){return yn},av:function(){return bn},iW:function(){return wn},r7:function(){return kn},J$:function(){return xn},vt:function(){return En},CA:function(){return _n},e7:function(){return In},Zb:function(){return Sn},kU:function(){return An},PY:function(){return Dn},Vf:function(){return Bn},MZ:function(){return Nn},qC:function(){return Mn},eZ:function(){return Tn},Hh:function(){return Rn},Yo:function(){return On},BM:function(){return Vn},mT:function(){return Cn},OV:function(){return Fn},OA:function(){return Pn},OU:function(){return Zn},vF:function(){return zn},q2:function(){return Ln},c1:function(){return Wn},q8:function(){return Un},jQ:function(){return Kn},Vb:function(){return qn},NZ:function(){return Gn},wY:function(){return jn},ku:function(){return Hn},yQ:function(){return Xn},uv:function(){return Jn},cy:function(){return Yn},W0:function(){return Qn},qW:function(){return $n},we:function(){return nt},Qi:function(){return tt},ly:function(){return rt},Kg:function(){return et},pe:function(){return ot},o0:function(){return at},Dl:function(){return it},e6:function(){return ut},xJ:function(){return st},$H:function(){return ct},qk:function(){return ft},HZ:function(){return lt},dp:function(){return ht},Hm:function(){return pt},_Y:function(){return dt},zb:function(){return vt},Sb:function(){return gt},mK:function(){return mt},e0:function(){return yt},bV:function(){return bt},xQ:function(){return wt},Ph:function(){return kt},oF:function(){return xt},p2:function(){return Et},RQ:function(){return _t},w3:function(){return It},i5:function(){return St},a5:function(){return At},MR:function(){return Dt},FK:function(){return Bt},GB:function(){return Nt},TQ:function(){return Mt},L8:function(){return Tt},Gc:function(){return Rt},_t:function(){return Ot},bK:function(){return Vt},Tr:function(){return Ct},D2:function(){return Ft},m2:function(){return Pt},sE:function(){return Zt},MI:function(){return zt},n9:function(){return Lt},cW:function(){return Wt},wx:function(){return Ut},G3:function(){return Kt},kp:function(){return qt},To:function(){return Gt},Qv:function(){return jt},Ru:function(){return Ht},h8:function(){return Xt},eB:function(){return Jt},b9:function(){return Yt},us:function(){return Qt},_V:function(){return $t},lu:function(){return nr}});var e="Abs",o="Acos",a="Acosh",i="Add",u="AddN",s="All",c="Any",f="ArgMax",l="ArgMin",h="Asin",p="Asinh",d="Atan",v="Atanh",g="Atan2",m="AvgPool",y="AvgPoolGrad",b="AvgPool3D",w="AvgPool3DGrad",k="BatchMatMul",x="BatchToSpaceND",E="Bincount",_="BroadcastTo",I="Cast",S="Ceil",A="ClipByValue",D="Complex",B="ComplexAbs",N="Concat",M="Conv2D",T="Conv2DBackpropFilter",R="Conv2DBackpropInput",O="Conv3D",V="Conv3DBackpropFilterV2",C="Conv3DBackpropInputV2",F="Cos",P="Cosh",Z="Cumsum",z="CropAndResize",L="DenseBincount",W="DepthToSpace",U="DepthwiseConv2dNative",K="DepthwiseConv2dNativeBackpropFilter",q="DepthwiseConv2dNativeBackpropInput",G="Diag",j="Dilation2D",H="Dilation2DBackpropInput",X="Dilation2DBackpropFilter",J="RealDiv",Y="Einsum",Q="Elu",$="EluGrad",nn="Erf",tn="Equal",rn="Exp",en="ExpandDims",on="Expm1",an="FFT",un="Fill",sn="FlipLeftRight",cn="Floor",fn="FloorDiv",ln="FusedBatchNorm",hn="GatherV2",pn="GatherNd",dn="Greater",vn="GreaterEqual",gn="Identity",mn="IFFT",yn="Imag",bn="IsFinite",wn="IsInf",kn="IsNan",xn="LeakyRelu",En="Less",_n="LessEqual",In="LinSpace",Sn="Log",An="Log1p",Dn="LogicalAnd",Bn="LogicalNot",Nn="LogicalOr",Mn="LogSoftmax",Tn="LRN",Rn="LRNGrad",On="Max",Vn="Maximum",Cn="MaxPool",Fn="MaxPoolGrad",Pn="MaxPool3D",Zn="MaxPool3DGrad",zn="MaxPoolWithArgmax",Ln="Mean",Wn="Min",Un="Minimum",Kn="MirrorPad",qn="Mod",Gn="Multinomial",jn="Multiply",Hn="Neg",Xn="NotEqual",Jn="NonMaxSuppressionV3",Yn="NonMaxSuppressionV4",Qn="NonMaxSuppressionV5",$n="OnesLike",nt="OneHot",tt="Pack",rt="PadV2",et="Pool",ot="Pow",at="Prelu",it="Prod",ut="Range",st="Real",ct="Reciprocal",ft="Relu",lt="Reshape",ht="ResizeNearestNeighbor",pt="ResizeNearestNeighborGrad",dt="ResizeBilinear",vt="ResizeBilinearGrad",gt="Relu6",mt="Reverse",yt="Round",bt="Rsqrt",wt="ScatterNd",kt="Select",xt="Selu",Et="Slice",_t="Sin",It="Sinh",St="Sign",At="Sigmoid",Dt="Softplus",Bt="Sqrt",Nt="Sum",Mt="SpaceToBatchND",Tt="SplitV",Rt="Softmax",Ot="SquaredDifference",Vt="Square",Ct="Sub",Ft="SparseToDense",Pt="StridedSlice",Zt="Tan",zt="Tanh",Lt="Tile",Wt="TopK",Ut="Transform",Kt="Transpose",qt="Unique",Gt="Unpack",jt="UnsortedSegmentSum",Ht="ZerosLike",Xt="Step",Jt="FromPixels",Yt="RotateWithOffset",Qt="_FusedMatMul",$t="FusedConv2D",nr="FusedDepthwiseConv2D"},35408:function(n,t,r){"use strict";r.d(t,{pI:function(){return s},uk:function(){return c},tr:function(){return f},wC:function(){return l},Li:function(){return h},nE:function(){return p},bt:function(){return d},T3:function(){return v}});var e=r(28481),o=r(678),a=r(85046),i=(0,a.R)("kernelRegistry",(function(){return new Map})),u=(0,a.R)("gradRegistry",(function(){return new Map}));function s(n,t){var r=g(n,t);return i.get(r)}function c(n){return u.get(n)}function f(n){for(var t=i.entries(),r=[];;){var o=t.next(),a=o.done,u=o.value;if(a)break;var s=(0,e.Z)(u,2),c=s[0],f=s[1],l=c.split("_");(0,e.Z)(l,1)[0]===n&&r.push(f)}return r}function l(n){var t=n.kernelName,r=n.backendName,e=g(t,r);i.has(e)&&console.warn("The kernel '".concat(t,"' for backend ")+"'".concat(r,"' is already registered")),i.set(e,n)}function h(n){var t=n.kernelName;u.has(t)&&(0,o.OB)().getBool("DEBUG")&&console.warn("Overriding the gradient for '".concat(t,"'")),u.set(t,n)}function p(n,t){var r=g(n,t);if(!i.has(r))throw new Error("The kernel '".concat(n,"' for backend ")+"'".concat(t,"' is not registered"));i.delete(r)}function d(n){if(!u.has(n))throw new Error("The gradient '".concat(n,"' for backend is not registered"));u.delete(n)}function v(n,t){f(n).forEach((function(n){l(Object.assign({},n,{backendName:t}))}))}function g(n,t){return"".concat(t,"_").concat(n)}},76706:function(n,t,r){"use strict";r.d(t,{W:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({abs_:function(n){var t=(0,a._1)(n,"x","abs");if("complex64"===t.dtype){var r={x:t};return e.BV.runKernel(o.yj,r)}var i={x:t};return e.BV.runKernel(o.SY,i)}})},22220:function(n,t,r){"use strict";r.d(t,{K:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({acos_:function(n){var t={x:(0,a._1)(n,"x","acos")};return e.BV.runKernel(o.VG,t)}})},18423:function(n,t,r){"use strict";r.d(t,{_:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({acosh_:function(n){var t={x:(0,a._1)(n,"x","acosh")};return e.BV.runKernel(o.Sp,t)}})},93263:function(n,t,r){"use strict";r.d(t,{I:function(){return s}});var e=r(28481),o=r(93753),a=r(73135),i=r(85031),u=r(77016);var s=(0,r(94684).op)({add_:function(n,t){var r=(0,u._1)(n,"a","add"),s=(0,u._1)(t,"b","add"),c=(0,i.makeTypesMatch)(r,s),f=(0,e.Z)(c,2),l={a:r=f[0],b:s=f[1]};return o.BV.runKernel(a.mm,l)}})},41822:function(n,t,r){"use strict";r.d(t,{$:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({all_:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=(0,a._1)(n,"x","all","bool"),u={x:i},s={axis:t,keepDims:r};return e.BV.runKernel(o.oT,u,s)}})},89786:function(n,t,r){"use strict";r.d(t,{Y:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({any_:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=(0,a._1)(n,"x","any","bool"),u={x:i},s={axis:t,keepDims:r};return e.BV.runKernel(o.IK,u,s)}})},59178:function(n,t,r){"use strict";r.d(t,{N:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({argMax_:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(0,a._1)(n,"x","argMax"),i={x:r},u={axis:t};return e.BV.runKernel(o.sJ,i,u)}})},92866:function(n,t,r){"use strict";r.d(t,{v:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({argMin_:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(0,a._1)(n,"x","argMin"),i={x:r},u={axis:t};return e.BV.runKernel(o.aJ,i,u)}})},76848:function(n,t,r){"use strict";r.d(t,{Z:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({asin_:function(n){var t={x:(0,a._1)(n,"x","asin")};return e.BV.runKernel(o.M2,t)}})},59868:function(n,t,r){"use strict";r.d(t,{V:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({asinh_:function(n){var t={x:(0,a._1)(n,"x","asinh")};return e.BV.runKernel(o.qw,t)}})},22670:function(n,t,r){"use strict";r.d(t,{z:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({atan_:function(n){var t={x:(0,a._1)(n,"x","atan")};return e.BV.runKernel(o.jM,t)}})},10919:function(n,t,r){"use strict";r.d(t,{f:function(){return s}});var e=r(28481),o=r(93753),a=r(73135),i=r(85031),u=r(77016);var s=(0,r(94684).op)({atan2_:function(n,t){var r=(0,u._1)(n,"a","atan2"),s=(0,u._1)(t,"b","atan2"),c=(0,i.makeTypesMatch)(r,s),f=(0,e.Z)(c,2),l={a:r=f[0],b:s=f[1]};return o.BV.runKernel(a.QC,l)}})},92318:function(n,t,r){"use strict";r.d(t,{C:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({atanh_:function(n){var t={x:(0,a._1)(n,"x","atanh")};return e.BV.runKernel(o.Oy,t)}})},51229:function(n,t,r){"use strict";r.d(t,{w:function(){return l}});var e=r(93753),o=r(73135),a=r(77016),i=r(21590),u=r(12576),s=r(26526),c=r(94684),f=r(42776);var l=(0,c.op)({avgPool_:function(n,t,r,c,l){var h=(0,a._1)(n,"x","avgPool","float32");i.hu(s.jT(r,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(1,"'")}));var p=h,d=!1;3===h.rank&&(d=!0,p=(0,f.X)(h,[1,h.shape[0],h.shape[1],h.shape[2]])),i.hu(4===p.rank,(function(){return"Error in avgPool: x must be rank 4 but got rank ".concat(p.rank,".")})),null!=l&&i.hu(i.GN(c),(function(){return"Error in avgPool: pad must be an integer when using, "+"dimRoundingMode ".concat(l," but got pad ").concat(c,".")}));var v={x:p},g={filterSize:t,strides:r,pad:c,dimRoundingMode:l},m=e.BV.runKernel(o.Jh,v,g);return m=(0,u.p)(m,h.dtype),d?(0,f.X)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}})},4465:function(n,t,r){"use strict";r.d(t,{YB:function(){return o},Vh:function(){return a},kz:function(){return i},rv:function(){return u},lB:function(){return s},Q3:function(){return c},LJ:function(){return f},sY:function(){return l}});var e=r(21590);function o(n,t){for(var r=0;r<n.length;++r)if(n[n.length-r-1]!==t-1-r)return!1;return!0}function a(n,t,r){for(var e=n.length+t.length,o=[],a=0,i=0,u=0;u<e;u++)-1===r.indexOf(u)?o.push(n[a++]):o.push(t[i++]);return o}function i(n,t){for(var r=[],e=n.length,o=0;o<e;o++)-1===t.indexOf(o)&&r.push(n[o]);return[r,t.map((function(t){return n[t]}))]}function u(n,t){return a(n,t.map((function(n){return 1})),t)}function s(n,t,r){e.hu(o(t,r),(function(){return"".concat(n," supports only inner-most axes for now. ")+"Got axes ".concat(t," and rank-").concat(r," input.")}))}function c(n,t){if(o(n,t))return null;for(var r=[],e=0;e<t;++e)-1===n.indexOf(e)&&r.push(e);return n.forEach((function(n){return r.push(n)})),r}function f(n){return n.map((function(n,t){return[t,n]})).sort((function(n,t){return n[1]-t[1]})).map((function(n){return n[0]}))}function l(n,t){for(var r=[],e=t-n;e<t;++e)r.push(e);return r}},6603:function(n,t,r){"use strict";r.d(t,{E:function(){return u}});var e=r(93753),o=r(73135),a=r(77016),i=r(21590);var u=(0,r(94684).op)({batchToSpaceND_:function(n,t,r){var u=(0,a._1)(n,"x","batchToSpaceND"),s=t.reduce((function(n,t){return n*t}));i.hu(u.rank>=1+t.length,(function(){return"input rank is ".concat(u.rank," but should be > than blockShape.length ").concat(t.length)})),i.hu(r.length===t.length,(function(){return"crops.length is ".concat(r.length," but should be equal to blockShape.length  ").concat(t.length)})),i.hu(u.shape[0]%s==0,(function(){return"input tensor batch is ".concat(u.shape[0]," but is not divisible by the product of ")+"the elements of blockShape ".concat(t.join(" * ")," === ").concat(s)}));var c={x:u},f={blockShape:t,crops:r};return e.BV.runKernel(o.zw,c,f)}})},86067:function(n,t,r){"use strict";r.d(t,{t:function(){return s}});var e=r(93753),o=r(73135),a=r(77016),i=r(21590),u=r(42776);var s=(0,r(94684).op)({batchNorm_:function(n,t,r,s,c,f){null==f&&(f=.001);var l,h,p=(0,a._1)(n,"x","batchNorm"),d=(0,a._1)(t,"mean","batchNorm"),v=(0,a._1)(r,"variance","batchNorm");null!=c&&(l=(0,a._1)(c,"scale","batchNorm")),null!=s&&(h=(0,a._1)(s,"offset","batchNorm")),i.hu(d.rank===v.rank,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),i.hu(null==h||d.rank===h.rank,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),i.hu(null==l||d.rank===l.rank,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}));var g={x:function(n){return 0===n.rank||1===n.rank?(0,u.X)(n,[1,1,1,n.size]):2===n.rank?(0,u.X)(n,[1,1,n.shape[0],n.shape[1]]):3===n.rank?(0,u.X)(n,[1,n.shape[0],n.shape[1],n.shape[2]]):n}(p),scale:l,offset:h,mean:d,variance:v},m={varianceEpsilon:f},y=e.BV.runKernel(o.sH,g,m);return(0,u.X)(y,p.shape)}})},85959:function(n,t,r){"use strict";r.d(t,{U:function(){return c}});var e=r(93753),o=r(73135),a=r(77016),i=r(47787),u=r(94684),s=r(42776);var c=(0,u.op)({broadcastTo_:function(n,t){var r=(0,a._1)(n,"broadcastTo","x"),u=r.shape;if(t.some((function(n){return!(n>0)||n%1!=0})))throw new Error("broadcastTo(): Invalid broadcast shape [".concat(t,"]."));if(t.length<r.rank)throw new Error("broadcastTo(): shape.length=".concat(t.length," < input.rank=").concat(r.rank,"."));if(t.length>r.rank){for(var c=r.shape.slice();c.length<t.length;)c.unshift(1);r=(0,s.X)(r,c)}for(var f=r.shape,l=Array.from(t),h=t.length-1;h>=0;h--)if(f[h]===t[h])l[h]=1;else if(1!==r.shape[h])throw new Error("broadcastTo(): [".concat(u,"] cannot be broadcast to [").concat(t,"]."));if(0===l.map((function(n,t){return n>1?t:-1})).filter((function(n){return n>=0})).length)return(0,i.d)(r);var p={x:r},d={reps:l};return e.BV.runKernel(o.n9,p,d)}})},35828:function(n,t,r){"use strict";function e(n,t){for(var r=n.length,e=[],o=0;o<r;o++){var a=r-1-o,i=n[a]||1;(t[t.length-1-o]||1)>1&&1===i&&e.unshift(a)}return e}function o(n,t){for(var r=[],e=0;e<t.length;e++){var o=n[n.length-e-1],a=t.length-e-1,i=t[a];(null==o||1===o&&i>1)&&r.unshift(a)}return r}function a(n,t){for(var r=[],e=Math.max(n.length,t.length),o=0;o<e;o++){var a=n[n.length-o-1];null==a&&(a=1);var i=t[t.length-o-1];if(null==i&&(i=1),1===a)r.unshift(i);else if(1===i)r.unshift(a);else{if(a!==i){var u="Operands could not be broadcast together with shapes "+"".concat(n," and ").concat(t,".");throw Error(u)}r.unshift(a)}}return r}r.d(t,{XF:function(){return e},RR:function(){return o},$N:function(){return a}})},12576:function(n,t,r){"use strict";r.d(t,{p:function(){return u}});var e=r(93753),o=r(73135),a=r(77016),i=r(21590);var u=(0,r(94684).op)({cast_:function(n,t){var r=(0,a._1)(n,"x","cast");if(!i.LP(t))throw new Error("Failed to cast to unknown dtype ".concat(t));if("string"===t&&"string"!==r.dtype||"string"!==t&&"string"===r.dtype)throw new Error("Only strings can be casted to strings");var u={x:r},s={dtype:t};return e.BV.runKernel(o.RF,u,s)}})},341:function(n,t,r){"use strict";r.d(t,{m:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({ceil_:function(n){var t={x:(0,a._1)(n,"x","ceil")};return e.BV.runKernel(o.gJ,t)}})},11212:function(n,t,r){"use strict";r.d(t,{i:function(){return u}});var e=r(93753),o=r(73135),a=r(77016),i=r(21590);var u=(0,r(94684).op)({clipByValue_:function(n,t,r){var u=(0,a._1)(n,"x","clipByValue");i.hu(t<=r,(function(){return"Error in clip: min (".concat(t,") must be ")+"less than or equal to max (".concat(r,").")}));var s={x:u},c={clipValueMin:t,clipValueMax:r};return e.BV.runKernel(o.xn,s,c)}})},47787:function(n,t,r){"use strict";r.d(t,{d:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({clone_:function(n){var t={x:(0,a._1)(n,"x","clone","string_or_numeric")};return e.BV.runKernel(o.iJ,t)}})},34594:function(n,t,r){"use strict";r.d(t,{P:function(){return u}});var e=r(93753),o=r(73135),a=r(77016),i=r(21590);var u=(0,r(94684).op)({complex_:function(n,t){var r=(0,a._1)(n,"real","complex"),u=(0,a._1)(t,"imag","complex");i.k5(r.shape,u.shape,"real and imag shapes, ".concat(r.shape," and ").concat(u.shape,", ")+"must match in call to tf.complex().");var s={real:r,imag:u};return e.BV.runKernel(o.Zz,s)}})},94981:function(n,t,r){"use strict";r.d(t,{z:function(){return s}});var e=r(93753),o=r(73135),a=r(77016),i=r(21590),u=r(47787);var s=(0,r(94684).op)({concat_:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,i.hu)(n.length>=1,(function(){return"Pass at least one tensor to concat"}));var r=(0,a.sI)(n,"tensors","concat","string_or_numeric");if("complex64"===r[0].dtype&&r.forEach((function(n){if("complex64"!==n.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype ".concat(n.dtype,". "))})),1===r.length)return(0,u.d)(r[0]);var s=r,c={axis:t};return e.BV.runKernel(o.Eh,s,c)}})},49431:function(n,t,r){"use strict";r.d(t,{P:function(){return c}});var e=r(77016),o=r(21590),a=r(55303),i=r(26526),u=r(94684),s=r(42776);var c=(0,u.op)({conv1d_:function(n,t,r,u){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NWC",f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,l=arguments.length>6?arguments[6]:void 0,h=(0,e._1)(n,"x","conv1d"),p=(0,e._1)(t,"filter","conv1d"),d=h,v=!1;2===h.rank&&(v=!0,d=(0,s.X)(h,[1,h.shape[0],h.shape[1]])),o.hu(3===d.rank,(function(){return"Error in conv1d: input must be rank 3, but got rank ".concat(d.rank,".")})),o.hu(3===p.rank,(function(){return"Error in conv1d: filter must be rank 3, but got rank "+"".concat(p.rank,".")})),null!=l&&o.hu(o.GN(u),(function(){return"Error in conv1d: pad must be an integer when using, "+"dimRoundingMode ".concat(l," but got pad ").concat(u,".")})),o.hu(d.shape[2]===p.shape[1],(function(){return"Error in conv1d: depth of input (".concat(d.shape[2],") must match ")+"input depth for filter ".concat(p.shape[1],".")})),o.hu(i.jT(r,f),(function(){return"Error in conv1D: Either stride or dilation must be 1. "+"Got stride ".concat(r," and dilation '").concat(f,"'")})),o.hu("NWC"===c,(function(){return"Error in conv1d: got dataFormat of ".concat(c," but only NWC is currently supported.")}));var g=(0,s.X)(p,[1,p.shape[0],p.shape[1],p.shape[2]]),m=(0,s.X)(d,[d.shape[0],1,d.shape[1],d.shape[2]]),y=[1,r],b=[1,f],w="NHWC",k=(0,a.T)(m,g,y,u,w,b,l);return v?(0,s.X)(k,[k.shape[2],k.shape[3]]):(0,s.X)(k,[k.shape[0],k.shape[2],k.shape[3]])}})},55303:function(n,t,r){"use strict";r.d(t,{T:function(){return f}});var e=r(93753),o=r(73135),a=r(77016),i=r(21590),u=r(26526),s=r(94684),c=r(42776);var f=(0,s.op)({conv2d_:function(n,t,r,s){var f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],h=arguments.length>6?arguments[6]:void 0,p=(0,a._1)(n,"x","conv2d"),d=(0,a._1)(t,"filter","conv2d"),v=p,g=!1;3===p.rank&&(g=!0,v=(0,c.X)(p,[1,p.shape[0],p.shape[1],p.shape[2]])),i.hu(4===v.rank,(function(){return"Error in conv2d: input must be rank 4, but got rank ".concat(v.rank,".")})),i.hu(4===d.rank,(function(){return"Error in conv2d: filter must be rank 4, but got rank "+"".concat(d.rank,".")})),null!=h&&i.hu(i.GN(s),(function(){return"Error in conv2d: pad must be an integer when using, "+"dimRoundingMode ".concat(h," but got pad ").concat(s,".")}));var m="NHWC"===f?v.shape[3]:v.shape[1];i.hu(m===d.shape[2],(function(){return"Error in conv2d: depth of input (".concat(m,") must match ")+"input depth for filter ".concat(d.shape[2],".")})),i.hu(u.jT(r,l),(function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(l,"'")}));var y={x:v,filter:d},b={strides:r,pad:s,dataFormat:f,dilations:l,dimRoundingMode:h},w=e.BV.runKernel(o.mh,y,b);return g?(0,c.X)(w,[w.shape[1],w.shape[2],w.shape[3]]):w}})},29168:function(n,t,r){"use strict";r.d(t,{p:function(){return s}});var e=r(93753),o=r(73135),a=r(21590),i=r(94684),u=r(42776);var s=(0,i.op)({conv2DBackpropFilter_:function(n,t,r,i,s){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",f=arguments.length>6?arguments[6]:void 0,l=n;3===n.rank&&(l=(0,u.X)(n,[1,n.shape[0],n.shape[1],n.shape[2]]));var h=t;3===h.rank&&(h=(0,u.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]])),a.hu(4===l.rank,(function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+"".concat(l.shape,".")})),a.hu(4===h.rank,(function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+"".concat(h.shape,".")})),a.hu(4===r.length,(function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+"".concat(r,".")}));var p="NHWC"===c?l.shape[3]:l.shape[1],d="NHWC"===c?h.shape[3]:h.shape[1];a.hu(p===r[2],(function(){return"Error in conv2dDerFilter: depth of input ".concat(p,") must ")+"match input depth in filter (".concat(r[2],".")})),a.hu(d===r[3],(function(){return"Error in conv2dDerFilter: depth of dy (".concat(d,") must ")+"match output depth for filter (".concat(r[3],").")})),null!=f&&a.hu(a.GN(s),(function(){return"Error in conv2dDerFilter: pad must be an integer when using, "+"dimRoundingMode ".concat(f," but got pad ").concat(s,".")}));var v={x:l,dy:h},g={strides:i,pad:s,dataFormat:c,dimRoundingMode:f,filterShape:r};return e.BV.runKernel(o.wU,v,g)}})},54393:function(n,t,r){"use strict";r.d(t,{_:function(){return s}});var e=r(93753),o=r(73135),a=r(21590),i=r(94684),u=r(42776);var s=(0,i.op)({conv2DBackpropInput_:function(n,t,r,i,s){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",f=arguments.length>6?arguments[6]:void 0;a.hu(n.length===t.rank,(function(){return"Length of inShape "+"(".concat(n.length,") and rank of dy (").concat(t.rank,") must match")}));var l=n,h=t,p=!1;3===t.rank&&(p=!0,h=(0,u.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]]),l=[1,n[0],n[1],n[2]]),a.hu(4===l.length,(function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+"".concat(l.length,".")})),a.hu(4===h.rank,(function(){return"Error in conv2dDerInput: dy must be rank 4, but got "+"rank ".concat(h.rank)})),a.hu(4===r.rank,(function(){return"Error in conv2dDerInput: filter must be rank 4, but got "+"rank ".concat(r.rank)}));var d="NHWC"===c?l[3]:l[1],v="NHWC"===c?h.shape[3]:h.shape[1];a.hu(d===r.shape[2],(function(){return"Error in conv2dDerInput: depth of input (".concat(d,") must ")+"match input depth for filter ".concat(r.shape[2],".")})),a.hu(v===r.shape[3],(function(){return"Error in conv2dDerInput: depth of output (".concat(v,") must ")+"match output depth for filter ".concat(r.shape[3],".")})),null!=f&&a.hu(a.GN(s),(function(){return"Error in conv2dDerInput: pad must be an integer when using, "+"dimRoundingMode ".concat(f," but got pad ").concat(s,".")}));var g={dy:h,filter:r},m={strides:i,pad:s,dataFormat:c,dimRoundingMode:f,inputShape:l},y=e.BV.runKernel(o.wm,g,m);return p?(0,u.X)(y,[y.shape[1],y.shape[2],y.shape[3]]):y}})},92038:function(n,t,r){"use strict";r.d(t,{b:function(){return a}});var e=r(77016),o=r(54393);var a=(0,r(94684).op)({conv2dTranspose_:function(n,t,r,a,i,u){var s=(0,e._1)(n,"x","conv2dTranspose"),c=(0,e._1)(t,"filter","conv2dTranspose");return(0,o._)(r,s,c,a,i,"NHWC",u)}})},24571:function(n,t,r){"use strict";r.d(t,{_:function(){return s}});var e=r(93753),o=r(73135),a=r(21590),i=r(94684),u=r(42776);var s=(0,i.op)({conv3DBackpropInput_:function(n,t,r,i,s){a.hu(n.length===t.rank,(function(){return"Length of inShape "+"(".concat(n.length,") and rank of dy (").concat(t.rank,") must match")}));var c=n,f=t,l=!1;4===t.rank&&(l=!0,f=(0,u.X)(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),c=[1,n[0],n[1],n[2],n[3]]);var h=c[4],p=f.shape[4];a.hu(5===c.length,(function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+"".concat(c.length,".")})),a.hu(5===f.rank,(function(){return"Error in conv3dDerInput: dy must be rank 5, but got "+"rank ".concat(f.rank)})),a.hu(5===r.rank,(function(){return"Error in conv3dDerInput: filter must be rank 5, but got "+"rank ".concat(r.rank)})),a.hu(h===r.shape[3],(function(){return"Error in conv3dDerInput: depth of input (".concat(h,") must ")+"match input depth for filter ".concat(r.shape[3],".")})),a.hu(p===r.shape[4],(function(){return"Error in conv3dDerInput: depth of output (".concat(p,") must ")+"match output depth for filter ".concat(r.shape[4],".")}));var d={dy:f,filter:r},v={pad:s,strides:i,inputShape:c},g=e.BV.runKernel(o.ik,d,v);return l?(0,u.X)(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}})},26526:function(n,t,r){"use strict";r.d(t,{Rf:function(){return a},Xw:function(){return i},pl:function(){return u},Ix:function(){return s},jw:function(){return c},aO:function(){return f},I0:function(){return m},jT:function(){return y},sl:function(){return b}});var e=r(28481),o=r(85061);function a(n,t,r,e){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",i=arguments.length>5?arguments[5]:void 0,u=n[3],c=[].concat((0,o.Z)(t),[u]),f=b(a);return s(n,c,r,i,e,null,null,f)}function i(n,t,r,o,a,i){var u,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",f=l(t),h=(0,e.Z)(f,2),p=h[0],d=h[1];if("channelsLast"===c)u=[p,d,n[3],n[3]];else{if("channelsFirst"!==c)throw new Error("Unknown dataFormat ".concat(c));u=[p,d,n[1],n[1]]}return s(n,u,r,o,a,i,!1,c)}function u(n,t,r,o,a,i){var u,s,f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NDHWC",l=h(t),p=(0,e.Z)(l,3),d=p[0],v=p[1],g=p[2];if("NDHWC"===f)s="channelsLast",u=[d,v,g,n[4],n[4]];else{if("NCDHW"!==f)throw new Error("Unknown dataFormat ".concat(f));s="channelsFirst",u=[d,v,g,n[1],n[1]]}return c(n,u,r,o,a,!1,s,i)}function s(n,t,r,o,a,i){var u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"channelsLast",c=-1,f=-1,h=-1,v=-1;if("channelsLast"===s){var g=(0,e.Z)(n,4);c=g[0],f=g[1],h=g[2],v=g[3]}else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat ".concat(s));var m=(0,e.Z)(n,4);c=m[0],v=m[1],f=m[2],h=m[3]}var y,b=(0,e.Z)(t,4),w=b[0],k=b[1],x=b[3],E=l(r),_=(0,e.Z)(E,2),I=_[0],S=_[1],A=l(o),D=(0,e.Z)(A,2),B=D[0],N=D[1],M=p(w,B),T=p(k,N),R=d(a,f,h,I,S,M,T,i,s),O=R.padInfo,V=R.outHeight,C=R.outWidth,F=u?x*v:x;return"channelsFirst"===s?y=[c,F,V,C]:"channelsLast"===s&&(y=[c,V,C,F]),{batchSize:c,dataFormat:s,inHeight:f,inWidth:h,inChannels:v,outHeight:V,outWidth:C,outChannels:F,padInfo:O,strideHeight:I,strideWidth:S,filterHeight:w,filterWidth:k,effectiveFilterHeight:M,effectiveFilterWidth:T,dilationHeight:B,dilationWidth:N,inShape:n,outShape:y,filterShape:t}}function c(n,t,r,o,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",s=arguments.length>7?arguments[7]:void 0,c=-1,f=-1,l=-1,d=-1,g=-1;if("channelsLast"===u){var m=(0,e.Z)(n,5);c=m[0],f=m[1],l=m[2],d=m[3],g=m[4]}else{if("channelsFirst"!==u)throw new Error("Unknown dataFormat ".concat(u));var y=(0,e.Z)(n,5);c=y[0],g=y[1],f=y[2],l=y[3],d=y[4]}var b,w=(0,e.Z)(t,5),k=w[0],x=w[1],E=w[2],_=w[4],I=h(r),S=(0,e.Z)(I,3),A=S[0],D=S[1],B=S[2],N=h(o),M=(0,e.Z)(N,3),T=M[0],R=M[1],O=M[2],V=p(k,T),C=p(x,R),F=p(E,O),P=v(a,f,l,d,A,D,B,V,C,F,s),Z=P.padInfo,z=P.outDepth,L=P.outHeight,W=P.outWidth,U=i?_*g:_;return"channelsFirst"===u?b=[c,U,z,L,W]:"channelsLast"===u&&(b=[c,z,L,W,U]),{batchSize:c,dataFormat:u,inDepth:f,inHeight:l,inWidth:d,inChannels:g,outDepth:z,outHeight:L,outWidth:W,outChannels:U,padInfo:Z,strideDepth:A,strideHeight:D,strideWidth:B,filterDepth:k,filterHeight:x,filterWidth:E,effectiveFilterDepth:V,effectiveFilterHeight:C,effectiveFilterWidth:F,dilationDepth:T,dilationHeight:R,dilationWidth:O,inShape:n,outShape:b,filterShape:t}}function f(n,t,r){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=p(t,e);return Math.floor((n[0]*(r-1)-r+o)/2)}function l(n){return"number"==typeof n?[n,n,n]:2===n.length?[n[0],n[1],1]:n}function h(n){return"number"==typeof n?[n,n,n]:n}function p(n,t){return t<=1?n:n+(n-1)*(t-1)}function d(n,t,r,e,o,a,i,u,s){var c,l,h;if("number"==typeof n){c={top:n,bottom:n,left:n,right:n,type:0===n?"VALID":"NUMBER"};var p=function(n,t,r,e,o){null==e&&(e=f(n,t,r));var a=n[0],i=n[1];return[g((a-t+2*e)/r+1,o),g((i-t+2*e)/r+1,o)]}([t,r],a,e,n,u);l=p[0],h=p[1]}else if("same"===n){l=Math.ceil(t/e),h=Math.ceil(r/o);var d=Math.max(0,(l-1)*e+a-t),v=Math.max(0,(h-1)*o+i-r),m=Math.floor(d/2),y=d-m,b=Math.floor(v/2);c={top:m,bottom:y,left:b,right:v-b,type:"SAME"}}else if("valid"===n)c={top:0,bottom:0,left:0,right:0,type:"VALID"},l=Math.ceil((t-a+1)/e),h=Math.ceil((r-i+1)/o);else{if("object"!=typeof n)throw Error("Unknown padding parameter: ".concat(n));var w="channelsLast"===s?n[1][0]:n[2][0],k="channelsLast"===s?n[1][1]:n[2][1],x="channelsLast"===s?n[2][0]:n[3][0],E="channelsLast"===s?n[2][1]:n[3][1];c={top:w,bottom:k,left:x,right:E,type:0===w&&0===k&&0===x&&0===E?"VALID":"EXPLICIT"},l=g((t-a+w+k)/e+1,u),h=g((r-i+x+E)/o+1,u)}return{padInfo:c,outHeight:l,outWidth:h}}function v(n,t,r,e,o,a,i,u,s,c,l){var h,p,d,v;if("number"==typeof n){h={top:n,bottom:n,left:n,right:n,front:n,back:n,type:0===n?"VALID":"NUMBER"};var m=function(n,t,r,e,o,a){null==o&&(o=f(n,t,e));var i=n[0],u=n[1],s=n[2];return[g((i-t+2*o)/e+1,a),g((u-t+2*o)/e+1,a),g((s-t+2*o)/e+1,a),r]}([t,r,e,1],u,1,o,n,l);p=m[0],d=m[1],v=m[2]}else if("same"===n){var y=((p=Math.ceil(t/o))-1)*o+u-t,b=((d=Math.ceil(r/a))-1)*a+s-r,w=((v=Math.ceil(e/i))-1)*i+c-e,k=Math.floor(y/2),x=y-k,E=Math.floor(b/2),_=b-E,I=Math.floor(w/2);h={top:E,bottom:_,left:I,right:w-I,front:k,back:x,type:"SAME"}}else{if("valid"!==n)throw Error("Unknown padding parameter: ".concat(n));h={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},p=Math.ceil((t-u+1)/o),d=Math.ceil((r-s+1)/a),v=Math.ceil((e-c+1)/i)}return{padInfo:h,outDepth:p,outHeight:d,outWidth:v}}function g(n,t){if(!t)return Math.trunc(n);switch(t){case"round":return Math.round(n);case"ceil":return Math.ceil(n);case"floor":return Math.floor(n);default:throw new Error("Unknown roundingMode ".concat(t))}}function m(n){var t=l(n),r=(0,e.Z)(t,3),o=r[0],a=r[1],i=r[2];return 1===o&&1===a&&1===i}function y(n,t){return m(n)||m(t)}function b(n){if("NHWC"===n)return"channelsLast";if("NCHW"===n)return"channelsFirst";throw new Error("Unknown dataFormat ".concat(n))}},75418:function(n,t,r){"use strict";r.d(t,{m:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({cos_:function(n){var t={x:(0,a._1)(n,"x","cos")};return e.BV.runKernel(o.mc,t)}})},12297:function(n,t,r){"use strict";r.d(t,{f:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({cosh_:function(n){var t={x:(0,a._1)(n,"x","cosh")};return e.BV.runKernel(o.TR,t)}})},8964:function(n,t,r){"use strict";r.d(t,{z:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({cumsum_:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=(0,a._1)(n,"x","cumsum"),s={x:u},c={axis:t,exclusive:r,reverse:i};return e.BV.runKernel(o.iH,s,c)}})},31072:function(n,t,r){"use strict";r.d(t,{n:function(){return u}});var e=r(93753),o=r(73135),a=r(77016),i=r(21590);var u=(0,r(94684).op)({depthToSpace_:function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NHWC",u=(0,a._1)(n,"x","depthToSpace"),s="NHWC"===r?u.shape[1]:u.shape[2],c="NHWC"===r?u.shape[2]:u.shape[3],f="NHWC"===r?u.shape[3]:u.shape[1];i.hu(s*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n    ".concat(s," and ").concat(t,"  for depthToSpace with input shape\n    ").concat(u.shape)})),i.hu(c*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n    ".concat(c," and ").concat(t," for depthToSpace with input shape\n        ").concat(u.shape)})),i.hu(f%(t*t)==0,(function(){return"Dimension size must be evenly divisible by ".concat(t*t," but is ").concat(f," for depthToSpace with input shape ").concat(u.shape)}));var l={x:u},h={blockSize:t,dataFormat:r};return e.BV.runKernel(o.T0,l,h)}})},15727:function(n,t,r){"use strict";r.d(t,{B:function(){return c}});var e=r(93753),o=r(73135),a=r(77016),i=r(21590),u=r(94684),s=r(42776);var c=(0,u.op)({depthwiseConv2d_:function(n,t,r,u){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],l=arguments.length>6?arguments[6]:void 0,h=(0,a._1)(n,"x","depthwiseConv2d"),p=(0,a._1)(t,"filter","depthwiseConv2d"),d=h,v=!1;3===h.rank&&(v=!0,d=(0,s.X)(h,[1,h.shape[0],h.shape[1],h.shape[2]])),i.hu(4===d.rank,(function(){return"Error in depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(d.rank,".")})),i.hu(4===p.rank,(function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+"".concat(p.rank,".")})),i.hu(d.shape[3]===p.shape[2],(function(){return"Error in depthwiseConv2d: number of input channels "+"(".concat(d.shape[3],") must match the inChannels dimension in ")+"filter ".concat(p.shape[2],".")})),null!=l&&i.hu(i.GN(u),(function(){return"Error in depthwiseConv2d: pad must be an integer when using, "+"dimRoundingMode ".concat(l," but got pad ").concat(u,".")}));var g={x:d,filter:p},m={strides:r,pad:u,dataFormat:c,dilations:f,dimRoundingMode:l},y=e.BV.runKernel(o.ci,g,m);return v?(0,s.X)(y,[y.shape[1],y.shape[2],y.shape[3]]):y}})},87420:function(n,t,r){"use strict";r.d(t,{z:function(){return u}});var e=r(93753),o=r(73135),a=r(94684),i=r(42776);var u=(0,a.op)({depthwiseConv2dNativeBackpropFilter_:function(n,t,r,a,u){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],c=arguments.length>6?arguments[6]:void 0,f=n;3===n.rank&&(f=(0,i.X)(n,[1,n.shape[0],n.shape[1],n.shape[2]]));var l=t;3===l.rank&&(l=(0,i.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var h={x:f,dy:l},p={strides:a,pad:u,dimRoundingMode:c,dilations:s,filterShape:r};return e.BV.runKernel(o.sL,h,p)}})},58071:function(n,t,r){"use strict";r.d(t,{v:function(){return u}});var e=r(93753),o=r(73135),a=r(94684),i=r(42776);var u=(0,a.op)({depthwiseConv2dNativeBackpropInput_:function(n,t,r,a,u){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],c=arguments.length>6?arguments[6]:void 0,f=t,l=!1;3===t.rank&&(l=!0,f=(0,i.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var h={dy:f,filter:r},p={strides:a,pad:u,dimRoundingMode:c,dilations:s,inputShape:n},d=e.BV.runKernel(o.y7,h,p);return l?(0,i.X)(d,[d.shape[1],d.shape[2],d.shape[3]]):d}})},12448:function(n,t,r){"use strict";r.d(t,{W:function(){return c}});var e=r(93753),o=r(73135),a=r(77016),i=r(21590),u=r(94684),s=r(42776);var c=(0,u.op)({dilation2d_:function(n,t,r,u){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",l=(0,a._1)(n,"x","dilation2d"),h=(0,a._1)(t,"filter","dilation2d");i.hu(3===l.rank||4===l.rank,(function(){return"Error in dilation2d: input must be rank 3 or 4, but got rank "+"".concat(l.rank,".")})),i.hu(3===h.rank,(function(){return"Error in dilation2d: filter must be rank 3, but got rank "+"".concat(h.rank,".")})),i.hu("NHWC"===f,(function(){return"Error in dilation2d: Only NHWC is currently supported, "+"but got dataFormat of ".concat(f)}));var p=l,d=!1;3===l.rank&&(p=(0,s.X)(l,[1,l.shape[0],l.shape[1],l.shape[2]]),d=!0);var v={x:p,filter:h},g={strides:r,pad:u,dilations:c},m=e.BV.runKernel(o.p4,v,g);return d?(0,s.X)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}})},51378:function(n,t,r){"use strict";r.d(t,{h:function(){return c}});var e=r(28481),o=r(93753),a=r(73135),i=r(85031),u=r(77016),s=r(12020);var c=(0,r(94684).op)({div_:function(n,t){var r=(0,u._1)(n,"a","div"),c=(0,u._1)(t,"b","div"),f=(0,i.makeTypesMatch)(r,c),l=(0,e.Z)(f,2);if(r=l[0],c=l[1],"int32"===r.dtype&&"int32"===c.dtype)return(0,s.q)(r,c);var h={a:r,b:c};return o.BV.runKernel(a.oH,h,{})}})},33022:function(n,t,r){"use strict";r.d(t,{N:function(){return l}});var e=r(28481),o=r(85031),a=r(77016),i=r(51378),u=r(81552),s=r(94684),c=r(79805),f=r(61919);var l=(0,s.op)({divNoNan_:function(n,t){var r=(0,a._1)(n,"a","div"),s=(0,a._1)(t,"b","div"),l=(0,o.makeTypesMatch)(r,s),h=(0,e.Z)(l,2);r=h[0],s=h[1];var p=(0,i.h)(r,s),d=(0,f.P)(p),v=(0,u.D)(s,d);return(0,c.a)(v,d,p)}})},17204:function(n,t,r){"use strict";r.d(t,{A:function(){return s}});var e=r(77016),o=r(21590),a=r(37326),i=r(94684),u=r(42776);var s=(0,i.op)({dot_:function(n,t){var r=(0,e._1)(n,"t1","dot"),i=(0,e._1)(t,"t2","dot");o.hu(!(1!==r.rank&&2!==r.rank||1!==i.rank&&2!==i.rank),(function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+"".concat(r.rank," and ").concat(i.rank,".")}));var s=1===r.rank?r.size:r.shape[1],c=1===i.rank?i.size:i.shape[0];if(o.hu(s===c,(function(){return"Error in dot: inner dimensions of inputs must match, but got "+"".concat(s," and ").concat(c,".")})),1===r.rank&&1===i.rank){var f=(0,u.X)(r,[1,-1]),l=(0,u.X)(i,[-1,1]),h=(0,a.O)(f,l);return(0,u.X)(h,[])}if(1===r.rank&&2===i.rank){var p=(0,u.X)(r,[1,-1]),d=(0,u.X)(i,[i.shape[0],i.shape[1]]),v=(0,a.O)(p,d);return(0,u.X)(v,[v.size])}if(2===r.rank&&1===i.rank){var g=(0,u.X)(i,[-1,1]),m=(0,a.O)(r,g);return(0,u.X)(m,[m.size])}var y=(0,u.X)(i,[i.shape[0],i.shape[1]]);return(0,a.O)(r,y)}})},93374:function(n,t,r){"use strict";r.d(t,{p:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({elu_:function(n){var t={x:(0,a._1)(n,"x","elu")};return e.BV.runKernel(o.SX,t)}})},81552:function(n,t,r){"use strict";r.d(t,{D:function(){return c}});var e=r(28481),o=r(93753),a=r(73135),i=r(85031),u=r(77016),s=r(35828);var c=(0,r(94684).op)({equal_:function(n,t){var r=(0,u._1)(n,"a","equal"),c=(0,u._1)(t,"b","equal"),f=(0,i.makeTypesMatch)(r,c),l=(0,e.Z)(f,2);r=l[0],c=l[1],(0,s.$N)(r.shape,c.shape);var h={a:r,b:c};return o.BV.runKernel(a.hd,h)}})},59226:function(n,t,r){"use strict";r.d(t,{q:function(){return s}});var e=r(93753),o=r(73135),a=r(77016),i=r(21590),u=r(12576);var s=(0,r(94684).op)({erf_:function(n){var t=(0,a._1)(n,"x","erf");i.hu("int32"===t.dtype||"float32"===t.dtype,(function(){return"Input dtype must be `int32` or `float32`."})),"int32"===t.dtype&&(t=(0,u.p)(t,"float32"));var r={x:t};return e.BV.runKernel(o.Om,r)}})},89342:function(n,t,r){"use strict";r.d(t,{Q:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({exp_:function(n){var t={x:(0,a._1)(n,"x","exp")};return e.BV.runKernel(o.NE,t)}})},77814:function(n,t,r){"use strict";r.d(t,{d:function(){return u}});var e=r(93753),o=r(73135),a=r(77016),i=r(21590);var u=(0,r(94684).op)({expandDims_:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(0,a._1)(n,"x","expandDims","string_or_numeric");i.hu(t<=r.rank,(function(){return"Axis must be <= rank of the tensor"}));var u={input:r},s={dim:t};return e.BV.runKernel(o.YF,u,s)}})},3199:function(n,t,r){"use strict";r.d(t,{t:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({expm1_:function(n){var t={x:(0,a._1)(n,"x","expm1")};return e.BV.runKernel(o.Y0,t)}})},87729:function(n,t,r){"use strict";r.d(t,{G:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({floor_:function(n){var t={x:(0,a._1)(n,"x","floor")};return e.BV.runKernel(o.OR,t)}})},12020:function(n,t,r){"use strict";r.d(t,{q:function(){return s}});var e=r(28481),o=r(93753),a=r(73135),i=r(85031),u=r(77016);var s=(0,r(94684).op)({floorDiv_:function(n,t){var r=(0,u._1)(n,"a","floorDiv"),s=(0,u._1)(t,"b","floorDiv"),c=(0,i.makeTypesMatch)(r,s),f=(0,e.Z)(c,2),l={a:r=f[0],b:s=f[1]};return o.BV.runKernel(a.je,l)}})},12250:function(n,t,r){"use strict";r.d(t,{I:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({gather_:function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,u=(0,a._1)(n,"x","gather"),s=(0,a._1)(t,"indices","gather","int32"),c={x:u,indices:s},f={axis:r,batchDims:i};return e.BV.runKernel(o.qi,c,f)}})},53315:function(n,t,r){"use strict";r.d(t,{p:function(){return c}});var e=r(28481),o=r(93753),a=r(73135),i=r(85031),u=r(77016),s=r(35828);var c=(0,r(94684).op)({greater_:function(n,t){var r=(0,u._1)(n,"a","greater"),c=(0,u._1)(t,"b","greater"),f=(0,i.makeTypesMatch)(r,c),l=(0,e.Z)(f,2);r=l[0],c=l[1],(0,s.$N)(r.shape,c.shape);var h={a:r,b:c};return o.BV.runKernel(a.iZ,h)}})},37446:function(n,t,r){"use strict";r.d(t,{b:function(){return c}});var e=r(28481),o=r(93753),a=r(73135),i=r(85031),u=r(77016),s=r(35828);var c=(0,r(94684).op)({greaterEqual_:function(n,t){var r=(0,u._1)(n,"a","greaterEqual"),c=(0,u._1)(t,"b","greaterEqual"),f=(0,i.makeTypesMatch)(r,c),l=(0,e.Z)(f,2);r=l[0],c=l[1],(0,s.$N)(r.shape,c.shape);var h={a:r,b:c};return o.BV.runKernel(a.Ac,h)}})},57079:function(n,t,r){"use strict";r.d(t,{a:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({imag_:function(n){var t={input:(0,a._1)(n,"input","imag")};return e.BV.runKernel(o.J_,t)}})},87568:function(n,t,r){"use strict";r.d(t,{I:function(){return f}});var e=r(99809),o=r(93753),a=r(73135),i=r(77016),u=r(21590),s=r(94684),c=r(42776);var f=(0,s.op)({resizeBilinear_:function(n,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],f=(0,i._1)(n,"images","resizeBilinear");u.hu(3===f.rank||4===f.rank,(function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got "+"rank ".concat(f.rank,".")})),u.hu(2===t.length,(function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+"".concat(t,".")})),u.hu(!1===s||!1===r,(function(){return"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."}));var l=f,h=!1;3===f.rank&&(h=!0,l=(0,c.X)(f,[1,f.shape[0],f.shape[1],f.shape[2]])),(0,e.Z)(t);var p={images:l},d={alignCorners:r,halfPixelCenters:s,size:t},v=o.BV.runKernel(a._Y,p,d);return h?(0,c.X)(v,[v.shape[1],v.shape[2],v.shape[3]]):v}})},87672:function(n,t,r){"use strict";r.d(t,{j:function(){return f}});var e=r(99809),o=r(93753),a=r(73135),i=r(77016),u=r(21590),s=r(94684),c=r(42776);var f=(0,s.op)({resizeNearestNeighbor_:function(n,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],f=(0,i._1)(n,"images","resizeNearestNeighbor");u.hu(3===f.rank||4===f.rank,(function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+"rank ".concat(f.rank,".")})),u.hu(2===t.length,(function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+"".concat(t,".")})),u.hu("float32"===f.dtype||"int32"===f.dtype,(function(){return"`images` must have `int32` or `float32` as dtype"})),u.hu(!1===s||!1===r,(function(){return"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."}));var l=f,h=!1;3===f.rank&&(h=!0,l=(0,c.X)(f,[1,f.shape[0],f.shape[1],f.shape[2]])),(0,e.Z)(t);var p={images:l},d={alignCorners:r,halfPixelCenters:s,size:t},v=o.BV.runKernel(a.dp,p,d);return h?(0,c.X)(v,[v.shape[1],v.shape[2],v.shape[3]]):v}})},92403:function(n,t,r){"use strict";r.d(t,{x:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({isFinite_:function(n){var t={x:(0,a._1)(n,"x","isFinite")};return e.BV.runKernel(o.av,t)}})},62475:function(n,t,r){"use strict";r.d(t,{U:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({isInf_:function(n){var t={x:(0,a._1)(n,"x","isInf")};return e.BV.runKernel(o.iW,t)}})},51991:function(n,t,r){"use strict";r.d(t,{i:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({isNaN_:function(n){var t={x:(0,a._1)(n,"x","isNaN")};return e.BV.runKernel(o.r7,t)}})},44124:function(n,t,r){"use strict";r.d(t,{h:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({leakyRelu_:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,r=(0,a._1)(n,"x","leakyRelu"),i={x:r},u={alpha:t};return e.BV.runKernel(o.J$,i,u)}})},60634:function(n,t,r){"use strict";r.d(t,{d:function(){return c}});var e=r(28481),o=r(93753),a=r(73135),i=r(85031),u=r(77016),s=r(35828);var c=(0,r(94684).op)({less_:function(n,t){var r=(0,u._1)(n,"a","less"),c=(0,u._1)(t,"b","less"),f=(0,i.makeTypesMatch)(r,c),l=(0,e.Z)(f,2);r=l[0],c=l[1],(0,s.$N)(r.shape,c.shape);var h={a:r,b:c};return o.BV.runKernel(a.vt,h)}})},24982:function(n,t,r){"use strict";r.d(t,{z:function(){return c}});var e=r(28481),o=r(93753),a=r(73135),i=r(85031),u=r(77016),s=r(35828);var c=(0,r(94684).op)({lessEqual_:function(n,t){var r=(0,u._1)(n,"a","lessEqual"),c=(0,u._1)(t,"b","lessEqual"),f=(0,i.makeTypesMatch)(r,c),l=(0,e.Z)(f,2);r=l[0],c=l[1],(0,s.$N)(r.shape,c.shape);var h={a:r,b:c};return o.BV.runKernel(a.CA,h)}})},61379:function(n,t,r){"use strict";r.d(t,{G:function(){return c}});var e=r(93753),o=r(73135),a=r(77016),i=r(21590),u=r(94684),s=r(42776);var c=(0,u.op)({localResponseNormalization_:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,f=(0,a._1)(n,"x","localResponseNormalization");i.hu(4===f.rank||3===f.rank,(function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ".concat(f.rank,".")})),i.hu(i.GN(t),(function(){return"Error in localResponseNormalization: depthRadius must be an "+"integer but got depthRadius ".concat(t,".")}));var l=f,h=!1;3===f.rank&&(h=!0,l=(0,s.X)(f,[1,f.shape[0],f.shape[1],f.shape[2]]));var p={x:l},d={depthRadius:t,bias:r,alpha:u,beta:c},v=e.BV.runKernel(o.eZ,p,d);return h?(0,s.X)(v,[v.shape[1],v.shape[2],v.shape[3]]):v}})},412:function(n,t,r){"use strict";r.d(t,{c:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({log_:function(n){var t={x:(0,a._1)(n,"x","log")};return e.BV.runKernel(o.Zb,t)}})},70346:function(n,t,r){"use strict";r.d(t,{K:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({log1p_:function(n){var t={x:(0,a._1)(n,"x","log1p")};return e.BV.runKernel(o.kU,t)}})},92574:function(n,t,r){"use strict";r.d(t,{e:function(){return f}});var e=r(33530),o=r(77016),a=r(63313),i=r(43878),u=r(94684),s=r(34310),c=r(49422);var f=(0,u.op)({logSigmoid_:function(n){var t=(0,o._1)(n,"x","logSigmoid");return(0,e.cb)((function(n){return{value:(0,i.W)((0,c.W)((0,i.W)(n))),gradFunc:function(t){return(0,a.d)(t,(0,s.X)((0,i.W)(n)))}}}))(t)}})},46934:function(n,t,r){"use strict";r.d(t,{C:function(){return d}});var e=r(28481),o=r(33530),a=r(77016),i=r(12576),u=r(89342),s=r(412),c=r(89571),f=r(63313),l=r(94684),h=r(6383),p=r(96422);var d=(0,l.op)({logSoftmax_:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=(0,a._1)(n,"logits","logSoftmax");if(-1===t&&(t=r.rank-1),t!==r.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(r.rank," and axis was ").concat(t));var l=(0,o.cb)((function(n,r){var o=(0,c.F)(n,t,!0),a=(0,h.l)(n,o),l=(0,h.l)((0,i.p)(a,"float32"),(0,s.c)((0,p.S)((0,u.Q)(a),t,!0)));r([l]);return{value:l,gradFunc:function(n,r){var o=(0,e.Z)(r,1)[0],a=(0,u.Q)(o);return(0,h.l)(n,(0,f.d)((0,p.S)(n,t,!0),a))}}}));return l(r)}})},36622:function(n,t,r){"use strict";r.d(t,{l:function(){return d}});var e=r(77016),o=r(21590),a=r(93263),i=r(4465),u=r(89342),s=r(412),c=r(89571),f=r(94684),l=r(42776),h=r(6383),p=r(96422);var d=(0,f.op)({logSumExp_:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],f=(0,e._1)(n,"x","logSumExp"),d=(0,o.EC)(t,f.shape),v=(0,c.F)(f,d,!0),g=(0,h.l)(f,v),m=(0,u.Q)(g),y=(0,p.S)(m,d),b=(0,s.c)(y),w=(0,a.I)((0,l.X)(v,b.shape),b);if(r){var k=(0,i.rv)(w.shape,d);return(0,l.X)(w,k)}return w}})},70686:function(n,t,r){"use strict";r.d(t,{H:function(){return u}});var e=r(93753),o=r(73135),a=r(77016),i=r(35828);var u=(0,r(94684).op)({logicalAnd_:function(n,t){var r=(0,a._1)(n,"a","logicalAnd","bool"),u=(0,a._1)(t,"b","logicalAnd","bool");(0,i.$N)(r.shape,u.shape);var s={a:r,b:u};return e.BV.runKernel(o.PY,s)}})},92240:function(n,t,r){"use strict";r.d(t,{h:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({logicalNot_:function(n){var t={x:(0,a._1)(n,"x","logicalNot","bool")};return e.BV.runKernel(o.Vf,t)}})},15999:function(n,t,r){"use strict";r.d(t,{K:function(){return u}});var e=r(93753),o=r(73135),a=r(77016),i=r(35828);var u=(0,r(94684).op)({logicalOr_:function(n,t){var r=(0,a._1)(n,"a","logicalOr","bool"),u=(0,a._1)(t,"b","logicalOr","bool");(0,i.$N)(r.shape,u.shape);var s={a:r,b:u};return e.BV.runKernel(o.MZ,s)}})},22841:function(n,t,r){"use strict";r.d(t,{e:function(){return s}});var e=r(77016),o=r(35828),a=r(70686),i=r(92240),u=r(15999);var s=(0,r(94684).op)({logicalXor_:function(n,t){var r=(0,e._1)(n,"a","logicalXor","bool"),s=(0,e._1)(t,"b","logicalXor","bool");return(0,o.$N)(r.shape,s.shape),(0,a.H)((0,u.K)(n,t),(0,i.h)((0,a.H)(n,t)))}})},37326:function(n,t,r){"use strict";r.d(t,{O:function(){return s}});var e=r(28481),o=r(93753),a=r(73135),i=r(85031),u=r(77016);var s=(0,r(94684).op)({matMul_:function(n,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=(0,u._1)(n,"a","matMul"),f=(0,u._1)(t,"b","matMul"),l=(0,i.makeTypesMatch)(c,f),h=(0,e.Z)(l,2),p={a:c=h[0],b:f=h[1]},d={transposeA:r,transposeB:s};return o.BV.runKernel(a.XL,p,d)}})},89571:function(n,t,r){"use strict";r.d(t,{F:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({max_:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=(0,a._1)(n,"x","max"),u={x:i},s={reductionIndices:t,keepDims:r};return e.BV.runKernel(o.Yo,u,s)}})},61605:function(n,t,r){"use strict";r.d(t,{_:function(){return f}});var e=r(93753),o=r(73135),a=r(77016),i=r(21590),u=r(26526),s=r(94684),c=r(42776);var f=(0,s.op)({maxPool_:function(n,t,r,s,f){var l=(0,a._1)(n,"x","maxPool"),h=l,p=!1;3===l.rank&&(p=!0,h=(0,c.X)(l,[1,l.shape[0],l.shape[1],l.shape[2]])),i.hu(4===h.rank,(function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(h.rank,".")})),i.hu(u.jT(r,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(r," and dilations '").concat(1,"'")})),null!=f&&i.hu(i.GN(s),(function(){return"Error in maxPool: pad must be an integer when using, "+"dimRoundingMode ".concat(f," but got pad ").concat(s,".")}));var d={x:h},v={filterSize:t,strides:r,pad:s,dimRoundingMode:f},g=e.BV.runKernel(o.mT,d,v);return p?(0,c.X)(g,[g.shape[1],g.shape[2],g.shape[3]]):g}})},91907:function(n,t,r){"use strict";r.d(t,{g:function(){return f}});var e=r(28481),o=r(93753),a=r(73135),i=r(85031),u=r(77016),s=r(35828),c=r(12576);var f=(0,r(94684).op)({maximum_:function(n,t){var r=(0,u._1)(n,"a","maximum"),f=(0,u._1)(t,"b","maximum"),l=(0,i.makeTypesMatch)(r,f),h=(0,e.Z)(l,2);r=h[0],f=h[1],"bool"===r.dtype&&(r=(0,c.p)(r,"int32"),f=(0,c.p)(f,"int32")),(0,s.$N)(r.shape,f.shape);var p={a:r,b:f};return o.BV.runKernel(a.BM,p)}})},2267:function(n,t,r){"use strict";r.d(t,{J:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({mean_:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=(0,a._1)(n,"x","mean"),u={x:i},s={axis:t,keepDims:r};return e.BV.runKernel(o.q2,u,s)}})},20262:function(n,t,r){"use strict";r.d(t,{V:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({min_:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=(0,a._1)(n,"x","min"),u={x:i},s={axis:t,keepDims:r};return e.BV.runKernel(o.c1,u,s)}})},12773:function(n,t,r){"use strict";r.d(t,{L:function(){return f}});var e=r(28481),o=r(93753),a=r(73135),i=r(85031),u=r(77016),s=r(35828),c=r(12576);var f=(0,r(94684).op)({minimum_:function(n,t){var r=(0,u._1)(n,"a","minimum"),f=(0,u._1)(t,"b","minimum"),l=(0,i.makeTypesMatch)(r,f),h=(0,e.Z)(l,2);r=h[0],f=h[1],"bool"===r.dtype&&(r=(0,c.p)(r,"int32"),f=(0,c.p)(f,"int32")),(0,s.$N)(r.shape,f.shape);var p={a:r,b:f};return o.BV.runKernel(a.q8,p)}})},6550:function(n,t,r){"use strict";r.d(t,{V:function(){return u}});var e=r(93753),o=r(73135),a=r(77016),i=r(21590);var u=(0,r(94684).op)({mirrorPad_:function(n,t,r){i.hu("reflect"===r||"symmetric"===r,(function(){return"Invalid mode. Mode must be either reflect or symmetric. "+"Got ".concat(r,".")}));var u=(0,a._1)(n,"x","mirrorPad");if(0===u.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");i.hu(t.length===u.rank,(function(){return"Padding doesn't match input. Must be ".concat(u.rank,". ")+"Got ".concat(t.length,".")}));for(var s="reflect"===r?1:0,c=function(n){i.hu(2===t[n].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),i.hu(t[n][0]>=0&&t[n][0]<=u.shape[n]-s&&t[n][1]>=0&&t[n][1]<=u.shape[n]-s,(function(){return"Padding in dimension ".concat(n," cannot be greater than or equal ")+"to ".concat(u.shape[n]-s," or less than 0 for input of ")+"shape ".concat(u.shape)}))},f=0;f<u.rank;f++)c(f);var l={paddings:t,mode:r},h={x:u};return e.BV.runKernel(o.jQ,h,l)}})},98009:function(n,t,r){"use strict";r.d(t,{w:function(){return s}});var e=r(28481),o=r(93753),a=r(73135),i=r(85031),u=r(77016);var s=(0,r(94684).op)({mod_:function(n,t){var r=(0,u._1)(n,"a","mod"),s=(0,u._1)(t,"b","mod"),c=(0,i.makeTypesMatch)(r,s),f=(0,e.Z)(c,2),l={a:r=f[0],b:s=f[1]};return o.BV.runKernel(a.Vb,l)}})},63313:function(n,t,r){"use strict";r.d(t,{d:function(){return s}});var e=r(28481),o=r(93753),a=r(73135),i=r(85031),u=r(77016);var s=(0,r(94684).op)({mul_:function(n,t){var r=(0,u._1)(n,"a","mul"),s=(0,u._1)(t,"b","mul"),c=(0,i.makeTypesMatch)(r,s),f=(0,e.Z)(c,2),l={a:r=f[0],b:s=f[1]};return o.BV.runKernel(a.wY,l)}})},43878:function(n,t,r){"use strict";r.d(t,{W:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({neg_:function(n){var t={x:(0,a._1)(n,"x","neg")};return e.BV.runKernel(o.ku,t)}})},61803:function(n,t,r){"use strict";r.d(t,{K:function(){return m}});var e=r(77016),o=r(21590),a=r(76706),i=r(4465),u=r(89571),s=r(20262),c=r(94684),f=r(25153),l=r(42776),h=r(86932),p=r(84509),d=r(80275),v=r(96422);function g(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===n.rank)return(0,a.W)(n);if(1!==n.rank&&null===r)return g((0,l.X)(n,[-1]),t,r);if(1===n.rank||"number"==typeof r||Array.isArray(r)&&1===r.length){if(1===t)return(0,v.S)((0,a.W)(n),r);if(t===1/0)return(0,u.F)((0,a.W)(n),r);if(t===-1/0)return(0,s.V)((0,a.W)(n),r);if("euclidean"===t||2===t)return(0,p._)((0,v.S)((0,f.s)((0,a.W)(n),(0,h.i)(2,"int32")),r));throw new Error("Error in norm: invalid ord value: ".concat(t))}if(Array.isArray(r)&&2===r.length){if(1===t)return(0,u.F)((0,v.S)((0,a.W)(n),r[0]),r[1]-1);if(t===1/0)return(0,u.F)((0,v.S)((0,a.W)(n),r[1]),r[0]);if(t===-1/0)return(0,s.V)((0,v.S)((0,a.W)(n),r[1]),r[0]);if("fro"===t||"euclidean"===t)return(0,p._)((0,v.S)((0,d.h)(n),r));throw new Error("Error in norm: invalid ord value: ".concat(t))}throw new Error("Error in norm: invalid axis: ".concat(r))}var m=(0,c.op)({norm_:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"euclidean",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=g(n=(0,e._1)(n,"x","norm"),t,r),s=u.shape;if(a){var c=(0,o.EC)(r,n.shape);s=i.rv(u.shape,c)}return(0,l.X)(u,s)}})},87102:function(n,t,r){"use strict";r.d(t,{Q:function(){return c}});var e=r(28481),o=r(93753),a=r(73135),i=r(85031),u=r(77016),s=r(35828);var c=(0,r(94684).op)({notEqual_:function(n,t){var r=(0,u._1)(n,"a","notEqual"),c=(0,u._1)(t,"b","notEqual"),f=(0,i.makeTypesMatch)(r,c),l=(0,e.Z)(f,2);r=l[0],c=l[1],(0,s.$N)(r.shape,c.shape);var h={a:r,b:c};return o.BV.runKernel(a.yQ,h)}})},53058:function(n,t,r){"use strict";r.d(t,{l:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({oneHot_:function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(t<2)throw new Error("Error in oneHot: depth must be >=2, but it is ".concat(t));var u=(0,a._1)(n,"indices","oneHot","int32"),s={indices:u},c={depth:t,onValue:r,offValue:i};return e.BV.runKernel(o.we,s,c)}})},30898:function(n,t,r){"use strict";r.d(t,{i:function(){return u}});var e=r(93753),o=r(21590),a=r(34594),i=r(90345);function u(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if("complex64"===t){var r=u(n,"float32"),s=(0,i.l)(n,"float32");return(0,a.P)(r,s)}var c=(0,o.p8)((0,o.NA)(n),t);return e.BV.makeTensor(c,n,t)}},86989:function(n,t,r){"use strict";r.d(t,{J:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({onesLike_:function(n){var t={x:(0,a._1)(n,"x","onesLike")};return e.BV.runKernel(o.qW,t)}})},94684:function(n,t,r){"use strict";r.d(t,{z:function(){return a},op:function(){return i}});var e=r(93753),o=r(21590),a="__op";function i(n){var t=Object.keys(n);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+"".concat(t.length," keys."));var r=t[0],i=n[r];r.endsWith("_")&&(r=r.substring(0,r.length-1)),r+=a;var u=function(){e.BV.startScope(r);try{var n=i.apply(void 0,arguments);return(0,o.tI)(n)&&console.error("Cannot return a Promise inside of tidy."),e.BV.endScope(n),n}catch(t){throw e.BV.endScope(null),t}};return Object.defineProperty(u,"name",{value:r,configurable:!0}),u}},59876:function(n,t,r){"use strict";r.d(t,{v:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({pad_:function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=(0,a._1)(n,"x","pad");if(0===i.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var u={paddings:t,constantValue:r},s={x:i};return e.BV.runKernel(o.ly,s,u)}})},19645:function(n,t,r){"use strict";r.d(t,{d:function(){return p}});var e=r(28481),o=r(77016),a=r(21590),i=r(51229),u=r(6603),s=r(26526),c=r(61605),f=r(94684),l=r(42776),h=r(55406);var p=(0,f.op)({pool_:function(n,t,r,f,p,d){null==p&&(p=[1,1]),null==d&&(d=1),0===f&&(f="valid");var v=(0,o._1)(n,"x","maxPool"),g=v,m=!1;3===v.rank&&(m=!0,g=(0,l.X)(v,[1,v.shape[0],v.shape[1],v.shape[2]])),a.hu(s.jT(d,p),(function(){return"Error in pool: Either strides or dilations must be 1. "+"Got strides ".concat(d," and dilations '").concat(p,"'")}));var y,b=s.Xw(g.shape,t,d,p,f),w=[b.dilationHeight,b.dilationWidth];y="same"===f?function(n,t){var r=n.map((function(n,r){return n+(n-1)*(t[r]-1)})).map((function(n){return n-1})),e=r.map((function(n){return Math.floor(n/2)})),o=r.map((function(n,t){return n-e[t]}));return r.map((function(n,t){return[e[t],o[t]]}))}([b.filterHeight,b.filterWidth],w):[[0,0],[0,0]];var k=1===w[0]&&1===w[1],x=function(n,t,r){var e=r.map((function(n){return n[0]})),o=r.map((function(n){return n[1]})),a=n.concat(e,o),i=t.map((function(n,t){return(n-a[t]%n)%n})),u=o.map((function(n,t){return n+i[t]})),s=t.map((function(n,t){return[e[t],u[t]]})),c=t.map((function(n,t){return[0,i[t]]}));return[s,c]}([b.inHeight,b.inWidth],w,y),E=(0,e.Z)(x,2),_=E[0],I=E[1],S=k?f:"valid",A=k?g:(0,h.f)(g,w,_),D=("avg"===r?function(){return(0,i.w)(A,t,d,S)}:function(){return(0,c._)(A,t,d,S)})(),B=k?D:(0,u.E)(D,w,I);return m?(0,l.X)(B,[B.shape[1],B.shape[2],B.shape[3]]):B}})},25153:function(n,t,r){"use strict";r.d(t,{s:function(){return s}});var e=r(28481),o=r(93753),a=r(73135),i=r(85031),u=r(77016);var s=(0,r(94684).op)({pow_:function(n,t){var r=(0,u._1)(n,"base","pow"),s=(0,u._1)(t,"exp","pow"),c=(0,i.makeTypesMatch)(r,s),f=(0,e.Z)(c,2),l={a:r=f[0],b:s=f[1]};return o.BV.runKernel(a.pe,l)}})},99357:function(n,t,r){"use strict";r.d(t,{A:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({prelu_:function(n,t){var r={x:(0,a._1)(n,"x","prelu"),alpha:(0,a._1)(t,"alpha","prelu")};return e.BV.runKernel(o.o0,r)}})},13560:function(n,t,r){"use strict";r.d(t,{W:function(){return u}});var e=r(93753),o=r(73135),a=r(77016),i=r(12576);var u=(0,r(94684).op)({prod_:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=(0,a._1)(n,"x","prod");"bool"===u.dtype&&(u=(0,i.p)(u,"int32"));var s={x:u},c={axis:t,keepDims:r};return e.BV.runKernel(o.Dl,s,c)}})},30792:function(n,t,r){"use strict";r.d(t,{k:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({real_:function(n){var t={input:(0,a._1)(n,"input","real")};return e.BV.runKernel(o.xJ,t)}})},14980:function(n,t,r){"use strict";r.d(t,{M:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({reciprocal_:function(n){var t={x:(0,a._1)(n,"x","reciprocal")};return e.BV.runKernel(o.$H,t)}})},35657:function(n,t,r){"use strict";r.d(t,{U:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({relu_:function(n){var t={x:(0,a._1)(n,"x","relu")};return e.BV.runKernel(o.qk,t)}})},85679:function(n,t,r){"use strict";r.d(t,{b:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({relu6_:function(n){var t={x:(0,a._1)(n,"x","relu6")};return e.BV.runKernel(o.Sb,t)}})},42776:function(n,t,r){"use strict";r.d(t,{X:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({reshape_:function(n,t){var r={x:(0,a._1)(n,"x","reshape","string_or_numeric")},i={shape:t};return e.BV.runKernel(o.HZ,r,i)}})},69756:function(n,t,r){"use strict";r.d(t,{G:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({reverse_:function(n,t){var r={x:(0,a._1)(n,"x","reverse")},i={dims:t};return e.BV.runKernel(o.mK,r,i)}})},70538:function(n,t,r){"use strict";r.d(t,{N:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({round_:function(n){var t={x:(0,a._1)(n,"x","round")};return e.BV.runKernel(o.e0,t)}})},38387:function(n,t,r){"use strict";r.d(t,{b:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({rsqrt_:function(n){var t={x:(0,a._1)(n,"x","rsqrt")};return e.BV.runKernel(o.bV,t)}})},86932:function(n,t,r){"use strict";r.d(t,{i:function(){return a}});var e=r(21590),o=r(62363);function a(n,t){if(((0,e.fU)(n)&&"string"!==t||Array.isArray(n))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&(0,e.fU)(n)&&!(n instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return(0,o.H)(n,[],[],t)}},6839:function(n,t,r){"use strict";r.d(t,{U:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({selu_:function(n){var t={x:(0,a._1)(n,"x","selu")};return e.BV.runKernel(o.oF,t)}})},25066:function(n,t,r){"use strict";r.d(t,{y:function(){return e},$:function(){return o}});var e=1.7580993408473768,o=1.0507009873554805},78898:function(n,t,r){"use strict";r.d(t,{U:function(){return c}});var e=r(77016),o=r(21590),a=r(55303),i=r(15727),u=r(94684),s=r(42776);var c=(0,u.op)({separableConv2d_:function(n,t,r,u,c){var f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NHWC",h=(0,e._1)(n,"x","separableConv2d"),p=(0,e._1)(t,"depthwiseFilter","separableConv2d"),d=(0,e._1)(r,"pointwiseFilter","separableConv2d"),v=h,g=!1;if(3===h.rank&&(g=!0,v=(0,s.X)(h,[1,h.shape[0],h.shape[1],h.shape[2]])),"NCHW"===l)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");o.hu(4===v.rank,(function(){return"Error in separableConv2d: input must be rank 4, but got "+"rank ".concat(v.rank,".")})),o.hu(4===p.rank,(function(){return"Error in separableConv2d: depthwise filter must be rank 4, but "+"got rank ".concat(p.rank,".")})),o.hu(4===d.rank,(function(){return"Error in separableConv2d: pointwise filter must be rank 4, but "+"got rank ".concat(p.rank,".")})),o.hu(1===d.shape[0],(function(){return"Error in separableConv2d: the first dimension of pointwise filter "+" must be 1, but got ".concat(d.shape[0],".")})),o.hu(1===d.shape[1],(function(){return"Error in separableConv2d: the second dimension of pointwise "+"filter must be 1, but got ".concat(d.shape[1],".")}));var m=p.shape[2],y=p.shape[3];o.hu(d.shape[2]===m*y,(function(){return"Error in separableConv2d: the third dimension of pointwise filter "+"must be ".concat(m*y,", ")+"but got ".concat(d.shape[2],".")}));var b=(0,i.B)(v,p,u,c,l,f),w=1,k=(0,a.T)(b,d,w,"valid",l);return g?(0,s.X)(k,[k.shape[1],k.shape[2],k.shape[3]]):k}})},34310:function(n,t,r){"use strict";r.d(t,{X:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({sigmoid_:function(n){var t={x:(0,a._1)(n,"x","sigmoid")};return e.BV.runKernel(o.a5,t)}})},12180:function(n,t,r){"use strict";r.d(t,{X:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({sign_:function(n){var t={x:(0,a._1)(n,"x","sign")};return e.BV.runKernel(o.i5,t)}})},33402:function(n,t,r){"use strict";r.d(t,{O:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({sin_:function(n){var t={x:(0,a._1)(n,"x","sin")};return e.BV.runKernel(o.RQ,t)}})},51305:function(n,t,r){"use strict";r.d(t,{R:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({sinh_:function(n){var t={x:(0,a._1)(n,"x","sinh")};return e.BV.runKernel(o.w3,t)}})},94669:function(n,t,r){"use strict";r.d(t,{t:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({slice_:function(n,t,r){var i=(0,a._1)(n,"x","slice","string_or_numeric");if(0===i.rank)throw new Error("Slicing scalar is not possible");var u={x:i},s={begin:t,size:r};return e.BV.runKernel(o.p2,u,s)}})},5538:function(n,t,r){"use strict";r.r(t),r.d(t,{assertParamsValid:function(){return a},maskToAxes:function(){return i},computeOutShape:function(){return u},stridesWithElidedDims:function(){return s},getNormalizedAxes:function(){return l},startIndicesWithElidedDims:function(){return h},stopIndicesWithElidedDims:function(){return p},stridesForAxis:function(){return d},startForAxis:function(){return v},stopForAxis:function(){return g},isSliceContinous:function(){return m},computeFlatOffset:function(){return y},parseSliceParams:function(){return b},sliceInfo:function(){return w}});var e=r(85061),o=r(21590);function a(n,t,r){var e=n.shape.length;o.hu(e===t.length,(function(){return"Error in slice".concat(e,"D: Length of begin ").concat(t," must ")+"match the rank of the array (".concat(e,").")})),o.hu(e===r.length,(function(){return"Error in slice".concat(e,"D: Length of size ").concat(r," must ")+"match the rank of the array (".concat(e,").")}));for(var a=function(a){o.hu(t[a]+r[a]<=n.shape[a],(function(){return"Error in slice".concat(e,"D: begin[").concat(a,"] + size[").concat(a,"] ")+"(".concat(t[a]+r[a],") would overflow input.shape[").concat(a,"] (").concat(n.shape[a],")")}))},i=0;i<e;++i)a(i)}function i(n){for(var t=[],r=0;n>0;)1&n&&t.push(r),n/=2,r++;return t}function u(n,t,r){for(var e=[],o=0;o<n.length;o++)e[o]=Math.ceil((t[o]-n[o])/r[o]);return e}function s(n,t,r,o){for(var a=(0,e.Z)(n),i=a.length;i<o.length;i++)a.push(1);for(var u=0;u<r;u++)0===u?a[t]=1:(a.splice(t,0,1),a.pop());return a}function c(n,t,r){return r<=n?r:r-(t-1)}function f(n,t){for(var r=[],e=0;e<n;e++)r.push(t+e);return r}function l(n,t,r,e,o,a,i,u,c){var f=n.length,l=new Array(f),m=new Array(f),y=new Array(f);if(t.length&&r>0){var b=t[0],w=r+1;l=h(i,b,w,e,n),m=p(u,b,w,o,n),y=s(a,b,w,n)}else for(var k=0;k<f;k++)l[k]=v(i,e,a,n,k,c),m[k]=g(u,o,a,n,k,c),y[k]=d(a,k,c);return{begin:l,end:m,strides:y}}function h(n,t,r,o,a){for(var i=(0,e.Z)(a),u=f(r,t),s=0;s<i.length;s++)if(u.indexOf(s)>-1)i[s]=0;else{var l=c(t,r,s),h=o[l];n&1<<l&&(h=0),i[s]=h}return i}function p(n,t,r,a,i){for(var u=(0,e.Z)(i),s=f(r,t),l=0;l<u.length;l++)if(s.indexOf(l)>-1)u[l]=Number.MAX_SAFE_INTEGER;else{var h=c(t,r,l),p=a[h];n&1<<h&&(p=Number.MAX_SAFE_INTEGER),u[l]=p}for(var d=0;d<u.length;d++){var v=i[d];u[d]<0&&(u[d]+=v),u[d]=o.uZ(0,u[d],i[d])}return u}function d(n,t,r){var e=n[t];return(r&1<<t||null==e)&&(e=1),e}function v(n,t,r,e,a,i){var u=t[a],s=r[a]||1;(n&1<<a||i&1<<a||null==u)&&(u=s>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var c=e[a];return u<0&&(u+=c),u=o.uZ(0,u,c-1)}function g(n,t,r,e,a,i){var u=t[a],s=r[a]||1;(n&1<<a||i&1<<a||null==u)&&(u=s>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var c=e[a];return u<0&&(u+=c),u=s>0?o.uZ(0,u,c):o.uZ(-1,u,c-1)}function m(n,t,r){for(var e=r.length,o=0;o<r.length;o++)if(r[o]>1){e=o;break}for(var a=e+1;a<r.length;a++)if(t[a]>0||r[a]!==n[a])return!1;return!0}function y(n,t){for(var r=n.length>0?n[n.length-1]:1,e=0;e<n.length-1;e++)r+=n[e]*t[e];return r}function b(n,t,r){var a,i,u=n.shape.length;return(a="number"==typeof t?[t].concat((0,e.Z)(new Array(u-1).fill(0))):t.length<u?t.concat(new Array(u-t.length).fill(0)):t.slice()).forEach((function(n){o.hu(-1!==n,(function(){return"slice() does not support negative begin indexing."}))})),i=(i=null==r?new Array(u).fill(-1):"number"==typeof r?[r].concat((0,e.Z)(new Array(u-1).fill(-1))):r.length<u?r.concat(new Array(u-r.length).fill(-1)):r).map((function(t,r){return t>=0?t:(o.hu(-1===t,(function(){return"Negative size values should be exactly -1 but got "+"".concat(t," for the slice() size at index ").concat(r,".")})),n.shape[r]-a[r])})),[a,i]}function w(n,t,r,e,o,a,s,c,f){var h=t.slice(),p=r.slice(),d=e;null==e&&(d=new Array(h.length));var v=i(s);if(v.length>1)throw new Error("Multiple ellipses in slice is not allowed.");if(0!==s&&0!==c)throw new Error("Using both ellipsisMask and newAxisMask is not yet supported.");if(0!==s&&0!==f)throw new Error("Using both ellipsisMask and shrinkAxisMask is not yet supported.");var g=n.length-h.length,m=i(c),y=n.slice();m.forEach((function(n){h[n]=0,p[n]=1,y.splice(n,0,1)}));var b=l(y,v,g,h,p,d,o,a,s),w=b.begin,k=b.end,x=b.strides;h=w,p=k,d=x;var E=i(f);E.forEach((function(n){p[n]=h[n]+1,d[n]=1}));var _=u(h,p,d),I=_.filter((function(n,t){return-1===E.indexOf(t)}));return{nonStrided:d.every((function(n){return 1===n})),$begin:h,$end:p,$strides:d,size:_,newShape:y,outShape:I}}},16181:function(n,t,r){"use strict";r.d(t,{X:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({softmax_:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=(0,a._1)(n,"logits","softmax","float32");if(-1===t&&(t=r.rank-1),t!==r.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(r.rank," and dim was ").concat(t));var i={logits:r},u={dim:t};return e.BV.runKernel(o.Gc,i,u)}})},49422:function(n,t,r){"use strict";r.d(t,{W:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({softplus_:function(n){var t={x:(0,a._1)(n,"x","softplus")};return e.BV.runKernel(o.MR,t)}})},55406:function(n,t,r){"use strict";r.d(t,{f:function(){return u}});var e=r(93753),o=r(73135),a=r(77016),i=r(21590);var u=(0,r(94684).op)({spaceToBatchND_:function(n,t,r){var u=(0,a._1)(n,"x","spaceToBatchND");i.hu(u.rank>=1+t.length,(function(){return"input rank ".concat(u.rank," should be > than [blockShape] ").concat(t.length)})),i.hu(r.length===t.length,(function(){return"paddings.shape[0] ".concat(r.length," must be equal to [blockShape] ").concat(t.length)})),i.hu(u.shape.reduce((function(n,e,o){return o>0&&o<=t.length?n&&(e+r[o-1][0]+r[o-1][1])%t[o-1]==0:n}),!0),(function(){return"input spatial dimensions ".concat(u.shape.slice(1)," with paddings ").concat(r.toString()," must be divisible by blockShapes ").concat(t.toString())}));var s={x:u},c={blockShape:t,paddings:r};return e.BV.runKernel(o.TQ,s,c)}})},64796:function(n,t,r){"use strict";r.d(t,{k:function(){return i}});var e=r(93753),o=r(73135),a=r(21590);var i=(0,r(94684).op)({fft_:function(n){(0,a.hu)("complex64"===n.dtype,(function(){return"The dtype for tf.spectral.fft() must be complex64 "+"but got ".concat(n.dtype,".")}));var t={input:n};return e.BV.runKernel(o.vw,t)}})},87479:function(n,t,r){"use strict";r.d(t,{S:function(){return i}});var e=r(93753),o=r(73135),a=r(21590);var i=(0,r(94684).op)({ifft_:function(n){(0,a.hu)("complex64"===n.dtype,(function(){return"The dtype for tf.spectral.ifft() must be complex64 "+"but got ".concat(n.dtype,".")}));var t={input:n};return e.BV.runKernel(o.Qg,t)}})},53587:function(n,t,r){"use strict";r.d(t,{w:function(){return d}});var e=r(34594),o=r(94981),a=r(57079),i=r(63313),u=r(94684),s=r(30792),c=r(42776),f=r(69756),l=r(86932),h=r(94669),p=r(87479);var d=(0,u.op)({irfft_:function(n){var t,r=n.shape[n.shape.length-1],u=n.size/r;if(r<=2){var d=(0,c.X)(n,[u,r]);t=(0,p.S)(d)}else{var v=[u,2*(r-1)],g=(0,c.X)((0,s.k)(n),[u,r]),m=(0,c.X)((0,a.a)(n),[u,r]),y=(0,f.G)((0,h.t)(g,[0,1],[u,r-2]),1),b=(0,i.d)((0,f.G)((0,h.t)(m,[0,1],[u,r-2]),1),(0,l.i)(-1)),w=(0,o.z)([g,y],1),k=(0,o.z)([m,b],1),x=(0,c.X)((0,e.P)(w,k),[v[0],v[1]]);t=(0,p.S)(x)}if(t=(0,s.k)(t),3===n.rank&&0!==n.shape[0]){var E=t,_=n.shape[0];t=(0,c.X)(t,[_,t.shape[0]/_,t.shape[1]]),E.dispose()}return t}})},72345:function(n,t,r){"use strict";r.d(t,{Q:function(){return v}});var e=r(21590),o=r(34594),a=r(94981),i=r(57079),u=r(94684),s=r(30792),c=r(42776),f=r(94669),l=r(59588),h=r(90345),p=r(61919),d=r(64796);var v=(0,u.op)({rfft_:function(n,t){(0,e.hu)("float32"===n.dtype,(function(){return"The dtype for rfft() must be real value but got ".concat(n.dtype)}));var r,u=n.shape[n.shape.length-1],v=n.size/u;if(null!=t&&t<u){var g=n.shape.map((function(n){return 0})),m=n.shape.map((function(n){return n}));m[n.shape.length-1]=t,r=(0,f.t)(n,g,m),u=t}else if(null!=t&&t>u){var y=n.shape.map((function(n){return n}));y[n.shape.length-1]=t-u,r=(0,a.z)([n,(0,h.l)(y)],n.shape.length-1),u=t}else r=n;var b=(0,p.P)(r),w=(0,c.X)((0,o.P)(r,b),[v,u]),k=(0,d.k)(w),x=Math.floor(u/2)+1,E=(0,s.k)(k),_=(0,i.a)(k),I=(0,l.V)(E,[x,u-x],E.shape.length-1),S=(0,l.V)(_,[x,u-x],_.shape.length-1),A=r.shape.slice();return A[r.shape.length-1]=x,(0,c.X)((0,o.P)(I[0],S[0]),A)}})},59588:function(n,t,r){"use strict";r.d(t,{V:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({split_:function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=(0,a._1)(n,"x","split"),u={x:i},s={numOrSizeSplits:t,axis:r};return e.BV.runKernel(o.L8,u,s)}})},84509:function(n,t,r){"use strict";r.d(t,{_:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({sqrt_:function(n){var t={x:(0,a._1)(n,"x","sqrt")};return e.BV.runKernel(o.FK,t)}})},80275:function(n,t,r){"use strict";r.d(t,{h:function(){return a}});var e=r(93753),o=r(77016);var a=(0,r(94684).op)({square_:function(n){var t=(0,o._1)(n,"x","square");return e.BV.runKernel("Square",{x:t},{})}})},71682:function(n,t,r){"use strict";r.d(t,{$:function(){return c}});var e=r(28481),o=r(93753),a=r(73135),i=r(85031),u=r(77016),s=r(35828);var c=(0,r(94684).op)({squaredDifference_:function(n,t){var r=(0,u._1)(n,"a","squaredDifference"),c=(0,u._1)(t,"b","squaredDifference"),f=(0,i.makeTypesMatch)(r,c),l=(0,e.Z)(f,2);r=l[0],c=l[1],(0,s.$N)(r.shape,c.shape);var h={a:r,b:c};return o.BV.runKernel(a._t,h,{})}})},32363:function(n,t,r){"use strict";r.d(t,{L:function(){return u}});var e=r(77016),o=r(21590),a=r(94684),i=r(42776);var u=(0,a.op)({squeeze_:function(n,t){var r=(0,e._1)(n,"x","squeeze");return(0,i.X)(r,(0,o.bp)(r.shape,t).newShape)}})},30596:function(n,t,r){"use strict";r.d(t,{k:function(){return u}});var e=r(93753),o=r(73135),a=r(77016),i=r(21590);var u=(0,r(94684).op)({stack_:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(0,a.sI)(n,"tensors","stack","string_or_numeric");i.hu(r.length>=1,(function(){return"Pass at least one tensor to tf.stack"})),r.length>0&&i.hu(t<=r[0].rank,(function(){return"Axis must be <= rank of the tensor"}));var u=r,s={axis:t};return e.BV.runKernel(o.Qi,u,s)}})},70829:function(n,t,r){"use strict";r.d(t,{N:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({step_:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(0,a._1)(n,"x","step"),i={x:r},u={alpha:t};return e.BV.runKernel(o.h8,i,u)}})},49905:function(n,t,r){"use strict";r.d(t,{N:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({stridedSlice_:function(n,t,r,i){var u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,f=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,h=(0,a._1)(n,"x","stridedSlice"),p={x:h},d={begin:t,end:r,strides:i,beginMask:u,endMask:s,ellipsisMask:c,newAxisMask:f,shrinkAxisMask:l};return e.BV.runKernel(o.m2,p,d)}})},6383:function(n,t,r){"use strict";r.d(t,{l:function(){return s}});var e=r(28481),o=r(93753),a=r(73135),i=r(85031),u=r(77016);var s=(0,r(94684).op)({sub_:function(n,t){var r=(0,u._1)(n,"a","sub"),s=(0,u._1)(t,"b","sub"),c=(0,i.makeTypesMatch)(r,s),f=(0,e.Z)(c,2),l={a:r=f[0],b:s=f[1]};return o.BV.runKernel(a.Tr,l)}})},96422:function(n,t,r){"use strict";r.d(t,{S:function(){return u}});var e=r(93753),o=r(73135),a=r(77016),i=r(12576);var u=(0,r(94684).op)({sum_:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=(0,a._1)(n,"x","sum");"bool"===u.dtype&&(u=(0,i.p)(u,"int32"));var s={x:u},c={axis:t,keepDims:r};return e.BV.runKernel(o.GB,s,c)}})},9732:function(n,t,r){"use strict";r.d(t,{O:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({tan_:function(n){var t={x:(0,a._1)(n,"x","tan")};return e.BV.runKernel(o.sE,t)}})},63651:function(n,t,r){"use strict";r.d(t,{A:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({tanh_:function(n){var t={x:(0,a._1)(n,"x","tanh")};return e.BV.runKernel(o.MI,t)}})},62363:function(n,t,r){"use strict";r.d(t,{H:function(){return i}});var e=r(93753),o=r(21590),a=r(4870);function i(n,t,r,i){if(null==i&&(i=(0,o.D2)(n)),"complex64"===i)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!(0,o.fU)(n)&&!Array.isArray(n)&&"number"!=typeof n&&"boolean"!=typeof n&&"string"!=typeof n)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){(0,o.Mu)(t);var u=(0,o.NA)(t),s=(0,o.NA)(r);(0,o.hu)(u===s,(function(){return"Based on the provided shape, [".concat(t,"], the tensor should have ")+"".concat(u," values but has ").concat(s)}));for(var c=0;c<r.length;++c){var f=r[c],l=c!==r.length-1||f!==(0,o.NA)(t.slice(c));(0,o.hu)(r[c]===t[c]||!l,(function(){return"Error creating a new Tensor. Inferred shape "+"(".concat(r,") does not match the provided ")+"shape (".concat(t,"). ")}))}}return(0,o.fU)(n)||Array.isArray(n)||(n=[n]),t=t||r,n="string"!==i?(0,a.toTypedArray)(n,i):(0,o.xH)(n,[],!0),e.BV.makeTensor(n,t,i)}},8188:function(n,t,r){"use strict";r.d(t,{G:function(){return u}});var e=r(93753),o=r(73135),a=r(77016),i=r(21590);var u=(0,r(94684).op)({tile_:function(n,t){var r=(0,a._1)(n,"x","tile","string_or_numeric");i.hu(r.rank===t.length,(function(){return"Error in transpose: rank of input ".concat(r.rank," ")+"must match length of reps ".concat(t,".")}));var u={x:r},s={reps:t};return e.BV.runKernel(o.n9,u,s)}})},91096:function(n,t,r){"use strict";r.d(t,{h:function(){return u}});var e=r(28481),o=r(93753),a=r(73135),i=r(77016);var u=(0,r(94684).op)({topk_:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=(0,i._1)(n,"x","topk");if(0===u.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var s=u.shape[u.shape.length-1];if(t>s)throw new Error("'k' passed to topk() must be <= the last dimension (".concat(s,") ")+"but got ".concat(t));var c={x:u},f={k:t,sorted:r},l=o.BV.runKernel(a.cW,c,f),h=(0,e.Z)(l,2),p=h[0],d=h[1];return{values:p,indices:d}}})},62965:function(n,t,r){"use strict";r.d(t,{p:function(){return u}});var e=r(93753),o=r(73135),a=r(77016),i=r(21590);var u=(0,r(94684).op)({transpose_:function(n,t){var r=(0,a._1)(n,"x","transpose");if(null==t&&(t=r.shape.map((function(n,t){return t})).reverse()),i.hu(r.rank===t.length,(function(){return"Error in transpose: rank of input ".concat(r.rank," ")+"must match length of perm ".concat(t,".")})),t.forEach((function(n){i.hu(n>=0&&n<r.rank,(function(){return"All entries in 'perm' must be between 0 and ".concat(r.rank-1)+" but got ".concat(t)}))})),r.rank<=1)return r.clone();var u={x:r},s={perm:t};return e.BV.runKernel(o.G3,u,s)}})},35047:function(n,t,r){"use strict";r.d(t,{T:function(){return s}});var e=r(28481),o=r(93753),a=r(73135),i=r(77016),u=r(21590);var s=(0,r(94684).op)({unique_:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(0,i._1)(n,"x","unique","string_or_numeric");(0,u.hu)(r.rank>0,(function(){return"The input tensor must be at least 1D"}));var s={x:r},c={axis:t},f=o.BV.runKernel(a.kp,s,c),l=(0,e.Z)(f,2),h=l[0],p=l[1];return{values:h,indices:p}}})},92209:function(n,t,r){"use strict";r.d(t,{p:function(){return u}});var e=r(93753),o=r(73135),a=r(77016),i=r(21590);var u=(0,r(94684).op)({unsortedSegmentSum_:function(n,t,r){var u=(0,a._1)(n,"x","unsortedSegmentSum"),s=(0,a._1)(t,"segmentIds","unsortedSegmentSum","int32");(0,i.hu)((0,i.GN)(r),(function(){return"numSegments must be of dtype int"}));var c={x:u,segmentIds:s},f={numSegments:r};return e.BV.runKernel(o.Qv,c,f)}})},58395:function(n,t,r){"use strict";r.d(t,{H:function(){return u}});var e=r(93753),o=r(73135),a=r(77016),i=r(21590);var u=(0,r(94684).op)({unstack_:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(0,a._1)(n,"x","unstack","string_or_numeric");i.hu(t>=-r.shape.length&&t<r.shape.length,(function(){return"Axis = ".concat(t," is not in [-").concat(r.shape.length,", ").concat(r.shape.length,")")}));var u={value:r},s={axis:t};return e.BV.runKernel(o.To,u,s)}})},79805:function(n,t,r){"use strict";r.d(t,{a:function(){return s}});var e=r(93753),o=r(73135),a=r(77016),i=r(85959),u=r(35828);var s=(0,r(94684).op)({where_:function(n,t,r){var s=(0,a._1)(t,"a","where"),c=(0,a._1)(r,"b","where"),f=(0,a._1)(n,"condition","where","bool"),l=(0,u.$N)((0,u.$N)(f.shape,s.shape),c.shape),h={condition:(0,i.U)(f,l),t:(0,i.U)(s,l),e:(0,i.U)(c,l)};return e.BV.runKernel(o.Ph,h)}})},90345:function(n,t,r){"use strict";r.d(t,{l:function(){return i}});var e=r(93753),o=r(21590),a=r(34594);function i(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if("complex64"===t){var r=i(n,"float32"),u=i(n,"float32");return(0,a.P)(r,u)}var s=(0,o.wT)((0,o.NA)(n),t);return e.BV.makeTensor(s,n,t)}},61919:function(n,t,r){"use strict";r.d(t,{P:function(){return i}});var e=r(93753),o=r(73135),a=r(77016);var i=(0,r(94684).op)({zerosLike_:function(n){var t={x:(0,a._1)(n,"x","zerosLike")};return e.BV.runKernel(o.Ru,t)}})},31873:function(n,t,r){"use strict";r.r(t);var e=r(76706),o=r(72027);(0,o.t3)().prototype.abs=function(){return this.throwIfDisposed(),(0,e.W)(this)};var a=r(22220);(0,o.t3)().prototype.acos=function(){return this.throwIfDisposed(),(0,a.K)(this)};var i=r(18423);(0,o.t3)().prototype.acosh=function(){return this.throwIfDisposed(),(0,i._)(this)};var u=r(93263);(0,o.t3)().prototype.add=function(n){return this.throwIfDisposed(),(0,u.I)(this,n)};var s=r(41822);(0,o.t3)().prototype.all=function(n,t){return this.throwIfDisposed(),(0,s.$)(this,n,t)};var c=r(89786);(0,o.t3)().prototype.any=function(n,t){return this.throwIfDisposed(),(0,c.Y)(this,n,t)};var f=r(59178);(0,o.t3)().prototype.argMax=function(n){return this.throwIfDisposed(),(0,f.N)(this,n)};var l=r(92866);(0,o.t3)().prototype.argMin=function(n){return this.throwIfDisposed(),(0,l.v)(this,n)};var h=r(42776),p=r(21590);(0,o.t3)().prototype.asScalar=function(){return this.throwIfDisposed(),(0,p.hu)(1===this.size,(function(){return"The array must have only 1 element."})),(0,h.X)(this,[])};var d=r(12576);(0,o.t3)().prototype.asType=function(n){return this.throwIfDisposed(),(0,d.p)(this,n)},(0,o.t3)().prototype.as1D=function(){return this.throwIfDisposed(),(0,h.X)(this,[this.size])},(0,o.t3)().prototype.as2D=function(n,t){return this.throwIfDisposed(),(0,h.X)(this,[n,t])},(0,o.t3)().prototype.as3D=function(n,t,r){return this.throwIfDisposed(),(0,h.X)(this,[n,t,r])},(0,o.t3)().prototype.as4D=function(n,t,r,e){return this.throwIfDisposed(),(0,h.X)(this,[n,t,r,e])},(0,o.t3)().prototype.as5D=function(n,t,r,e,o){return this.throwIfDisposed(),(0,h.X)(this,[n,t,r,e,o])};var v=r(76848);(0,o.t3)().prototype.asin=function(){return this.throwIfDisposed(),(0,v.Z)(this)};var g=r(59868);(0,o.t3)().prototype.asinh=function(){return this.throwIfDisposed(),(0,g.V)(this)};var m=r(22670);(0,o.t3)().prototype.atan=function(){return this.throwIfDisposed(),(0,m.z)(this)};var y=r(10919);(0,o.t3)().prototype.atan2=function(n){return this.throwIfDisposed(),(0,y.f)(this,n)};var b=r(92318);(0,o.t3)().prototype.atanh=function(){return this.throwIfDisposed(),(0,b.C)(this)};var w=r(51229);(0,o.t3)().prototype.avgPool=function(n,t,r,e){return this.throwIfDisposed(),(0,w.w)(this,n,t,r,e)};var k=r(6603);(0,o.t3)().prototype.batchToSpaceND=function(n,t){return this.throwIfDisposed(),(0,k.E)(this,n,t)};var x=r(86067);(0,o.t3)().prototype.batchNorm=function(n,t,r,e,o){return this.throwIfDisposed(),(0,x.t)(this,n,t,r,e,o)};var E=r(85959);(0,o.t3)().prototype.broadcastTo=function(n){return this.throwIfDisposed(),(0,E.U)(this,n)},(0,o.t3)().prototype.cast=function(n){return this.throwIfDisposed(),(0,d.p)(this,n)};var _=r(341);(0,o.t3)().prototype.ceil=function(){return this.throwIfDisposed(),(0,_.m)(this)};var I=r(11212);(0,o.t3)().prototype.clipByValue=function(n,t){return this.throwIfDisposed(),(0,I.i)(this,n,t)};var S=r(85061),A=r(94981);(0,o.t3)().prototype.concat=function(n,t){return this.throwIfDisposed(),n instanceof o.es&&(n=[n]),(0,A.z)([this].concat((0,S.Z)(n)),t)};var D=r(49431);(0,o.t3)().prototype.conv1d=function(n,t,r,e,o,a){return this.throwIfDisposed(),(0,D.P)(this,n,t,r,e,o,a)};var B=r(92038);(0,o.t3)().prototype.conv2dTranspose=function(n,t,r,e,o){return this.throwIfDisposed(),(0,B.b)(this,n,t,r,e,o)};var N=r(55303);(0,o.t3)().prototype.conv2d=function(n,t,r,e,o,a){return this.throwIfDisposed(),(0,N.T)(this,n,t,r,e,o,a)};var M=r(75418);(0,o.t3)().prototype.cos=function(){return this.throwIfDisposed(),(0,M.m)(this)};var T=r(12297);(0,o.t3)().prototype.cosh=function(){return this.throwIfDisposed(),(0,T.f)(this)};var R=r(8964);(0,o.t3)().prototype.cumsum=function(n,t,r){return this.throwIfDisposed(),(0,R.z)(this,n,t,r)};var O=r(31072);(0,o.t3)().prototype.depthToSpace=function(n,t){return this.throwIfDisposed(),(0,O.n)(this,n,t)};var V=r(15727);(0,o.t3)().prototype.depthwiseConv2d=function(n,t,r,e,o,a){return this.throwIfDisposed(),(0,V.B)(this,n,t,r,e,o,a)};var C=r(12448);(0,o.t3)().prototype.dilation2d=function(n,t,r,e,o){return this.throwIfDisposed(),(0,C.W)(this,n,t,r,e,o)};var F=r(33022);(0,o.t3)().prototype.divNoNan=function(n){return this.throwIfDisposed(),(0,F.N)(this,n)};var P=r(51378);(0,o.t3)().prototype.div=function(n){return this.throwIfDisposed(),(0,P.h)(this,n)};var Z=r(17204);(0,o.t3)().prototype.dot=function(n){return this.throwIfDisposed(),(0,Z.A)(this,n)};var z=r(93374);(0,o.t3)().prototype.elu=function(){return this.throwIfDisposed(),(0,z.p)(this)};var L=r(81552);(0,o.t3)().prototype.equal=function(n){return this.throwIfDisposed(),(0,L.D)(this,n)};var W=r(59226);(0,o.t3)().prototype.erf=function(){return this.throwIfDisposed(),(0,W.q)(this)};var U=r(89342);(0,o.t3)().prototype.exp=function(){return this.throwIfDisposed(),(0,U.Q)(this)};var K=r(77814);(0,o.t3)().prototype.expandDims=function(n){return this.throwIfDisposed(),(0,K.d)(this,n)};var q=r(3199);(0,o.t3)().prototype.expm1=function(){return this.throwIfDisposed(),(0,q.t)(this)};var G=r(64796);(0,o.t3)().prototype.fft=function(){return this.throwIfDisposed(),(0,G.k)(this)},(0,o.t3)().prototype.flatten=function(){return this.throwIfDisposed(),(0,h.X)(this,[this.size])};var j=r(87729);(0,o.t3)().prototype.floor=function(){return this.throwIfDisposed(),(0,j.G)(this)};var H=r(12020);(0,o.t3)().prototype.floorDiv=function(n){return this.throwIfDisposed(),(0,H.q)(this,n)};var X=r(12250);(0,o.t3)().prototype.gather=function(n,t){return this.throwIfDisposed(),(0,X.I)(this,n,t)};var J=r(37446);(0,o.t3)().prototype.greaterEqual=function(n){return this.throwIfDisposed(),(0,J.b)(this,n)};var Y=r(53315);(0,o.t3)().prototype.greater=function(n){return this.throwIfDisposed(),(0,Y.p)(this,n)};var Q=r(87479);(0,o.t3)().prototype.ifft=function(){return this.throwIfDisposed(),(0,Q.S)(this)};var $=r(53587);(0,o.t3)().prototype.irfft=function(){return this.throwIfDisposed(),(0,$.w)(this)};var nn=r(92403);(0,o.t3)().prototype.isFinite=function(){return this.throwIfDisposed(),(0,nn.x)(this)};var tn=r(62475);(0,o.t3)().prototype.isInf=function(){return this.throwIfDisposed(),(0,tn.U)(this)};var rn=r(51991);(0,o.t3)().prototype.isNaN=function(){return this.throwIfDisposed(),(0,rn.i)(this)};var en=r(44124);(0,o.t3)().prototype.leakyRelu=function(n){return this.throwIfDisposed(),(0,en.h)(this,n)};var on=r(24982);(0,o.t3)().prototype.lessEqual=function(n){return this.throwIfDisposed(),(0,on.z)(this,n)};var an=r(60634);(0,o.t3)().prototype.less=function(n){return this.throwIfDisposed(),(0,an.d)(this,n)};var un=r(61379);(0,o.t3)().prototype.localResponseNormalization=function(n,t,r,e){return this.throwIfDisposed(),(0,un.G)(this,n,t,r,e)};var sn=r(92574);(0,o.t3)().prototype.logSigmoid=function(){return this.throwIfDisposed(),(0,sn.e)(this)};var cn=r(46934);(0,o.t3)().prototype.logSoftmax=function(n){return this.throwIfDisposed(),(0,cn.C)(this,n)};var fn=r(36622);(0,o.t3)().prototype.logSumExp=function(n,t){return this.throwIfDisposed(),(0,fn.l)(this,n,t)};var ln=r(412);(0,o.t3)().prototype.log=function(){return this.throwIfDisposed(),(0,ln.c)(this)};var hn=r(70346);(0,o.t3)().prototype.log1p=function(){return this.throwIfDisposed(),(0,hn.K)(this)};var pn=r(70686);(0,o.t3)().prototype.logicalAnd=function(n){return this.throwIfDisposed(),(0,pn.H)(this,n)};var dn=r(92240);(0,o.t3)().prototype.logicalNot=function(){return this.throwIfDisposed(),(0,dn.h)(this)};var vn=r(15999);(0,o.t3)().prototype.logicalOr=function(n){return this.throwIfDisposed(),(0,vn.K)(this,n)};var gn=r(22841);(0,o.t3)().prototype.logicalXor=function(n){return this.throwIfDisposed(),(0,gn.e)(this,n)};var mn=r(37326);(0,o.t3)().prototype.matMul=function(n,t,r){return this.throwIfDisposed(),(0,mn.O)(this,n,t,r)};var yn=r(61605);(0,o.t3)().prototype.maxPool=function(n,t,r,e){return this.throwIfDisposed(),(0,yn._)(this,n,t,r,e)};var bn=r(89571);(0,o.t3)().prototype.max=function(n,t){return this.throwIfDisposed(),(0,bn.F)(this,n,t)};var wn=r(91907);(0,o.t3)().prototype.maximum=function(n){return this.throwIfDisposed(),(0,wn.g)(this,n)};var kn=r(2267);(0,o.t3)().prototype.mean=function(n,t){return this.throwIfDisposed(),(0,kn.J)(this,n,t)};var xn=r(20262);(0,o.t3)().prototype.min=function(n,t){return this.throwIfDisposed(),(0,xn.V)(this,n,t)};var En=r(12773);(0,o.t3)().prototype.minimum=function(n){return this.throwIfDisposed(),(0,En.L)(this,n)};var _n=r(6550);(0,o.t3)().prototype.mirrorPad=function(n,t){return this.throwIfDisposed(),(0,_n.V)(this,n,t)};var In=r(98009);(0,o.t3)().prototype.mod=function(n){return this.throwIfDisposed(),(0,In.w)(this,n)};var Sn=r(63313);(0,o.t3)().prototype.mul=function(n){return this.throwIfDisposed(),(0,Sn.d)(this,n)};var An=r(43878);(0,o.t3)().prototype.neg=function(){return this.throwIfDisposed(),(0,An.W)(this)};var Dn=r(61803);(0,o.t3)().prototype.norm=function(n,t,r){return this.throwIfDisposed(),(0,Dn.K)(this,n,t,r)};var Bn=r(87102);(0,o.t3)().prototype.notEqual=function(n){return this.throwIfDisposed(),(0,Bn.Q)(this,n)};var Nn=r(53058);(0,o.t3)().prototype.oneHot=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.throwIfDisposed(),(0,Nn.l)(this,n,t,r)};var Mn=r(86989);(0,o.t3)().prototype.onesLike=function(){return this.throwIfDisposed(),(0,Mn.J)(this)};var Tn=r(59876);(0,o.t3)().prototype.pad=function(n,t){return this.throwIfDisposed(),(0,Tn.v)(this,n,t)};var Rn=r(19645);(0,o.t3)().prototype.pool=function(n,t,r,e,o){return this.throwIfDisposed(),(0,Rn.d)(this,n,t,r,e,o)};var On=r(25153);(0,o.t3)().prototype.pow=function(n){return this.throwIfDisposed(),(0,On.s)(this,n)};var Vn=r(99357);(0,o.t3)().prototype.prelu=function(n){return this.throwIfDisposed(),(0,Vn.A)(this,n)};var Cn=r(13560);(0,o.t3)().prototype.prod=function(n,t){return this.throwIfDisposed(),(0,Cn.W)(this,n,t)};var Fn=r(14980);(0,o.t3)().prototype.reciprocal=function(){return this.throwIfDisposed(),(0,Fn.M)(this)};var Pn=r(35657);(0,o.t3)().prototype.relu=function(){return this.throwIfDisposed(),(0,Pn.U)(this)};var Zn=r(85679);(0,o.t3)().prototype.relu6=function(){return this.throwIfDisposed(),(0,Zn.b)(this)},(0,o.t3)().prototype.reshapeAs=function(n){return this.throwIfDisposed(),(0,h.X)(this,n.shape)},(0,o.t3)().prototype.reshape=function(n){return this.throwIfDisposed(),(0,h.X)(this,n)};var zn=r(87568);(0,o.t3)().prototype.resizeBilinear=function(n,t,r){return this.throwIfDisposed(),(0,zn.I)(this,n,t,r)};var Ln=r(87672);(0,o.t3)().prototype.resizeNearestNeighbor=function(n,t,r){return this.throwIfDisposed(),(0,Ln.j)(this,n,t,r)};var Wn=r(69756);(0,o.t3)().prototype.reverse=function(n){return this.throwIfDisposed(),(0,Wn.G)(this,n)};var Un=r(72345);(0,o.t3)().prototype.rfft=function(){return this.throwIfDisposed(),(0,Un.Q)(this)};var Kn=r(70538);(0,o.t3)().prototype.round=function(){return this.throwIfDisposed(),(0,Kn.N)(this)};var qn=r(38387);(0,o.t3)().prototype.rsqrt=function(){return this.throwIfDisposed(),(0,qn.b)(this)};var Gn=r(6839);(0,o.t3)().prototype.selu=function(){return this.throwIfDisposed(),(0,Gn.U)(this)};var jn=r(78898);(0,o.t3)().prototype.separableConv2d=function(n,t,r,e,o,a){return this.throwIfDisposed(),(0,jn.U)(this,n,t,r,e,o,a)};var Hn=r(34310);(0,o.t3)().prototype.sigmoid=function(){return this.throwIfDisposed(),(0,Hn.X)(this)};var Xn=r(12180);(0,o.t3)().prototype.sign=function(){return this.throwIfDisposed(),(0,Xn.X)(this)};var Jn=r(33402);(0,o.t3)().prototype.sin=function(){return this.throwIfDisposed(),(0,Jn.O)(this)};var Yn=r(51305);(0,o.t3)().prototype.sinh=function(){return this.throwIfDisposed(),(0,Yn.R)(this)};var Qn=r(94669);(0,o.t3)().prototype.slice=function(n,t){return this.throwIfDisposed(),(0,Qn.t)(this,n,t)};var $n=r(16181);(0,o.t3)().prototype.softmax=function(n){return this.throwIfDisposed(),(0,$n.X)(this,n)};var nt=r(49422);(0,o.t3)().prototype.softplus=function(){return this.throwIfDisposed(),(0,nt.W)(this)};var tt=r(55406);(0,o.t3)().prototype.spaceToBatchND=function(n,t){return this.throwIfDisposed(),(0,tt.f)(this,n,t)};var rt=r(59588);(0,o.t3)().prototype.split=function(n,t){return this.throwIfDisposed(),(0,rt.V)(this,n,t)};var et=r(84509);(0,o.t3)().prototype.sqrt=function(){return this.throwIfDisposed(),(0,et._)(this)};var ot=r(80275);(0,o.t3)().prototype.square=function(){return this.throwIfDisposed(),(0,ot.h)(this)};var at=r(71682);(0,o.t3)().prototype.squaredDifference=function(n){return this.throwIfDisposed(),(0,at.$)(this,n)};var it=r(32363);(0,o.t3)().prototype.squeeze=function(n){return this.throwIfDisposed(),(0,it.L)(this,n)};var ut=r(30596);(0,o.t3)().prototype.stack=function(n,t){this.throwIfDisposed();var r=n instanceof o.es?[this,n]:[this].concat((0,S.Z)(n));return(0,ut.k)(r,t)};var st=r(70829);(0,o.t3)().prototype.step=function(n){return this.throwIfDisposed(),(0,st.N)(this,n)};var ct=r(49905);(0,o.t3)().prototype.stridedSlice=function(n,t,r,e,o,a,i,u){return this.throwIfDisposed(),(0,ct.N)(this,n,t,r,e,o,a,i,u)};var ft=r(6383);(0,o.t3)().prototype.sub=function(n){return this.throwIfDisposed(),(0,ft.l)(this,n)};var lt=r(96422);(0,o.t3)().prototype.sum=function(n,t){return this.throwIfDisposed(),(0,lt.S)(this,n,t)};var ht=r(9732);(0,o.t3)().prototype.tan=function(){return this.throwIfDisposed(),(0,ht.O)(this)};var pt=r(63651);(0,o.t3)().prototype.tanh=function(){return this.throwIfDisposed(),(0,pt.A)(this)};var dt=r(8188);(0,o.t3)().prototype.tile=function(n){return this.throwIfDisposed(),(0,dt.G)(this,n)},(0,o.t3)().prototype.toBool=function(){return this.throwIfDisposed(),(0,d.p)(this,"bool")},(0,o.t3)().prototype.toFloat=function(){return this.throwIfDisposed(),(0,d.p)(this,"float32")},(0,o.t3)().prototype.toInt=function(){return this.throwIfDisposed(),(0,d.p)(this,"int32")};var vt=r(91096);(0,o.t3)().prototype.topk=function(n,t){return this.throwIfDisposed(),(0,vt.h)(this,n,t)};var gt=r(62965);(0,o.t3)().prototype.transpose=function(n){return this.throwIfDisposed(),(0,gt.p)(this,n)};var mt=r(35047);(0,o.t3)().prototype.unique=function(n){return this.throwIfDisposed(),(0,mt.T)(this,n)};var yt=r(92209);(0,o.t3)().prototype.unsortedSegmentSum=function(n,t){return this.throwIfDisposed(),(0,yt.p)(this,n,t)};var bt=r(58395);(0,o.t3)().prototype.unstack=function(n){return this.throwIfDisposed(),(0,bt.H)(this,n)};var wt=r(79805);(0,o.t3)().prototype.where=function(n,t){return this.throwIfDisposed(),(0,wt.a)(n,this,t)};var kt=r(61919);(0,o.t3)().prototype.zerosLike=function(){return this.throwIfDisposed(),(0,kt.P)(this)}},72027:function(n,t,r){"use strict";r.d(t,{es:function(){return A},YD:function(){return k},_w:function(){return B},t3:function(){return D},FZ:function(){return S},Vp:function(){return I},Vi:function(){return _}});var e=r(10379),o=r(46070),a=r(77608),i=r(92137),u=r(6610),s=r(5991),c=r(87757),f=r.n(c),l=r(85046),h=r(85061),p=r(21590);function d(n,t,r,e){var o=(0,p.e3)(t),a=function(n,t,r,e){var o=(0,p.NA)(t),a=e[e.length-1],i=new Array(a).fill(0),u=t.length,s="complex64"===r?y(n):n;if(u>1)for(var c=0;c<o/a;c++)for(var f=c*a,l=0;l<a;l++)i[l]=Math.max(i[l],v(s[f+l],0,r).length);return i}(n,t,r,o),i=t.length,u=m(n,t,r,o,a),s=["Tensor"];return e&&(s.push("  dtype: ".concat(r)),s.push("  rank: ".concat(i)),s.push("  shape: [".concat(t,"]")),s.push("  values:")),s.push(u.map((function(n){return"    "+n})).join("\n")),s.join("\n")}function v(n,t,r){var e;return e=Array.isArray(n)?"".concat(parseFloat(n[0].toFixed(7))," + ")+"".concat(parseFloat(n[1].toFixed(7)),"j"):(0,p.HD)(n)?"'".concat(n,"'"):"bool"===r?g(n):parseFloat(n.toFixed(7)).toString(),(0,p.oj)(e,t)}function g(n){return 0===n?"false":"true"}function m(n,t,r,e,o){var a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],i="complex64"===r?2:1,u=t[0],s=t.length;if(0===s){if("complex64"===r){var c=y(n);return[v(c[0],0,r)]}return"bool"===r?[g(n[0])]:[n[0].toString()]}if(1===s){if(u>20){var f=3*i,l=Array.from(n.slice(0,f)),p=Array.from(n.slice((u-3)*i,u*i));return"complex64"===r&&(l=y(l),p=y(p)),["["+l.map((function(n,t){return v(n,o[t],r)})).join(", ")+", ..., "+p.map((function(n,t){return v(n,o[u-3+t],r)})).join(", ")+"]"]}var d="complex64"===r?y(n):Array.from(n);return["["+d.map((function(n,t){return v(n,o[t],r)})).join(", ")+"]"]}var b=t.slice(1),w=e.slice(1),k=e[0]*i,x=[];if(u>20){for(var E=0;E<3;E++){var _=E*k,I=_+k;x.push.apply(x,(0,h.Z)(m(n.slice(_,I),b,r,w,o,!1)))}x.push("...");for(var S=u-3;S<u;S++){var A=S*k,D=A+k;x.push.apply(x,(0,h.Z)(m(n.slice(A,D),b,r,w,o,S===u-1)))}}else for(var B=0;B<u;B++){var N=B*k,M=N+k;x.push.apply(x,(0,h.Z)(m(n.slice(N,M),b,r,w,o,B===u-1)))}var T=2===s?",":"";x[0]="["+x[0]+T;for(var R=1;R<x.length-1;R++)x[R]=" "+x[R]+T;for(var O=",\n",V=2;V<s;V++)O+="\n";return x[x.length-1]=" "+x[x.length-1]+"]"+(a?"":O),x}function y(n){for(var t=[],r=0;r<n.length;r+=2)t.push([n[r],n[r+1]]);return t}var b=r(4870);function w(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var r,e=(0,a.Z)(n);if(t){var i=(0,a.Z)(this).constructor;r=Reflect.construct(e,arguments,i)}else r=e.apply(this,arguments);return(0,o.Z)(this,r)}}var k=function(){function n(t,r,e){var o=this;if((0,u.Z)(this,n),this.dtype=r,this.shape=t.slice(),this.size=p.NA(t),null!=e){var a=e.length;p.hu(a===this.size,(function(){return"Length of values '".concat(a,"' does not match the size ")+"inferred by the shape '".concat(o.size,"'.")}))}if("complex64"===r)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=e||p.rQ(r,this.size),this.strides=(0,p.e3)(t)}return(0,s.Z)(n,[{key:"set",value:function(n){for(var t=this,r=arguments.length,e=new Array(r>1?r-1:0),o=1;o<r;o++)e[o-1]=arguments[o];0===e.length&&(e=[0]),p.hu(e.length===this.rank,(function(){return"The number of provided coordinates (".concat(e.length,") must ")+"match the rank (".concat(t.rank,")")}));var a=this.locToIndex(e);this.values[a]=n}},{key:"get",value:function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];0===t.length&&(t=[0]);for(var e=0,o=0,a=t;o<a.length;o++){var i=a[o];if(i<0||i>=this.shape[e]){var u="Requested out of range element at ".concat(t,". ")+"  Buffer shape=".concat(this.shape);throw new Error(u)}e++}for(var s=t[t.length-1],c=0;c<t.length-1;++c)s+=this.strides[c]*t[c];return this.values[s]}},{key:"locToIndex",value:function(n){if(0===this.rank)return 0;if(1===this.rank)return n[0];for(var t=n[n.length-1],r=0;r<n.length-1;++r)t+=this.strides[r]*n[r];return t}},{key:"indexToLoc",value:function(n){if(0===this.rank)return[];if(1===this.rank)return[n];for(var t=new Array(this.shape.length),r=0;r<t.length-1;++r)t[r]=Math.floor(n/this.strides[r]),n-=t[r]*this.strides[r];return t[t.length-1]=n,t}},{key:"rank",get:function(){return this.shape.length}},{key:"toTensor",value:function(){return x().makeTensor(this.values,this.shape,this.dtype)}}]),n}(),x=null,E=null;function _(n){x=n}function I(n){E=n}function S(n){n}var A=function(){function n(t,r,e,o){(0,u.Z)(this,n),this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=r||"float32",this.size=p.NA(t),this.strides=(0,p.e3)(t),this.dataId=e,this.id=o,this.rankType=this.rank<5?this.rank.toString():"higher"}var t,r,e,o;return(0,s.Z)(n,[{key:"rank",get:function(){return this.shape.length}},{key:"buffer",value:(o=(0,i.Z)(f().mark((function n(){var t;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.data();case 2:return t=n.sent,n.abrupt("return",E.buffer(this.shape,this.dtype,t));case 4:case"end":return n.stop()}}),n,this)}))),function(){return o.apply(this,arguments)})},{key:"bufferSync",value:function(){return E.buffer(this.shape,this.dtype,this.dataSync())}},{key:"array",value:(e=(0,i.Z)(f().mark((function n(){var t;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.data();case 2:return t=n.sent,n.abrupt("return",(0,p.GX)(this.shape,t,"complex64"===this.dtype));case 4:case"end":return n.stop()}}),n,this)}))),function(){return e.apply(this,arguments)})},{key:"arraySync",value:function(){return(0,p.GX)(this.shape,this.dataSync(),"complex64"===this.dtype)}},{key:"data",value:(r=(0,i.Z)(f().mark((function n(){var t,r;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.throwIfDisposed(),t=x().read(this.dataId),"string"!==this.dtype){n.next=13;break}return n.next=5,t;case 5:return r=n.sent,n.prev=6,n.abrupt("return",r.map((function(n){return b.decodeString(n)})));case 10:throw n.prev=10,n.t0=n.catch(6),new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().");case 13:return n.abrupt("return",t);case 14:case"end":return n.stop()}}),n,this,[[6,10]])}))),function(){return r.apply(this,arguments)})},{key:"dataSync",value:function(){this.throwIfDisposed();var n=x().readSync(this.dataId);if("string"===this.dtype)try{return n.map((function(n){return b.decodeString(n)}))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return n}},{key:"bytes",value:(t=(0,i.Z)(f().mark((function n(){var t;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.throwIfDisposed(),n.next=3,x().read(this.dataId);case 3:if(t=n.sent,"string"!==this.dtype){n.next=8;break}return n.abrupt("return",t);case 8:return n.abrupt("return",new Uint8Array(t.buffer));case 9:case"end":return n.stop()}}),n,this)}))),function(){return t.apply(this,arguments)})},{key:"dispose",value:function(){this.isDisposed||(x().disposeTensor(this),this.isDisposedInternal=!0)}},{key:"isDisposed",get:function(){return this.isDisposedInternal}},{key:"throwIfDisposed",value:function(){if(this.isDisposed)throw new Error("Tensor is disposed.")}},{key:"print",value:function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return E.print(this,n)}},{key:"clone",value:function(){return this.throwIfDisposed(),E.clone(this)}},{key:"toString",value:function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.dataSync();return d(t,this.shape,this.dtype,n)}},{key:"cast",value:function(n){return this.throwIfDisposed(),E.cast(this,n)}},{key:"variable",value:function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return this.throwIfDisposed(),x().makeVariable(this,n,t,r)}}]),n}();function D(){return(0,l.R)("Tensor",(function(){return A}))}Object.defineProperty(A,Symbol.hasInstance,{value:function(n){return!!n&&null!=n.data&&null!=n.dataSync&&null!=n.throwIfDisposed}}),D();var B=function(n){(0,e.Z)(r,n);var t=w(r);function r(n,e,o,a){var i;return(0,u.Z)(this,r),(i=t.call(this,n.shape,n.dtype,n.dataId,a)).trainable=e,i.name=o,i}return(0,s.Z)(r,[{key:"assign",value:function(n){if(n.dtype!==this.dtype)throw new Error("dtype of the new value (".concat(n.dtype,") and ")+"previous value (".concat(this.dtype,") must match"));if(!p.cO(n.shape,this.shape))throw new Error("shape of the new value (".concat(n.shape,") and ")+"previous value (".concat(this.shape,") must match"));x().disposeTensor(this),this.dataId=n.dataId,x().incRef(this,null)}},{key:"dispose",value:function(){x().disposeVariable(this),this.isDisposedInternal=!0}}]),r}(A);Object.defineProperty(B,Symbol.hasInstance,{value:function(n){return n instanceof A&&null!=n.assign&&n.assign instanceof Function}})},85031:function(n,t,r){"use strict";r.r(t),r.d(t,{makeTypesMatch:function(){return i},assertTypesMatch:function(){return u},isTensorInList:function(){return s},getTensorsInContainer:function(){return c}});var e=r(72027),o=r(48913),a=r(21590);function i(n,t){if(n.dtype===t.dtype)return[n,t];var r=(0,o.x8)(n.dtype,t.dtype);return[n.cast(r),t.cast(r)]}function u(n,t){(0,a.hu)(n.dtype===t.dtype,(function(){return"The dtypes of the first(".concat(n.dtype,") and")+" second(".concat(t.dtype,") input must match")}))}function s(n,t){return t.some((function(t){return t.id===n.id}))}function c(n){var t=[];return f(n,t,new Set),t}function f(n,t,r){if(null!=n)if(n instanceof e.es)t.push(n);else if(o=n,Array.isArray(o)||"object"==typeof o){var o,a=n;for(var i in a){var u=a[i];r.has(u)||(r.add(u),f(u,t,r))}}}},77016:function(n,t,r){"use strict";r.d(t,{C:function(){return s},_1:function(){return l},sI:function(){return h}});var e=r(93753),o=r(678),a=r(72027),i=r(21590),u=r(4870);function s(n,t){var r=n;if((0,i.fU)(n))return"string"===t?[]:[n.length];if(!Array.isArray(n))return[];for(var e=[];Array.isArray(r)||(0,i.fU)(r)&&"string"!==t;)e.push(r.length),r=r[0];return Array.isArray(n)&&(0,o.OB)().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&c(n,e,[]),e}function c(n,t,r){if(r=r||[],Array.isArray(n)||(0,i.fU)(n)){(0,i.hu)(t.length>0,(function(){return"Element arr[".concat(r.join("]["),"] should be a primitive, ")+"but is an array of ".concat(n.length," elements")})),(0,i.hu)(n.length===t[0],(function(){return"Element arr[".concat(r.join("]["),"] should have ").concat(t[0]," ")+"elements, but has ".concat(n.length," elements")}));for(var e=t.slice(1),o=0;o<n.length;++o)c(n[o],e,r.concat(o))}else(0,i.hu)(0===t.length,(function(){return"Element arr[".concat(r.join("]["),"] is a primitive, ")+"but should be an array/TypedArray of ".concat(t[0]," elements")}))}function f(n,t,r,e){if("string_or_numeric"!==n){if(null==n)throw new Error("Expected dtype cannot be null.");if("numeric"!==n&&n!==t||"numeric"===n&&"string"===t)throw new Error("Argument '".concat(r,"' passed to '").concat(e,"' must ")+"be ".concat(n," tensor, but got ").concat(t," tensor"))}}function l(n,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(n instanceof a.es)return f(o,n.dtype,t,r),n;var c=(0,i.D2)(n);if("string"!==c&&["bool","int32","float32"].indexOf(o)>=0&&(c=o),f(o,c,t,r),null==n||!(0,i.fU)(n)&&!Array.isArray(n)&&"number"!=typeof n&&"boolean"!=typeof n&&"string"!=typeof n){var l=null==n?"null":n.constructor.name;throw new Error("Argument '".concat(t,"' passed to '").concat(r,"' must be a ")+"Tensor or TensorLike, but got '".concat(l,"'"))}var h=s(n,c);(0,i.fU)(n)||Array.isArray(n)||(n=[n]);var p=!0,d="string"!==c?(0,u.toTypedArray)(n,c):(0,i.xH)(n,[],p);return e.BV.makeTensor(d,h,c)}function h(n,t,r){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(!Array.isArray(n))throw new Error("Argument ".concat(t," passed to ").concat(r," must be a ")+"`Tensor[]` or `TensorLike[]`");var o=n;return o.map((function(n,o){return l(n,"".concat(t,"[").concat(o,"]"),r,e)}))}},48913:function(n,t,r){"use strict";var e,o,a,i,u;r.d(t,{yw:function(){return e},x8:function(){return c},z4:function(){return f}}),function(n){n.R0="R0",n.R1="R1",n.R2="R2",n.R3="R3",n.R4="R4",n.R5="R5",n.R6="R6"}(e||(e={})),function(n){n.float32="float32",n.int32="int32",n.bool="int32",n.complex64="complex64"}(o||(o={})),function(n){n.float32="float32",n.int32="int32",n.bool="bool",n.complex64="complex64"}(a||(a={})),function(n){n.float32="float32",n.int32="float32",n.bool="float32",n.complex64="complex64"}(i||(i={})),function(n){n.float32="complex64",n.int32="complex64",n.bool="complex64",n.complex64="complex64"}(u||(u={}));var s={float32:i,int32:o,bool:a,complex64:u};function c(n,t){if("string"===n||"string"===t){if("string"===n&&"string"===t)return"string";throw new Error("Can not upcast ".concat(n," with ").concat(t))}return s[n][t]}function f(n){return c(n,"int32")}},4870:function(n,t,r){"use strict";r.r(t),r.d(t,{arraysEqual:function(){return o.cO},assert:function(){return o.hu},assertNonNegativeIntegerDimensions:function(){return o.Mu},assertNonNull:function(){return o.Cq},assertShapesMatch:function(){return o.k5},bytesFromStringArray:function(){return o.Ub},bytesPerElement:function(){return o.bT},checkConversionForErrors:function(){return o.D5},clamp:function(){return o.uZ},computeStrides:function(){return o.e3},createShuffledIndices:function(){return o.U$},distSquared:function(){return o.E7},flatten:function(){return o.xH},getArrayFromDType:function(){return o.rQ},getTypedArrayFromDType:function(){return o.WP},hasEncodingLoss:function(){return o.QB},indexToLoc:function(){return o.NE},inferDtype:function(){return o.D2},inferFromImplicitShape:function(){return o.JZ},isBoolean:function(){return o.jn},isFunction:function(){return o.mf},isInt:function(){return o.GN},isNumber:function(){return o.hj},isPromise:function(){return o.tI},isScalarShape:function(){return o.N9},isString:function(){return o.HD},isTypedArray:function(){return o.fU},isValidDtype:function(){return o.LP},locToIndex:function(){return o.qy},makeOnesTypedArray:function(){return o.p8},makeZerosNestedTypedArray:function(){return o.l6},makeZerosTypedArray:function(){return o.wT},nearestDivisor:function(){return o.jP},nearestLargerEven:function(){return o.nY},parseAxisParam:function(){return o.EC},randUniform:function(){return o.bj},repeatedTry:function(){return o.WD},rightPad:function(){return o.oj},shuffle:function(){return o.TV},shuffleCombo:function(){return o.d7},sizeFromShape:function(){return o.NA},sizeToSquarishShape:function(){return o.YP},squeezeShape:function(){return o.bp},sum:function(){return o.Sm},tanh:function(){return o.AE},toNestedArray:function(){return o.GX},createScalarValue:function(){return a},toTypedArray:function(){return i},now:function(){return u},fetch:function(){return s},encodeString:function(){return c},decodeString:function(){return f}});var e=r(678),o=r(21590);function a(n,t){return"string"===t?c(n):i([n],t)}function i(n,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(n)&&(n=o.xH(n)),(0,e.OB)().getBool("DEBUG")&&o.D5(n,t),function(n,t){return n instanceof Float32Array&&"float32"===t||n instanceof Int32Array&&"int32"===t||n instanceof Uint8Array&&"bool"===t}(n,t))return n;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(n);if("int32"===t)return new Int32Array(n);if("bool"===t){for(var r=new Uint8Array(n.length),a=0;a<r.length;++a)0!==Math.round(n[a])&&(r[a]=1);return r}throw new Error("Unknown data type ".concat(t))}function u(){return(0,e.OB)().platform.now()}function s(n,t){return(0,e.OB)().platform.fetch(n,t)}function c(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",(0,e.OB)().platform.encode(n,t)}function f(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",(0,e.OB)().platform.decode(n,t)}},21590:function(n,t,r){"use strict";function e(n){for(var t=n.length,r=0,e=0;t>0;)e=Math.random()*t|0,r=n[--t],n[t]=n[e],n[e]=r}function o(n,t){if(n.length!==t.length)throw new Error("Array sizes must match to be shuffled together "+"First array length was ".concat(n.length)+"Second array length was ".concat(t.length));for(var r,e,o=n.length,a=0;o>0;)a=Math.random()*o|0,r=n[--o],e=t[o],n[o]=n[a],t[o]=t[a],n[a]=r,t[a]=e}function a(n,t,r){return Math.max(n,Math.min(t,r))}function i(n){return n%2==0?n:n+1}function u(n){for(var t=0,r=0;r<n.length;r++)t+=n[r];return t}function s(n,t){var r=Math.random();return t*r+(1-r)*n}function c(n,t){for(var r=0,e=0;e<n.length;e++){var o=Number(n[e])-Number(t[e]);r+=o*o}return r}function f(n,t){if(!n)throw new Error("string"==typeof t?t:t())}function l(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";f(g(n,t),(function(){return r+" Shapes ".concat(n," and ").concat(t," must match")}))}function h(n){f(null!=n,(function(){return"The input to the tensor constructor must be a non-null value."}))}function p(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t&&(t=[]),Array.isArray(n)||M(n)&&!r)for(var e=0;e<n.length;++e)p(n[e],t,r);else t.push(n);return t}function d(n){if(0===n.length)return 1;for(var t=n[0],r=1;r<n.length;r++)t*=n[r];return t}function v(n){return 0===n.length}function g(n,t){if(n===t)return!0;if(null==n||null==t)return!1;if(n.length!==t.length)return!1;for(var r=0;r<n.length;r++)if(n[r]!==t[r])return!1;return!0}function m(n){return n%1==0}function y(n){if(null!=Math.tanh)return Math.tanh(n);if(n===1/0)return 1;if(n===-1/0)return-1;var t=Math.exp(2*n);return(t-1)/(t+1)}function b(n){var t=Math.ceil(Math.sqrt(n));return[t,Math.ceil(n/t)]}function w(n){for(var t=new Uint32Array(n),r=0;r<n;++r)t[r]=r;return e(t),t}function k(n,t){return t<=n.length?n:n+" ".repeat(t-n.length)}function x(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(n){return 0},r=arguments.length>2?arguments[2]:void 0;return new Promise((function(e,o){var a=0;!function i(){if(n())e();else{a++;var u=t(a);null!=r&&a>=r?o():setTimeout(i,u)}}()}))}function E(n,t){for(var r=1,e=-1,o=0;o<n.length;++o)if(n[o]>=0)r*=n[o];else if(-1===n[o]){if(-1!==e)throw Error("Shapes can only have 1 implicit size. "+"Found -1 at dim ".concat(e," and dim ").concat(o));e=o}else if(n[o]<0)throw Error("Shapes can not be < 0. Found ".concat(n[o]," at dim ").concat(o));if(-1===e){if(t>0&&t!==r)throw Error("Size(".concat(t,") must match the product of shape ").concat(n));return n}if(0===r)throw Error("Cannot infer the missing size in [".concat(n,"] when ")+"there are 0 elements");if(t%r!=0)throw Error("The implicit shape can't be a fractional number. "+"Got ".concat(t," / ").concat(r));var a=n.slice();return a[e]=t/r,a}function _(n,t){var r=t.length;return f((n=null==n?t.map((function(n,t){return t})):[].concat(n)).every((function(n){return n>=-r&&n<r})),(function(){return"All values in axis param must be in range [-".concat(r,", ").concat(r,") but ")+"got axis ".concat(n)})),f(n.every((function(n){return m(n)})),(function(){return"All values in axis param must be integers but "+"got axis ".concat(n)})),n.map((function(n){return n<0?r+n:n}))}function I(n,t){for(var r=[],e=[],o=null!=t&&Array.isArray(t)&&0===t.length,a=null==t||o?null:_(t,n).sort(),i=0,u=0;u<n.length;++u){if(null!=a){if(a[i]===u&&1!==n[u])throw new Error("Can't squeeze axis ".concat(u," since its dim '").concat(n[u],"' is not 1"));(null==a[i]||a[i]>u)&&1===n[u]&&(r.push(n[u]),e.push(u)),a[i]<=u&&i++}1!==n[u]&&(r.push(n[u]),e.push(u))}return{newShape:r,keptDims:e}}function S(n,t){var r=null;if(null==n||"float32"===n)r=new Float32Array(t);else if("int32"===n)r=new Int32Array(t);else{if("bool"!==n)throw new Error("Unknown data type ".concat(n));r=new Uint8Array(t)}return r}function A(n,t){var r=null;if(null==n||"float32"===n)r=new Float32Array(t);else if("int32"===n)r=new Int32Array(t);else if("bool"===n)r=new Uint8Array(t);else{if("string"!==n)throw new Error("Unknown data type ".concat(n));r=new Array(t)}return r}function D(n,t){for(var r=0;r<n.length;r++){var e=n[r];if(isNaN(e)||!isFinite(e))throw Error("A tensor of type ".concat(t," being uploaded contains ").concat(e,"."))}}function B(n){return"bool"===n||"complex64"===n||"float32"===n||"int32"===n||"string"===n}function N(n,t){return"complex64"!==t&&(("float32"!==t||"complex64"===n)&&(("int32"!==t||"float32"===n||"complex64"===n)&&("bool"!==t||"bool"!==n)))}function M(n){return n instanceof Float32Array||n instanceof Int32Array||n instanceof Uint8Array}function T(n){if("float32"===n||"int32"===n)return 4;if("complex64"===n)return 8;if("bool"===n)return 1;throw new Error("Unknown dtype ".concat(n))}function R(n){if(null==n)return 0;var t=0;return n.forEach((function(n){return t+=n.length})),t}function O(n){return"string"==typeof n||n instanceof String}function V(n){return"boolean"==typeof n}function C(n){return"number"==typeof n}function F(n){return Array.isArray(n)?F(n[0]):n instanceof Float32Array?"float32":n instanceof Int32Array||n instanceof Uint8Array?"int32":C(n)?"float32":O(n)?"string":V(n)?"bool":"float32"}function P(n){return!!(n&&n.constructor&&n.call&&n.apply)}function Z(n,t){for(var r=t;r<n;++r)if(n%r==0)return r;return n}function z(n){var t=n.length;if(t<2)return[];var r=new Array(t-1);r[t-2]=n[t-1];for(var e=t-3;e>=0;--e)r[e]=r[e+1]*n[e+1];return r}function L(n,t,r){var e=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=new Array;if(1===t.length)for(var a=t[0]*(e?2:1),i=0;i<a;i++)o[i]=r[n+i];else for(var u=t[0],s=t.slice(1),c=s.reduce((function(n,t){return n*t}))*(e?2:1),f=0;f<u;f++)o[f]=L(n+f*c,s,r,e);return o}function W(n,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===n.length)return t[0];var e=n.reduce((function(n,t){return n*t}))*(r?2:1);if(0===e)return[];if(e!==t.length)throw new Error("[".concat(n,"] does not match the input size ").concat(t.length).concat(r?" for a complex tensor":"","."));return L(0,n,t,r)}function U(n,t){for(var r=K(n,t),e=0;e<r.length;e++)r[e]=1;return r}function K(n,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(n);if("int32"===t)return new Int32Array(n);if("bool"===t)return new Uint8Array(n);throw new Error("Unknown data type ".concat(t))}function q(n,t){var r=n.reduce((function(n,t){return n*t}),1);if(null==t||"float32"===t)return W(n,new Float32Array(r));if("int32"===t)return W(n,new Int32Array(r));if("bool"===t)return W(n,new Uint8Array(r));throw new Error("Unknown data type ".concat(t))}function G(n){n.forEach((function(t){f(Number.isInteger(t)&&t>=0,(function(){return"Tensor must have a shape comprised of positive integers but got "+"shape [".concat(n,"].")}))}))}function j(n,t,r){if(0===t)return 0;if(1===t)return n[0];for(var e=n[n.length-1],o=0;o<n.length-1;++o)e+=r[o]*n[o];return e}function H(n,t,r){if(0===t)return[];if(1===t)return[n];for(var e=new Array(t),o=0;o<e.length-1;++o)e[o]=Math.floor(n/r[o]),n-=e[o]*r[o];return e[e.length-1]=n,e}function X(n){return n&&n.then&&"function"==typeof n.then}r.d(t,{TV:function(){return e},d7:function(){return o},uZ:function(){return a},nY:function(){return i},Sm:function(){return u},bj:function(){return s},E7:function(){return c},hu:function(){return f},k5:function(){return l},Cq:function(){return h},xH:function(){return p},NA:function(){return d},N9:function(){return v},cO:function(){return g},GN:function(){return m},AE:function(){return y},YP:function(){return b},U$:function(){return w},oj:function(){return k},WD:function(){return x},JZ:function(){return E},EC:function(){return _},bp:function(){return I},WP:function(){return S},rQ:function(){return A},D5:function(){return D},LP:function(){return B},QB:function(){return N},fU:function(){return M},bT:function(){return T},Ub:function(){return R},HD:function(){return O},jn:function(){return V},hj:function(){return C},D2:function(){return F},mf:function(){return P},jP:function(){return Z},e3:function(){return z},GX:function(){return W},p8:function(){return U},wT:function(){return K},l6:function(){return q},Mu:function(){return G},qy:function(){return j},NE:function(){return H},tI:function(){return X}})},12910:function(n,t,r){var e=r(35903),o=r(26018),a=r(40005),i=r(19681),u=r(85266),s=r(11605),c=r(83557);c.alea=e,c.xor128=o,c.xorwow=a,c.xorshift7=i,c.xor4096=u,c.tychei=s,n.exports=c},35903:function(n,t,r){var e;!function(n,o,a){function i(n){var t,r=this,e=(t=4022871197,function(n){n=n.toString();for(var r=0;r<n.length;r++){var e=.02519603282416938*(t+=n.charCodeAt(r));e-=t=e>>>0,t=(e*=t)>>>0,t+=4294967296*(e-=t)}return 2.3283064365386963e-10*(t>>>0)});r.next=function(){var n=2091639*r.s0+2.3283064365386963e-10*r.c;return r.s0=r.s1,r.s1=r.s2,r.s2=n-(r.c=0|n)},r.c=1,r.s0=e(" "),r.s1=e(" "),r.s2=e(" "),r.s0-=e(n),r.s0<0&&(r.s0+=1),r.s1-=e(n),r.s1<0&&(r.s1+=1),r.s2-=e(n),r.s2<0&&(r.s2+=1),e=null}function u(n,t){return t.c=n.c,t.s0=n.s0,t.s1=n.s1,t.s2=n.s2,t}function s(n,t){var r=new i(n),e=t&&t.state,o=r.next;return o.int32=function(){return 4294967296*r.next()|0},o.double=function(){return o()+11102230246251565e-32*(2097152*o()|0)},o.quick=o,e&&("object"==typeof e&&u(e,r),o.state=function(){return u(r,{})}),o}o&&o.exports?o.exports=s:r.amdD&&r.amdO?void 0===(e=function(){return s}.call(t,r,t,o))||(o.exports=e):this.alea=s}(0,n=r.nmd(n),r.amdD)},11605:function(n,t,r){var e;!function(n,o,a){function i(n){var t=this,r="";t.next=function(){var n=t.b,r=t.c,e=t.d,o=t.a;return n=n<<25^n>>>7^r,r=r-e|0,e=e<<24^e>>>8^o,o=o-n|0,t.b=n=n<<20^n>>>12^r,t.c=r=r-e|0,t.d=e<<16^r>>>16^o,t.a=o-n|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,n===Math.floor(n)?(t.a=n/4294967296|0,t.b=0|n):r+=n;for(var e=0;e<r.length+20;e++)t.b^=0|r.charCodeAt(e),t.next()}function u(n,t){return t.a=n.a,t.b=n.b,t.c=n.c,t.d=n.d,t}function s(n,t){var r=new i(n),e=t&&t.state,o=function(){return(r.next()>>>0)/4294967296};return o.double=function(){do{var n=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===n);return n},o.int32=r.next,o.quick=o,e&&("object"==typeof e&&u(e,r),o.state=function(){return u(r,{})}),o}o&&o.exports?o.exports=s:r.amdD&&r.amdO?void 0===(e=function(){return s}.call(t,r,t,o))||(o.exports=e):this.tychei=s}(0,n=r.nmd(n),r.amdD)},26018:function(n,t,r){var e;!function(n,o,a){function i(n){var t=this,r="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var n=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^n^n>>>8},n===(0|n)?t.x=n:r+=n;for(var e=0;e<r.length+64;e++)t.x^=0|r.charCodeAt(e),t.next()}function u(n,t){return t.x=n.x,t.y=n.y,t.z=n.z,t.w=n.w,t}function s(n,t){var r=new i(n),e=t&&t.state,o=function(){return(r.next()>>>0)/4294967296};return o.double=function(){do{var n=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===n);return n},o.int32=r.next,o.quick=o,e&&("object"==typeof e&&u(e,r),o.state=function(){return u(r,{})}),o}o&&o.exports?o.exports=s:r.amdD&&r.amdO?void 0===(e=function(){return s}.call(t,r,t,o))||(o.exports=e):this.xor128=s}(0,n=r.nmd(n),r.amdD)},85266:function(n,t,r){var e;!function(n,o,a){function i(n){var t=this;t.next=function(){var n,r,e=t.w,o=t.X,a=t.i;return t.w=e=e+1640531527|0,r=o[a+34&127],n=o[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,r=o[a]=r^n,t.i=a,r+(e^e>>>16)|0},function(n,t){var r,e,o,a,i,u=[],s=128;for(t===(0|t)?(e=t,t=null):(t+="\0",e=0,s=Math.max(s,t.length)),o=0,a=-32;a<s;++a)t&&(e^=t.charCodeAt((a+32)%t.length)),0===a&&(i=e),e^=e<<10,e^=e>>>15,e^=e<<4,e^=e>>>13,a>=0&&(i=i+1640531527|0,o=0==(r=u[127&a]^=e+i)?o+1:0);for(o>=128&&(u[127&(t&&t.length||0)]=-1),o=127,a=512;a>0;--a)e=u[o+34&127],r=u[o=o+1&127],e^=e<<13,r^=r<<17,e^=e>>>15,r^=r>>>12,u[o]=e^r;n.w=i,n.X=u,n.i=o}(t,n)}function u(n,t){return t.i=n.i,t.w=n.w,t.X=n.X.slice(),t}function s(n,t){null==n&&(n=+new Date);var r=new i(n),e=t&&t.state,o=function(){return(r.next()>>>0)/4294967296};return o.double=function(){do{var n=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===n);return n},o.int32=r.next,o.quick=o,e&&(e.X&&u(e,r),o.state=function(){return u(r,{})}),o}o&&o.exports?o.exports=s:r.amdD&&r.amdO?void 0===(e=function(){return s}.call(t,r,t,o))||(o.exports=e):this.xor4096=s}(0,n=r.nmd(n),r.amdD)},19681:function(n,t,r){var e;!function(n,o,a){function i(n){var t=this;t.next=function(){var n,r,e=t.x,o=t.i;return n=e[o],r=(n^=n>>>7)^n<<24,r^=(n=e[o+1&7])^n>>>10,r^=(n=e[o+3&7])^n>>>3,r^=(n=e[o+4&7])^n<<7,n=e[o+7&7],r^=(n^=n<<13)^n<<9,e[o]=r,t.i=o+1&7,r},function(n,t){var r,e=[];if(t===(0|t))e[0]=t;else for(t=""+t,r=0;r<t.length;++r)e[7&r]=e[7&r]<<15^t.charCodeAt(r)+e[r+1&7]<<13;for(;e.length<8;)e.push(0);for(r=0;r<8&&0===e[r];++r);for(8==r?e[7]=-1:e[r],n.x=e,n.i=0,r=256;r>0;--r)n.next()}(t,n)}function u(n,t){return t.x=n.x.slice(),t.i=n.i,t}function s(n,t){null==n&&(n=+new Date);var r=new i(n),e=t&&t.state,o=function(){return(r.next()>>>0)/4294967296};return o.double=function(){do{var n=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===n);return n},o.int32=r.next,o.quick=o,e&&(e.x&&u(e,r),o.state=function(){return u(r,{})}),o}o&&o.exports?o.exports=s:r.amdD&&r.amdO?void 0===(e=function(){return s}.call(t,r,t,o))||(o.exports=e):this.xorshift7=s}(0,n=r.nmd(n),r.amdD)},40005:function(n,t,r){var e;!function(n,o,a){function i(n){var t=this,r="";t.next=function(){var n=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^n^n<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,n===(0|n)?t.x=n:r+=n;for(var e=0;e<r.length+64;e++)t.x^=0|r.charCodeAt(e),e==r.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function u(n,t){return t.x=n.x,t.y=n.y,t.z=n.z,t.w=n.w,t.v=n.v,t.d=n.d,t}function s(n,t){var r=new i(n),e=t&&t.state,o=function(){return(r.next()>>>0)/4294967296};return o.double=function(){do{var n=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===n);return n},o.int32=r.next,o.quick=o,e&&("object"==typeof e&&u(e,r),o.state=function(){return u(r,{})}),o}o&&o.exports?o.exports=s:r.amdD&&r.amdO?void 0===(e=function(){return s}.call(t,r,t,o))||(o.exports=e):this.xorwow=s}(0,n=r.nmd(n),r.amdD)},83557:function(n,t,r){var e;!function(o,a){var i,u=this,s=256,c=a.pow(s,6),f=a.pow(2,52),l=2*f,h=255;function p(n,t,r){var e=[],h=m(g((t=1==t?{entropy:!0}:t||{}).entropy?[n,y(o)]:null==n?function(){try{var n;return i&&(n=i.randomBytes)?n=n(s):(n=new Uint8Array(s),(u.crypto||u.msCrypto).getRandomValues(n)),y(n)}catch(e){var t=u.navigator,r=t&&t.plugins;return[+new Date,u,r,u.screen,y(o)]}}():n,3),e),p=new d(e),b=function(){for(var n=p.g(6),t=c,r=0;n<f;)n=(n+r)*s,t*=s,r=p.g(1);for(;n>=l;)n/=2,t/=2,r>>>=1;return(n+r)/t};return b.int32=function(){return 0|p.g(4)},b.quick=function(){return p.g(4)/4294967296},b.double=b,m(y(p.S),o),(t.pass||r||function(n,t,r,e){return e&&(e.S&&v(e,p),n.state=function(){return v(p,{})}),r?(a.random=n,t):n})(b,h,"global"in t?t.global:this==a,t.state)}function d(n){var t,r=n.length,e=this,o=0,a=e.i=e.j=0,i=e.S=[];for(r||(n=[r++]);o<s;)i[o]=o++;for(o=0;o<s;o++)i[o]=i[a=h&a+n[o%r]+(t=i[o])],i[a]=t;(e.g=function(n){for(var t,r=0,o=e.i,a=e.j,i=e.S;n--;)t=i[o=h&o+1],r=r*s+i[h&(i[o]=i[a=h&a+t])+(i[a]=t)];return e.i=o,e.j=a,r})(s)}function v(n,t){return t.i=n.i,t.j=n.j,t.S=n.S.slice(),t}function g(n,t){var r,e=[],o=typeof n;if(t&&"object"==o)for(r in n)try{e.push(g(n[r],t-1))}catch(a){}return e.length?e:"string"==o?n:n+"\0"}function m(n,t){for(var r,e=n+"",o=0;o<e.length;)t[h&o]=h&(r^=19*t[h&o])+e.charCodeAt(o++);return y(t)}function y(n){return String.fromCharCode.apply(0,n)}if(a.seedrandom=p,m(a.random(),o),n.exports){n.exports=p;try{i=r(75042)}catch(b){}}else void 0===(e=function(){return p}.call(t,r,t,n))||(n.exports=e)}([],Math)},19670:function(n,t,r){var e=r(70111);n.exports=function(n){if(!e(n))throw TypeError(String(n)+" is not an object");return n}},41318:function(n,t,r){var e=r(45656),o=r(17466),a=r(51400),i=function(n){return function(t,r,i){var u,s=e(t),c=o(s.length),f=a(i,c);if(n&&r!=r){for(;c>f;)if((u=s[f++])!=u)return!0}else for(;c>f;f++)if((n||f in s)&&s[f]===r)return n||f||0;return!n&&-1}};n.exports={includes:i(!0),indexOf:i(!1)}},84326:function(n){var t={}.toString;n.exports=function(n){return t.call(n).slice(8,-1)}},99920:function(n,t,r){var e=r(86656),o=r(53887),a=r(31236),i=r(3070);n.exports=function(n,t){for(var r=o(t),u=i.f,s=a.f,c=0;c<r.length;c++){var f=r[c];e(n,f)||u(n,f,s(t,f))}}},68880:function(n,t,r){var e=r(19781),o=r(3070),a=r(79114);n.exports=e?function(n,t,r){return o.f(n,t,a(1,r))}:function(n,t,r){return n[t]=r,n}},79114:function(n){n.exports=function(n,t){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:t}}},19781:function(n,t,r){var e=r(47293);n.exports=!e((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},80317:function(n,t,r){var e=r(17854),o=r(70111),a=e.document,i=o(a)&&o(a.createElement);n.exports=function(n){return i?a.createElement(n):{}}},80748:function(n){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},82109:function(n,t,r){var e=r(17854),o=r(31236).f,a=r(68880),i=r(31320),u=r(83505),s=r(99920),c=r(54705);n.exports=function(n,t){var r,f,l,h,p,d=n.target,v=n.global,g=n.stat;if(r=v?e:g?e[d]||u(d,{}):(e[d]||{}).prototype)for(f in t){if(h=t[f],l=n.noTargetGet?(p=o(r,f))&&p.value:r[f],!c(v?f:d+(g?".":"#")+f,n.forced)&&void 0!==l){if(typeof h==typeof l)continue;s(h,l)}(n.sham||l&&l.sham)&&a(h,"sham",!0),i(r,f,h,n)}}},47293:function(n){n.exports=function(n){try{return!!n()}catch(t){return!0}}},35005:function(n,t,r){var e=r(40857),o=r(17854),a=function(n){return"function"==typeof n?n:void 0};n.exports=function(n,t){return arguments.length<2?a(e[n])||a(o[n]):e[n]&&e[n][t]||o[n]&&o[n][t]}},17854:function(n,t,r){var e=function(n){return n&&n.Math==Math&&n};n.exports=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},86656:function(n){var t={}.hasOwnProperty;n.exports=function(n,r){return t.call(n,r)}},3501:function(n){n.exports={}},64664:function(n,t,r){var e=r(19781),o=r(47293),a=r(80317);n.exports=!e&&!o((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},68361:function(n,t,r){var e=r(47293),o=r(84326),a="".split;n.exports=e((function(){return!Object("z").propertyIsEnumerable(0)}))?function(n){return"String"==o(n)?a.call(n,""):Object(n)}:Object},42788:function(n,t,r){var e=r(5465),o=Function.toString;"function"!=typeof e.inspectSource&&(e.inspectSource=function(n){return o.call(n)}),n.exports=e.inspectSource},29909:function(n,t,r){var e,o,a,i=r(68536),u=r(17854),s=r(70111),c=r(68880),f=r(86656),l=r(5465),h=r(6200),p=r(3501),d=u.WeakMap;if(i){var v=l.state||(l.state=new d),g=v.get,m=v.has,y=v.set;e=function(n,t){return t.facade=n,y.call(v,n,t),t},o=function(n){return g.call(v,n)||{}},a=function(n){return m.call(v,n)}}else{var b=h("state");p[b]=!0,e=function(n,t){return t.facade=n,c(n,b,t),t},o=function(n){return f(n,b)?n[b]:{}},a=function(n){return f(n,b)}}n.exports={set:e,get:o,has:a,enforce:function(n){return a(n)?o(n):e(n,{})},getterFor:function(n){return function(t){var r;if(!s(t)||(r=o(t)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return r}}}},54705:function(n,t,r){var e=r(47293),o=/#|\.prototype\./,a=function(n,t){var r=u[i(n)];return r==c||r!=s&&("function"==typeof t?e(t):!!t)},i=a.normalize=function(n){return String(n).replace(o,".").toLowerCase()},u=a.data={},s=a.NATIVE="N",c=a.POLYFILL="P";n.exports=a},70111:function(n){n.exports=function(n){return"object"==typeof n?null!==n:"function"==typeof n}},31913:function(n){n.exports=!1},68536:function(n,t,r){var e=r(17854),o=r(42788),a=e.WeakMap;n.exports="function"==typeof a&&/native code/.test(o(a))},3070:function(n,t,r){var e=r(19781),o=r(64664),a=r(19670),i=r(57593),u=Object.defineProperty;t.f=e?u:function(n,t,r){if(a(n),t=i(t,!0),a(r),o)try{return u(n,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(n[t]=r.value),n}},31236:function(n,t,r){var e=r(19781),o=r(55296),a=r(79114),i=r(45656),u=r(57593),s=r(86656),c=r(64664),f=Object.getOwnPropertyDescriptor;t.f=e?f:function(n,t){if(n=i(n),t=u(t,!0),c)try{return f(n,t)}catch(r){}if(s(n,t))return a(!o.f.call(n,t),n[t])}},8006:function(n,t,r){var e=r(16324),o=r(80748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(n){return e(n,o)}},25181:function(n,t){t.f=Object.getOwnPropertySymbols},16324:function(n,t,r){var e=r(86656),o=r(45656),a=r(41318).indexOf,i=r(3501);n.exports=function(n,t){var r,u=o(n),s=0,c=[];for(r in u)!e(i,r)&&e(u,r)&&c.push(r);for(;t.length>s;)e(u,r=t[s++])&&(~a(c,r)||c.push(r));return c}},55296:function(n,t){"use strict";var r={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,o=e&&!r.call({1:2},1);t.f=o?function(n){var t=e(this,n);return!!t&&t.enumerable}:r},53887:function(n,t,r){var e=r(35005),o=r(8006),a=r(25181),i=r(19670);n.exports=e("Reflect","ownKeys")||function(n){var t=o.f(i(n)),r=a.f;return r?t.concat(r(n)):t}},40857:function(n,t,r){var e=r(17854);n.exports=e},31320:function(n,t,r){var e=r(17854),o=r(68880),a=r(86656),i=r(83505),u=r(42788),s=r(29909),c=s.get,f=s.enforce,l=String(String).split("String");(n.exports=function(n,t,r,u){var s,c=!!u&&!!u.unsafe,h=!!u&&!!u.enumerable,p=!!u&&!!u.noTargetGet;"function"==typeof r&&("string"!=typeof t||a(r,"name")||o(r,"name",t),(s=f(r)).source||(s.source=l.join("string"==typeof t?t:""))),n!==e?(c?!p&&n[t]&&(h=!0):delete n[t],h?n[t]=r:o(n,t,r)):h?n[t]=r:i(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||u(this)}))},84488:function(n){n.exports=function(n){if(null==n)throw TypeError("Can't call method on "+n);return n}},83505:function(n,t,r){var e=r(17854),o=r(68880);n.exports=function(n,t){try{o(e,n,t)}catch(r){e[n]=t}return t}},6200:function(n,t,r){var e=r(72309),o=r(69711),a=e("keys");n.exports=function(n){return a[n]||(a[n]=o(n))}},5465:function(n,t,r){var e=r(17854),o=r(83505),a="__core-js_shared__",i=e[a]||o(a,{});n.exports=i},72309:function(n,t,r){var e=r(31913),o=r(5465);(n.exports=function(n,t){return o[n]||(o[n]=void 0!==t?t:{})})("versions",[]).push({version:"3.10.1",mode:e?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},51400:function(n,t,r){var e=r(99958),o=Math.max,a=Math.min;n.exports=function(n,t){var r=e(n);return r<0?o(r+t,0):a(r,t)}},45656:function(n,t,r){var e=r(68361),o=r(84488);n.exports=function(n){return e(o(n))}},99958:function(n){var t=Math.ceil,r=Math.floor;n.exports=function(n){return isNaN(n=+n)?0:(n>0?r:t)(n)}},17466:function(n,t,r){var e=r(99958),o=Math.min;n.exports=function(n){return n>0?o(e(n),9007199254740991):0}},57593:function(n,t,r){var e=r(70111);n.exports=function(n,t){if(!e(n))return n;var r,o;if(t&&"function"==typeof(r=n.toString)&&!e(o=r.call(n)))return o;if("function"==typeof(r=n.valueOf)&&!e(o=r.call(n)))return o;if(!t&&"function"==typeof(r=n.toString)&&!e(o=r.call(n)))return o;throw TypeError("Can't convert object to primitive value")}},69711:function(n){var t=0,r=Math.random();n.exports=function(n){return"Symbol("+String(void 0===n?"":n)+")_"+(++t+r).toString(36)}},25438:function(n,t,r){var e=r(82109),o=Math.hypot,a=Math.abs,i=Math.sqrt;e({target:"Math",stat:!0,forced:!!o&&o(1/0,NaN)!==1/0},{hypot:function(n,t){for(var r,e,o=0,u=0,s=arguments.length,c=0;u<s;)c<(r=a(arguments[u++]))?(o=o*(e=c/r)*e+1,c=r):o+=r>0?(e=r/c)*e:r;return c===1/0?1/0:c*i(o)}})},75410:function(){},48628:function(){},75042:function(){}}]);
//# sourceMappingURL=804a75ff1e5afc3aba814d4ba261ef32caadb6d1-de093528c3a1ce15a995.js.map